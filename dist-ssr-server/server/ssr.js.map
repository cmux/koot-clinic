{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./logs/tmp/config/full.1577174853012.js","webpack:///./node_modules/history/lib/Actions.js","webpack:///./node_modules/history/lib/AsyncUtils.js","webpack:///./node_modules/history/lib/LocationUtils.js","webpack:///./node_modules/history/lib/PathUtils.js","webpack:///./node_modules/history/lib/createHistory.js","webpack:///./node_modules/history/lib/createMemoryHistory.js","webpack:///./node_modules/history/lib/runTransitionHook.js","webpack:///./node_modules/history/lib/useBasename.js","webpack:///./node_modules/history/lib/useQueries.js","webpack:///./node_modules/koot-redux/index.js","webpack:///./node_modules/koot-redux/lib/action.middleware.js","webpack:///./node_modules/koot-redux/lib/createReduxModuleStore.js","webpack:///./node_modules/koot-redux/lib/index.js","webpack:///./node_modules/koot-redux/lib/kootCreateReduxModuleStore.js","webpack:///./node_modules/koot-redux/lib/redux-module.js","webpack:///./node_modules/koot-redux/lib/utils.js","webpack:///./node_modules/koot/React/client-session-store.js","webpack:///./node_modules/koot/React/client-update-page-info.js","webpack:///./node_modules/koot/React/component-extender.js","webpack:///./node_modules/koot/React/get-render-props.js","webpack:///./node_modules/koot/React/history.js","webpack:///./node_modules/koot/React/inject/_cache-keys.js","webpack:///./node_modules/koot/React/inject/htmlLang.js","webpack:///./node_modules/koot/React/inject/is-need-inject-critical.js","webpack:///./node_modules/koot/React/inject/metas.js","webpack:///./node_modules/koot/React/inject/scripts.js","webpack:///./node_modules/koot/React/inject/styles.js","webpack:///./node_modules/koot/React/is-render-safe.js","webpack:///./node_modules/koot/React/realtime-location/actionType.js","webpack:///./node_modules/koot/React/realtime-location/actions.js","webpack:///./node_modules/koot/React/realtime-location/api.js","webpack:///./node_modules/koot/React/realtime-location/index.js","webpack:///./node_modules/koot/React/realtime-location/reducer.js","webpack:///./node_modules/koot/React/redux.js","webpack:///./node_modules/koot/React/redux/reset-store.js","webpack:///./node_modules/koot/React/render-template.js","webpack:///./node_modules/koot/React/route-check.js","webpack:///./node_modules/koot/React/styles.js","webpack:///./node_modules/koot/React/validate-inject.js","webpack:///./node_modules/koot/React/validate/redux-config.js","webpack:///./node_modules/koot/React/validate/router-config.js","webpack:///./node_modules/koot/ReactApp/action-types.js","webpack:///./node_modules/koot/ReactApp/server/middlewares/isomorphic/execute-components-lifecycle.js","webpack:///./node_modules/koot/ReactApp/server/middlewares/isomorphic/init-store.js","webpack:///./node_modules/koot/ReactApp/server/middlewares/isomorphic/lifecycle/after-data-to-store.js","webpack:///./node_modules/koot/ReactApp/server/middlewares/isomorphic/lifecycle/before-data-to-store.js","webpack:///./node_modules/koot/ReactApp/server/middlewares/isomorphic/lifecycle/before-pre-render.js","webpack:///./node_modules/koot/ReactApp/server/middlewares/isomorphic/lifecycle/before-router-match.js","webpack:///./node_modules/koot/ReactApp/server/redux.js","webpack:///./node_modules/koot/ReactApp/server/root-isomorphic.jsx","webpack:///./node_modules/koot/ReactApp/server/ssr.js","webpack:///./node_modules/koot/defaults/before-build.js","webpack:///./node_modules/koot/defaults/defines-server.js","webpack:///./node_modules/koot/defaults/defines.js","webpack:///./node_modules/koot/defaults/dev-request-uri.js","webpack:///./node_modules/koot/defaults/entrypoints.js","webpack:///./node_modules/koot/defaults/webpack-dev-server.js","webpack:///./node_modules/koot/i18n/action-types.js","webpack:///./node_modules/koot/i18n/get-language-list-from-state.js","webpack:///./node_modules/koot/i18n/get-locales-config.js","webpack:///./node_modules/koot/i18n/get-type.js","webpack:///./node_modules/koot/i18n/is-enabled.js","webpack:///./node_modules/koot/i18n/locale-ids.js","webpack:///./node_modules/koot/i18n/locales.js","webpack:///./node_modules/koot/i18n/onServerRender/index.js","webpack:///./node_modules/koot/i18n/parse-language-list.js","webpack:///./node_modules/koot/i18n/parse-locale-id.js","webpack:///./node_modules/koot/i18n/redux/index.js","webpack:///./node_modules/koot/i18n/server/generate-html-redirect-metas.js","webpack:///./node_modules/koot/i18n/server/get-lang-from-ctx.js","webpack:///./node_modules/koot/i18n/server/get-ssr-state.js","webpack:///./node_modules/koot/i18n/server/use-router-redirect.js","webpack:///./node_modules/koot/i18n/set-cookie.js","webpack:///./node_modules/koot/i18n/translate.js","webpack:///./node_modules/koot/i18n/validte-routes.js","webpack:///./node_modules/koot/index.js","webpack:///./node_modules/koot/libs/error-msg.js","webpack:///./node_modules/koot/libs/filter-state.js","webpack:///./node_modules/koot/libs/get-dir-dev-tmp.js","webpack:///./node_modules/koot/libs/get-dir-dist-public-foldername.js","webpack:///./node_modules/koot/libs/get-dir-dist-public.js","webpack:///./node_modules/koot/libs/get-log-msg.js","webpack:///./node_modules/koot/libs/get-ssr-state-string.js","webpack:///./node_modules/koot/libs/log.js","webpack:///./node_modules/koot/utils/generate-filemap-from-compilation.js","webpack:///./node_modules/koot/utils/get-chunkmap-path.js","webpack:///./node_modules/koot/utils/get-chunkmap.js","webpack:///./node_modules/koot/utils/get-client-file-path.js","webpack:///./node_modules/koot/utils/get-cwd.js","webpack:///./node_modules/koot/utils/get-dist-path.js","webpack:///./node_modules/koot/utils/get-port.js","webpack:///./node_modules/koot/utils/get-public-dir.js","webpack:///./node_modules/koot/utils/get-webpack-dev-server-port.js","webpack:///./node_modules/koot/utils/read-client-file.js","webpack:///./node_modules/lodash/_Hash.js","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_Map.js","webpack:///./node_modules/lodash/_MapCache.js","webpack:///./node_modules/lodash/_Stack.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/_Uint8Array.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/lodash/_arrayLikeKeys.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_assignMergeValue.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/lodash/_baseIsNative.js","webpack:///./node_modules/lodash/_baseIsTypedArray.js","webpack:///./node_modules/lodash/_baseKeysIn.js","webpack:///./node_modules/lodash/_baseMerge.js","webpack:///./node_modules/lodash/_baseMergeDeep.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/_baseSetToString.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///./node_modules/lodash/_baseToString.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/_cloneArrayBuffer.js","webpack:///./node_modules/lodash/_cloneBuffer.js","webpack:///./node_modules/lodash/_cloneTypedArray.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/lodash/_coreJsData.js","webpack:///./node_modules/lodash/_createAssigner.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/_getMapData.js","webpack:///./node_modules/lodash/_getNative.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_hashClear.js","webpack:///./node_modules/lodash/_hashDelete.js","webpack:///./node_modules/lodash/_hashGet.js","webpack:///./node_modules/lodash/_hashHas.js","webpack:///./node_modules/lodash/_hashSet.js","webpack:///./node_modules/lodash/_initCloneObject.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/lodash/_isIterateeCall.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_isKeyable.js","webpack:///./node_modules/lodash/_isMasked.js","webpack:///./node_modules/lodash/_isPrototype.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_mapCacheClear.js","webpack:///./node_modules/lodash/_mapCacheDelete.js","webpack:///./node_modules/lodash/_mapCacheGet.js","webpack:///./node_modules/lodash/_mapCacheHas.js","webpack:///./node_modules/lodash/_mapCacheSet.js","webpack:///./node_modules/lodash/_memoizeCapped.js","webpack:///./node_modules/lodash/_nativeCreate.js","webpack:///./node_modules/lodash/_nativeKeysIn.js","webpack:///./node_modules/lodash/_nodeUtil.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/_safeGet.js","webpack:///./node_modules/lodash/_setToString.js","webpack:///./node_modules/lodash/_shortOut.js","webpack:///./node_modules/lodash/_stackClear.js","webpack:///./node_modules/lodash/_stackDelete.js","webpack:///./node_modules/lodash/_stackGet.js","webpack:///./node_modules/lodash/_stackHas.js","webpack:///./node_modules/lodash/_stackSet.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/_toKey.js","webpack:///./node_modules/lodash/_toSource.js","webpack:///./node_modules/lodash/constant.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/get.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/isPlainObject.js","webpack:///./node_modules/lodash/isSymbol.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./node_modules/lodash/keysIn.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/merge.js","webpack:///./node_modules/lodash/set.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/toPlainObject.js","webpack:///./node_modules/lodash/toString.js","webpack:///./node_modules/react-router/lib/AsyncUtils.js","webpack:///./node_modules/react-router/lib/ContextUtils.js","webpack:///./node_modules/react-router/lib/PatternUtils.js","webpack:///./node_modules/react-router/lib/PromiseUtils.js","webpack:///./node_modules/react-router/lib/RouteUtils.js","webpack:///./node_modules/react-router/lib/RouterContext.js","webpack:///./node_modules/react-router/lib/RouterUtils.js","webpack:///./node_modules/react-router/lib/TransitionUtils.js","webpack:///./node_modules/react-router/lib/computeChangedRoutes.js","webpack:///./node_modules/react-router/lib/createMemoryHistory.js","webpack:///./node_modules/react-router/lib/createTransitionManager.js","webpack:///./node_modules/react-router/lib/getComponents.js","webpack:///./node_modules/react-router/lib/getRouteParams.js","webpack:///./node_modules/react-router/lib/isActive.js","webpack:///./node_modules/react-router/lib/match.js","webpack:///./node_modules/react-router/lib/matchRoutes.js","webpack:///./node_modules/react-router/lib/routerWarning.js","webpack:///./node_modules/react-router/lib/useRouterHistory.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///(webpack)/buildin/module.js","webpack:///./src-api-server/config.js","webpack:///./src/apis/history.ts","webpack:///./src/apis/result.ts","webpack:///./src/assets/logo.svg","webpack:///./src/components/center/index.jsx","webpack:///./src/components/center/index.module.less","webpack:///./src/components/icon/index.jsx","webpack:///./src/components/icon/index.module.less","webpack:///./src/components/loaders/spinner/index.jsx","webpack:///./src/components/loaders/spinner/index.module.less","webpack:///./src/components/markdown/index.module.less","webpack:///./src/components/markdown/index.tsx","webpack:///./src/constants/actions.ts","webpack:///./src/constants/app.ts","webpack:///./src/index.inject.js","webpack:///./src/routes/index.js","webpack:///./src/server/before.ts","webpack:///./src/store/index.js","webpack:///./src/store/modules/history.js","webpack:///./src/store/modules/result.js","webpack:///./src/utils/client/scroll-to.ts","webpack:///./src/utils/get-api.ts","webpack:///./src/utils/get-description.ts","webpack:///./src/utils/get-time-diff.ts","webpack:///./src/utils/get-title.ts","webpack:///./src/utils/request.ts","webpack:///./src/views/app.module.less","webpack:///./src/views/app.tsx","webpack:///./src/views/result/aside/index.module.less","webpack:///./src/views/result/aside/index.tsx","webpack:///./src/views/result/index.module.less","webpack:///./src/views/result/index.tsx","webpack:///./src/views/result/main/empty/index.module.less","webpack:///./src/views/result/main/empty/index.tsx","webpack:///./src/views/result/main/history/index.module.less","webpack:///./src/views/result/main/history/index.tsx","webpack:///./src/views/result/main/index.module.less","webpack:///./src/views/result/main/index.tsx","webpack:///./src/views/result/main/psi/audits.module.less","webpack:///./src/views/result/main/psi/audits.tsx","webpack:///./src/views/result/main/psi/category.tsx","webpack:///./src/views/result/main/psi/index.module.less","webpack:///./src/views/result/main/psi/index.tsx","webpack:///./src/views/result/main/psi/switch.tsx","webpack:///./src/views/result/main/table/index.module.less","webpack:///./src/views/result/main/table/index.tsx","webpack:///./src/views/submit/form.tsx","webpack:///./src/views/submit/index.module.less","webpack:///./src/views/submit/index.tsx","webpack:///./src/views/submit/overlay.tsx","webpack:///external \"axios\"","webpack:///external \"bind-event\"","webpack:///external \"chalk\"","webpack:///external \"classnames\"","webpack:///external \"create-react-class\"","webpack:///external \"ejs\"","webpack:///external \"filesize\"","webpack:///external \"fs-extra\"","webpack:///external \"hoist-non-react-statics\"","webpack:///external \"invariant\"","webpack:///external \"is-url\"","webpack:///external \"koa\"","webpack:///external \"koa-better-http-proxy\"","webpack:///external \"koa-mount\"","webpack:///external \"marked\"","webpack:///external \"md5\"","webpack:///external \"path\"","webpack:///external \"pretty-ms\"","webpack:///external \"prop-types\"","webpack:///external \"query-string\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-is\"","webpack:///external \"react-redux\"","webpack:///external \"react-router\"","webpack:///external \"react-router-redux\"","webpack:///external \"redux\"","webpack:///external \"redux-thunk\"","webpack:///external \"warning\""],"names":["name","type","template","router","require","default","redux","client","server","__SERVER__","exports","__esModule","PUSH","REPLACE","POP","loopAsync","turns","work","callback","currentTurn","isDone","isSync","hasNext","doneArgs","done","_len","arguments","length","args","Array","_key","apply","undefined","next","locationsAreEqual","statesAreEqual","createLocation","createQuery","_typeof","Symbol","iterator","obj","constructor","prototype","_extends","Object","assign","target","i","source","key","hasOwnProperty","call","_invariant","_invariant2","_interopRequireDefault","_warning","_warning2","_PathUtils","_Actions","props","create","input","action","object","parsePath","process","path","pathname","search","hash","state","isDate","toString","a","b","typeofA","typeofB","isArray","keysofA","keys","keysofB","every","item","index","createPath","getQueryStringValueFromPath","stripQueryStringValueFromPath","addQueryStringValueToPath","value","_parsePath","indexOf","_parsePath2","replace","RegExp","match","prefix","suffix","_parsePath3","extractPath","string","substring","hashIndex","searchIndex","location","basename","_AsyncUtils","_runTransitionHook","_runTransitionHook2","_LocationUtils","createHistory","options","getCurrentLocation","getUserConfirmation","pushLocation","replaceLocation","go","keyLength","currentLocation","pendingLocation","beforeListeners","listeners","allKeys","getCurrentIndex","updateLocation","nextLocation","currentIndex","concat","slice","forEach","listener","listenBefore","push","filter","listen","confirmTransitionTo","result","message","ok","transitionTo","prevPath","nextPath","prevIndex","nextIndex","goBack","goForward","createKey","Math","random","substr","createHref","_createHistory","_createHistory2","createStateStorage","entries","entry","reduce","memo","createMemoryHistory","current","readState","init","canGo","n","history","splice","saveState","_options","map","storage","runTransitionHook","hook","useBasename","addBasename","toLowerCase","prependBasename","pname","normalizedBasename","normalizedPathname","charAt","_queryString","defaultStringifyQuery","query","stringify","defaultParseQueryString","parse","useQueries","stringifyQuery","parseQueryString","decodeQuery","encodeQuery","queryString","newLocation","commitHandler","payload","isString","isObject","Error","createActionMiddleware","moduleInstance","actionMiddleware","api","getState","dispatch","actions","getActionsByAction","promiseArray","actionFn","moduleState","commitAPI","rootState","commit","res","Promise","resolve","all","createReduxModuleStore","module","preloadedState","enhancer","ReduxModule","rootReducer","createReducer","reduxModuleEnhancer","applyMiddleware","compose","store","createStore","kootCreateReduxModuleStore","reduxForCreateStore","reducers","middlewares","moduleName","modules","__module__","__moduleName","__reducers","__state","__initState","__actions","__modules","__children","__external_reducers","getExternalModuleReducers","initState","itemKey","moduleItem","preloadedStateItem","isFunction","reducer","externalReducers","finalState","currentState","getDataByPath","resultState","resultModuleState","setDataByPath","childrenModuleNames","reducerHandler","moduleStateResult","childrenFinalState","childrenModuleName","childrenModuleItem","externalStateResult","currentExternalReducerHandler","typeOf","data","p","reference","configSessionStore","JSON","able","window","sessionStorage","Boolean","save","filterState","Store","accumulatedKey","currentAccumulatedKey","get","set","setItem","sessionStoreKey","addEventHandlerOnPageUnload","addEventListener","load","getItem","injectedMetaTags","nodeCommentEnd","inited","infoToChange","title","metas","changeTimeout","setTimeout","doUpdate","document","head","getElementsByTagName","getInjectedMetaTags","el","removeChild","parentNode","meta","createElement","setAttribute","insertBefore","appendChild","childNodes","meetStart","meetEnd","Node","node","nodeType","COMMENT_NODE","nodeValue","__KOOT_INJECT_METAS_START__","__KOOT_INJECT_METAS_END__","ELEMENT_NODE","tagName","markInited","everMounted","styleMap","devSSRConnectIndex","doFetchData","renderProps","dataFetch","isRenderSafe","doPageinfo","pageinfo","defaultPageInfo","infos","localeId","some","content","WrappedComponent","connect","_connect","_dataFetch","fetch","dataCheck","check","dataResetWhenUnmount","resetWhenUnmount","_styles","styles","ssr","wrapper","hasStyles","hasPageinfo","KootReactComponent","to","getStore","getRenderPropsFromComponentProps","clientUpdatePageInfo","loaded","SSR","__DEV__","global","__KOOT_SSR__","needConnectComponents","connectedComponents","unshift","KootComponent","kootClassNames","appendStyle","getStyleMap","prevProps","mounted","then","setState","removeStyle","RESET_CERTAIN_STATE","__CLIENT__","className","join","trim","updatePageinfo","bind","React","Component","getRenderPropsFromServerProps","onServerRenderStoreExtend","hoistStatics","fromServerProps","serverProps","fromComponentProps","componentProps","kootUseBasename","historyClient","scriptsRunFirst","scriptsInBody","uriServiceWorker","test","scripts","fs","dll","metaHtml","r","getDevExtra","fileDllClient","env","KOOT_DEV_DLL_FILE_CLIENT","existsSync","chunkNameClientRunFirst","scriptTagEntryAttributeName","thresholdScriptRunFirst","defaultEntrypoints","readClientFile","getClientFilePath","getSSRStateString","needInjectCritical","injectCache","entrypoints","reduxHtml","SSRState","compilation","ENV","isDev","filename","combineFilePaths","scriptTagsFromContent","critical","file","extname","pwaAuto","pathnames","chunkNameExtractCss","chunkNameExtractCssForImport","styleTagGlobalAttributeName","thresholdStylesExtracted","stylesHtml","getExtracted","LOCATION_UPDATE","update","REALTIME_LOCATION_REDUCER_NAME","initialState","routing","routerReducer","realtimeLocationReducer","SERVER_REDUCER_NAME","serverReducer","isI18nEnabled","i18nReducerLocaleId","thunk","routerMiddleware","appReducer","appMiddlewares","appEnhancers","projectReducer","kootReducer","reduxCombineReducers","sliceStateForReducers","appState","kootState","reduxCreateStore","reduxCompose","reduxApplyMiddleware","keysForKootReducer","includes","resetStore","keysToPreserve","defaultKeysToPreserve","ejs","DEFAULT_TEMPLATE","inject","ctx","e","console","log","render","nextState","isAlwaysTrue","__SPA__","curr","checkAndWriteIntoHead","style","querySelector","__STYLE_TAG_MODULE_ATTR_NAME__","count","css","styleTag","innerHTML","remove","append","theStyle","injectHtmlLang","injectMetas","injectStyles","injectScripts","filemap","reactHtml","htmlLang","react","validateReduxConfig","kootConfigRedux","syncCookie","reduxConfig","combineReducers","theReducers","defaultReducers","reducerName","factoryStore","validateRouterConfig","kootConfigRouter","config","errorMsg","childRoutes","routes","handleIndexRoute","i18nValidateRoutes","route","child","isIndex","indexRoute","CHANGE_LANGUAGE","GET_ORIGIN_URL","TELL_CLIENT_URL","SYNC_COOKIE","LIFECYCLE_DATA_TO_STORE","LIFECYCLE_HTML_EXTEND","executeComponentLifecycle","tasks","extendHtmlTasks","extractDataToStoreTask","component","thisTask","extracHtmlExtendTask","task","thisTitle","thisMetas","hasTitle","hasMeta","initStore","afterDataToStore","beforeDataToStore","beforePreRender","beforeRouterMatch","needRedirect","i18nUseRouterRedirect","originTrue","cookies","headers","cookie","theCookies","split","str","crumbs","values","c","lang","origin","Root","LocaleId","__KOOT_LOCALEID__","url","kootConfig","reduxConfigRaw","historyConfig","memoryHistory","useRouterHistory","History","syncHistoryWithStore","__KOOT_SSR_SET_STORE__","__KOOT_SSR_SET_HISTORY__","__KOOT_SSR_SET_CTX__","resetHistory","i18nEnabled","thisTemplateInjectCache","thisEntrypoints","thisFilemap","templateInject","proxyRequestOrigin","ssrComplete","protocol","hrefTrue","href","initConfig","lifecycle","routerConfig","i18nOnServerRender","reject","error","redirectLocation","redirect","currentPathname","locationBeforeTransitions","renderToString","clearStore","executeComponentsLifecycle","id","validateInject","i18nGetSSRState","isNeedInjectCritical","i18nGenerateHtmlRedirectMetas","body","renderTemplate","serverConfig","onRender","catch","err","keyFileProjectConfigTempFull","keyFileProjectConfigTempPortionServer","keyFileProjectConfigTempPortionClient","keyFileProjectConfigTempPortionOtherClient","keyKootBaseVersion","dirConfigTemp","filenameProjectConfigTempFull","filenameProjectConfigTempPortionServer","filenameProjectConfigTempPortionClient","filenameProjectConfigTempPortionOtherClient","propertiesToExtract","typesSPA","keyConfigBuildDll","filenameDll","filenameDllManifest","dirDll","keyConfigQuiet","keyConfigOutputPathShouldBe","keyConfigWebpackSPATemplateInject","keyConfigClientAssetsPublicPath","keyConfigClientServiceWorkerPathname","WEBPACK_OUTPUT_PATH","CLIENT_ROOT_PATH","filenameWebpackDevServerPortTemp","filenameBuilding","filenameBuildFail","filenameSPATemplateInjectJS","filenameCurrentBundle","styleTagModuleAttributeName","__KOOT_INJECT_ATTRIBUTE_NAME__","changeLocaleQueryKey","serviceWorker","encodeURIComponent","publicPathPrefix","entryClientHMR","serviceWorkerFilename","hmrOptions","I18N_INIT","I18N_SET_LOCALES","getLanguagelistFromState","fb_locale","locales","getLocalesConfig","l","__devLocales","getLocalesObject","setLocales","newLocales","actionInit","langList","checkItem","availableLocaleIds","_localeId","parseSeg","seg","parseLocaleId","parseLanguageList","thisId","navigator","languages","language","browserLanguage","systemLanguage","userLanguage","reducerLocaleId","parsed","generateHtmlRedirectMetas","isUseRouter","html","thisLocaleId","thisHref","querystring","getLangFromCtx","cookieValue","header","setLocale","setCookie","getSSRState","useRouterRedirect","newpath","maxDate","KOOT_I18N_COOKIE_DOMAIN","domain","translate","hasUnmatched","validateRoutes","_reduxForCreateStore","getLocaleId","resetLocaleId","__KOOT_STORE__","getHistory","__KOOT_HISTORY__","getCache","cache","globalCache","getCtx","__KOOT_CTX__","msg","itemsBlacklist","oldState","_","rest","getCwd","cwd","getDirDistPublicFoldername","dist","bundleVersionsKeep","base","chalk","generateLogMsg","mark","markColor","typeColor","dirRelative","stats","getStats","o","chunks","files","getDistPath","getDirDevTmp","getIsI18nEnabled","getI18nType","getChunkmapPath","cachedChunkmap","getChunkmap","getFullResult","i18nType","isI18nDefault","chunkmap","readJsonSync","WEBPACK_BUILD_STAGE","getPublicPath","getFilePath","isPathname","pathPublic","regPublicPath","getResultPathname","warn","KOOT_CWD","KOOT_DIST_DIR","parent","port","defaultPort","SERVER_PORT","__SERVER_PORT__","getWDSport","koaCtxOrigin","isUrl","generateFilemap","getPort","getDirDistPublic","assets","asset","_value","_cachedSource","results","readFileSync","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","clear","has","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","getNative","root","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","__data__","size","Uint8Array","func","thisArg","baseTimes","isArguments","isBuffer","isTypedArray","objectProto","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","arrayMap","array","iteratee","baseAssignValue","eq","assignMergeValue","assignValue","objValue","assocIndexOf","defineProperty","objectCreate","baseCreate","proto","createBaseFor","baseFor","castPath","toKey","baseGet","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","toStringTag","baseGetTag","isObjectLike","argsTag","baseIsArguments","isMasked","toSource","reRegExpChar","reIsHostCtor","funcProto","Function","funcToString","reIsNative","baseIsNative","pattern","isLength","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","isPrototype","nativeKeysIn","baseKeysIn","isProto","baseMergeDeep","keysIn","safeGet","baseMerge","srcIndex","customizer","stack","srcValue","newValue","cloneBuffer","cloneTypedArray","copyArray","initCloneObject","isArrayLikeObject","isPlainObject","toPlainObject","mergeFunc","stacked","isCommon","isTyped","identity","overRest","setToString","baseRest","start","baseSet","lastIndex","nested","constant","baseSetToString","isSymbol","INFINITY","symbolProto","symbolToString","baseToString","baseUnary","isKey","stringToPath","cloneArrayBuffer","arrayBuffer","byteLength","freeExports","freeModule","moduleExports","Buffer","allocUnsafe","buffer","isDeep","copy","typedArray","byteOffset","copyObject","isNew","coreJsData","isIterateeCall","createAssigner","assigner","sources","guard","fromRight","keysFunc","iterable","freeGlobal","isKeyable","getMapData","getValue","overArg","getPrototype","getPrototypeOf","nativeObjectToString","isOwn","tag","unmasked","nativeCreate","HASH_UNDEFINED","MAX_SAFE_INTEGER","reIsUint","isArrayLike","reIsDeepProp","reIsPlainProp","maskSrcKey","uid","exec","IE_PROTO","Ctor","arrayProto","pop","memoize","MAX_MEMOIZE_SIZE","memoizeCapped","freeProcess","nodeUtil","types","binding","transform","arg","nativeMax","max","otherArgs","freeSelf","self","shortOut","HOT_COUNT","HOT_SPAN","nativeNow","Date","now","lastCalled","stamp","remaining","LARGE_ARRAY_SIZE","pairs","rePropName","reEscapeChar","charCodeAt","number","quote","subString","other","defaultValue","propertyIsEnumerable","stubFalse","nativeIsBuffer","asyncTag","genTag","proxyTag","objectCtorString","symbolTag","nodeIsTypedArray","FUNC_ERROR_TEXT","resolver","TypeError","memoized","Cache","merge","mapAsync","sync","doneCount","ContextProvider","ContextSubscriber","_react","_react2","_propTypes","_propTypes2","contextProviderShape","shape","subscribe","isRequired","eventIndex","makeContextName","prefixUnsafeLifecycleMethods","forwardRef","_childContextTypes","_config","contextName","listenersKey","eventIndexKey","subscribeKey","childContextTypes","getChildContext","_ref","componentWillMount","componentWillReceiveProps","componentDidUpdate","_this","_this2","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","_contextTypes","_config2","lastRenderedEventIndexKey","handleContextUpdateKey","unsubscribeKey","contextTypes","getInitialState","_ref2","context","componentDidMount","_setState","componentWillUnmount","_setState2","compilePattern","matchPattern","getParamNames","getParams","formatPattern","escapeRegExp","_compilePattern","regexpSource","paramNames","tokens","matcher","CompiledPatternsCache","_compilePattern2","matchedPath","remainingPathname","paramValues","v","decodeURIComponent","params","paramName","_compilePattern3","parenCount","splatIndex","parenHistory","token","paramValue","len","splat","encodeURI","parenText","curTokenIdx","tokensSubset","nextParenIdx","_i","isPromise","isReactChildren","createRouteFromReactElement","createRoutesFromReactChildren","createRoutes","isValidChild","isValidElement","createRoute","defaultProps","element","children","parentRoute","Children","_reactIs","_createReactClass","_createReactClass2","_getRouteParams","_getRouteParams2","_ContextUtils","_RouteUtils","RouterContext","displayName","mixins","propTypes","components","getDefaultProps","_props","reduceRight","routeParams","prop","isValidElementType","elements","createRouterObject","assignRouterState","transitionManager","setRouteLeaveHook","listenBeforeLeavingRoute","isActive","getTransitionUtils","_classCallCheck","instance","Constructor","PendingHooks","hooks","add","h","enterHooks","changeHooks","createTransitionHook","asyncArity","pendingHooks","transitionHook","getEnterHooks","onEnter","getChangeHooks","onChange","runTransitionHooks","iter","redirectInfo","runEnterHooks","wrappedNext","runChangeHooks","runLeaveHooks","prevState","onLeave","_PatternUtils","routeParamsChanged","computeChangedRoutes","prevRoutes","nextRoutes","leaveRoutes","changeRoutes","enterRoutes","parentIsLeaving","isLeaving","reverse","paramsChanged","_useQueries","_useQueries2","_useBasename","_useBasename2","_createMemoryHistory","_createMemoryHistory2","createTransitionManager","_routerWarning","_routerWarning2","_computeChangedRoutes2","_computeChangedRoutes3","_TransitionUtils","_TransitionUtils2","_isActive2","_isActive3","_getComponents","_getComponents2","_matchRoutes","_matchRoutes2","hasAnyProperties","_getTransitionUtils","indexOnly","partialNextState","finishMatch","_computeChangedRoutes","removeListenBeforeHooksForRoute","handleErrorOrRedirect","finishEnterHooks","RouteGuid","getRouteID","__id__","RouteHooks","getRouteHooksForRoutes","beforeUnloadHook","unlistenBefore","unlistenBeforeUnload","routeID","thereWereNoRouteHooks","listenBeforeUnload","historyListener","unsubscribe","_PromiseUtils","getComponentsForRoute","getComponent","getComponents","componentReturn","getRouteParams","deepEqual","pathIsActive","routeIsActive","matched","queryIsActive","activeQuery","_createTransitionManager","_createTransitionManager2","_RouterUtils","_objectWithoutProperties","matchContext","matchRoutes","getChildRoutes","createParams","childRoutesReturn","getIndexRoute","indexRoutesReturn","onChildRoutes","pathless","childRoute","assignParams","matchRouteDeep","_match$routes","routerWarning","_resetWarned","warned","falseToWarn","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","fn","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","method","isGeneratorFunction","genFun","ctor","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","invoke","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iteratorMethod","isNaN","skipTempReset","prev","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","webpackPolyfill","deprecate","paths","enumerable","__dirname","sql_config","page_speed_api_key","KOOT_CLINIC_API_SERVER_PORT","dirResults","autoTaskTime","revertTaskTime","request","resultId","Center","extend","Icon","icon","Spinner","s","parseInt","width","height","Markdown","createRef","ContainerRef","links","querySelectorAll","__html","marked","PureComponent","FETCH_RESULT","FETCH_HISTORY","repo","performanceInfos","toISOString","svgIconPack","__SVG_ICON_PACK__","resultLoading","icons","App","ViewSubmit","cb","routeCheck","app","proxyApiServer","Koa","use","koaBetterHttpProxy","apiServerPort","koaMount","resultModule","historyModule","reducerUpdateByOrigin","list","reducerUpdateById","getResult","scrollTo","YorElement","offset","y","Element","rect","getBoundingClientRect","top","pageYOffset","doScroll","scroll","left","behavior","doScrollFallback","getApi","uri","description","_des","__","getTimeDiff","timestamp","t","diff","valueOf","seconds","second","floor","minutes","minute","ceil","hours","hour","days","day","pageTitle","__NAME__","config2","axios","status","statusText","response","menuCheckboxId","md5","Aside","nextScheduledTimestamp","latestResultId","sort","clinic","createTime","everyQueryKey","Site","classNameModule","backgroundImage","Options","Option","Link","IndexLink","link","tabs","classNames","Remaining","getRemaining","countdown","setInterval","clearInterval","prettyMs","secondsDecimalDigits","unitCount","PhoneViewController","renderMask","labelOnClick","maskOnTransitionEnd","CheckboxRef","checked","evt","nativeEvent","propertyName","parseFloat","getComputedStyle","currentTarget","opacity","getIdFromProps","dispatchFetchResult","ViewResult","getTitle","getDescription","loading","prevId","newId","loader","bindEvent","classList","tab","Empty","text","currentId","Item","errors","sum","currentErrorArr","HeaderRef","Main","useRef","isHistory","currentTabArr","currentType","isPsi","timediff","psi","Tab","activeClassName","Audits","group","audits","audit","Audit","showDetails","details","warnings","hasDetails","hasWarnings","detailsType","items","headings","toggleDetails","blur","DetailsToggleRef","score","displayValue","getGradeFromScore","DetailsTable","label","valueType","itemType","filesize","Body","category","BodyRefs","grade","ref","lighthouseResult","categories","categoryGroups","auditRefs","auditGroups","auditGroupsSorted","weight","thisAudit","scoreDisplayMode","g","SwitchContainerRef","containerEl","headerEl","switchContainerEl","toY","paddingTop","offsetHeight","marginTop","doScrollTo","scrollToCategory","bodyEl","Psi","allCategories","loadingExperience","overall_category","Switch","onClick","isScoreNumber","getColumns","Table","column","getContent","contentLength","main","columns","Form","onSubmit","moduleClassName","inputClassName","Input","submitting","preventDefault","$form","getAttribute","FormData","axiosConfig","hasResult","isSubmittingOrHasResult","Overlay"],"mappings":";QAAA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;QACA;QACA,cAAc;QACd,IAAI;QACJ;;;QAGA;QACA;;;;;;;;;;;;;ACrGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,IAAMA,IAAI,GAAG,aAAb;AACA,IAAMC,IAAI,GAAG,OAAb;AACA,IAAMC,QAAQ,GAAG,iBAAjB;AACA,IAAMC,MAAM,GAAGC,mBAAO,CAAC,kDAAD,CAAP,CAA+BC,OAA9C;AACA,IAAMC,KAAK,GAAG;AAAC,WAAQF,mBAAO,CAAC,gDAAD,CAAP,CAA8BC,OAAvC;AAA+C,gBAAa;AAA5D,CAAd;AACA,IAAME,MAAM,GAAG,EAAf;AACA,IAAMC,MAAM,GAAGC,KAAU,GAAG;AAAC,iBAAc,KAAf;AAAqB,wBAAqB;AAAC,gBAAW;AAAZ,GAA1C;AAA8D,YAASL,mBAAO,CAAC,2DAAD,CAAP,CAAwCC,OAA/G;AAAuH,YAASD,mBAAO,CAAC,0DAAD,CAAP,CAAsCC;AAAtK,CAAH,GAAoL,SAA7M,C;;;;;;;;;;;;ACRM;;AAEbK,OAAO,CAACC,UAAR,GAAqB,IAArB;AACA;;;;AAGA,IAAIC,IAAI,GAAGF,OAAO,CAACE,IAAR,GAAe,MAA1B;AAEA;;;;AAGA,IAAIC,OAAO,GAAGH,OAAO,CAACG,OAAR,GAAkB,SAAhC;AAEA;;;;;;;;;AAQA,IAAIC,GAAG,GAAGJ,OAAO,CAACI,GAAR,GAAc,KAAxB,C;;;;;;;;;;;;ACrBa;;AAEbJ,OAAO,CAACC,UAAR,GAAqB,IAArB;;AACA,IAAII,SAAS,GAAGL,OAAO,CAACK,SAAR,GAAoB,SAASA,SAAT,CAAmBC,KAAnB,EAA0BC,IAA1B,EAAgCC,QAAhC,EAA0C;AAC5E,MAAIC,WAAW,GAAG,CAAlB;AAAA,MACIC,MAAM,GAAG,KADb;AAEA,MAAIC,MAAM,GAAG,KAAb;AAAA,MACIC,OAAO,GAAG,KADd;AAAA,MAEIC,QAAQ,GAAG,KAAK,CAFpB;;AAIA,MAAIC,IAAI,GAAG,SAASA,IAAT,GAAgB;AACzB,SAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAGC,KAAK,CAACJ,IAAD,CAAzC,EAAiDK,IAAI,GAAG,CAA7D,EAAgEA,IAAI,GAAGL,IAAvE,EAA6EK,IAAI,EAAjF,EAAqF;AACnFF,UAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACD;;AAEDV,UAAM,GAAG,IAAT;;AAEA,QAAIC,MAAJ,EAAY;AACV;AACAE,cAAQ,GAAGK,IAAX;AACA;AACD;;AAEDV,YAAQ,CAACa,KAAT,CAAeC,SAAf,EAA0BJ,IAA1B;AACD,GAdD;;AAgBA,MAAIK,IAAI,GAAG,SAASA,IAAT,GAAgB;AACzB,QAAIb,MAAJ,EAAY;AAEZE,WAAO,GAAG,IAAV;AAEA,QAAID,MAAJ,EAAY,OALa,CAKL;;AAEpBA,UAAM,GAAG,IAAT;;AAEA,WAAO,CAACD,MAAD,IAAWD,WAAW,GAAGH,KAAzB,IAAkCM,OAAzC,EAAkD;AAChDA,aAAO,GAAG,KAAV;AACAL,UAAI,CAACE,WAAW,EAAZ,EAAgBc,IAAhB,EAAsBT,IAAtB,CAAJ;AACD;;AAEDH,UAAM,GAAG,KAAT;;AAEA,QAAID,MAAJ,EAAY;AACV;AACAF,cAAQ,CAACa,KAAT,CAAeC,SAAf,EAA0BT,QAA1B;AACA;AACD;;AAED,QAAIJ,WAAW,IAAIH,KAAf,IAAwBM,OAA5B,EAAqC;AACnCF,YAAM,GAAG,IAAT;AACAF,cAAQ;AACT;AACF,GA1BD;;AA4BAe,MAAI;AACL,CApDD,C;;;;;;;;;;;;ACHa;;;;AAEbvB,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACwB,iBAAR,GAA4BxB,OAAO,CAACyB,cAAR,GAAyBzB,OAAO,CAAC0B,cAAR,GAAyB1B,OAAO,CAAC2B,WAAR,GAAsBL,SAApG;;AAEA,IAAIM,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,MAAM,CAACC,QAAd,MAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AAAE,kBAAcA,GAAd;AAAoB,CAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,SAAOA,GAAG,IAAI,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,GAAG,CAACC,WAAJ,KAAoBH,MAA3D,IAAqEE,GAAG,KAAKF,MAAM,CAACI,SAApF,GAAgG,QAAhG,YAAkHF,GAAlH,CAAP;AAA+H,CAA5Q;;AAEA,IAAIG,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEA,IAAIM,UAAU,GAAGjD,mBAAO,CAAC,4BAAD,CAAxB;;AAEA,IAAIkD,WAAW,GAAGC,sBAAsB,CAACF,UAAD,CAAxC;;AAEA,IAAIG,QAAQ,GAAGpD,mBAAO,CAAC,wBAAD,CAAtB;;AAEA,IAAIqD,SAAS,GAAGF,sBAAsB,CAACC,QAAD,CAAtC;;AAEA,IAAIE,UAAU,GAAGtD,mBAAO,CAAC,4DAAD,CAAxB;;AAEA,IAAIuD,QAAQ,GAAGvD,mBAAO,CAAC,wDAAD,CAAtB;;AAEA,SAASmD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,IAAIJ,WAAW,GAAG3B,OAAO,CAAC2B,WAAR,GAAsB,SAASA,WAAT,CAAqBuB,KAArB,EAA4B;AAClE,SAAOhB,QAAQ,CAACC,MAAM,CAACgB,MAAP,CAAc,IAAd,CAAD,EAAsBD,KAAtB,CAAf;AACD,CAFD;;AAIA,IAAIxB,cAAc,GAAG1B,OAAO,CAAC0B,cAAR,GAAyB,SAASA,cAAT,GAA0B;AACtE,MAAI0B,KAAK,GAAGpC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoE,GAAhF;AACA,MAAIqC,MAAM,GAAGrC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoEiC,QAAQ,CAAC7C,GAA1F;AACA,MAAIoC,GAAG,GAAGxB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAA9E;AAEA,MAAIsC,MAAM,GAAG,OAAOF,KAAP,KAAiB,QAAjB,GAA4B,CAAC,GAAGJ,UAAU,CAACO,SAAf,EAA0BH,KAA1B,CAA5B,GAA+DA,KAA5E;AAEAI,OAAA,GAAwC,CAAC,GAAGT,SAAS,CAACpD,OAAd,EAAuB,CAAC2D,MAAM,CAACG,IAA/B,EAAqC,qEAArC,CAAxC,GAAsJ,SAAtJ;AAEA,MAAIC,QAAQ,GAAGJ,MAAM,CAACI,QAAP,IAAmB,GAAlC;AACA,MAAIC,MAAM,GAAGL,MAAM,CAACK,MAAP,IAAiB,EAA9B;AACA,MAAIC,IAAI,GAAGN,MAAM,CAACM,IAAP,IAAe,EAA1B;AACA,MAAIC,KAAK,GAAGP,MAAM,CAACO,KAAnB;AAEA,SAAO;AACLH,YAAQ,EAAEA,QADL;AAELC,UAAM,EAAEA,MAFH;AAGLC,QAAI,EAAEA,IAHD;AAILC,SAAK,EAAEA,KAJF;AAKLR,UAAM,EAAEA,MALH;AAMLb,OAAG,EAAEA;AANA,GAAP;AAQD,CAtBD;;AAwBA,IAAIsB,MAAM,GAAG,SAASA,MAAT,CAAgBR,MAAhB,EAAwB;AACnC,SAAOnB,MAAM,CAACF,SAAP,CAAiB8B,QAAjB,CAA0BrB,IAA1B,CAA+BY,MAA/B,MAA2C,eAAlD;AACD,CAFD;;AAIA,IAAI7B,cAAc,GAAGzB,OAAO,CAACyB,cAAR,GAAyB,SAASA,cAAT,CAAwBuC,CAAxB,EAA2BC,CAA3B,EAA8B;AAC1E,MAAID,CAAC,KAAKC,CAAV,EAAa,OAAO,IAAP;AAEb,MAAIC,OAAO,GAAG,OAAOF,CAAP,KAAa,WAAb,GAA2B,WAA3B,GAAyCpC,OAAO,CAACoC,CAAD,CAA9D;AACA,MAAIG,OAAO,GAAG,OAAOF,CAAP,KAAa,WAAb,GAA2B,WAA3B,GAAyCrC,OAAO,CAACqC,CAAD,CAA9D;AAEA,MAAIC,OAAO,KAAKC,OAAhB,EAAyB,OAAO,KAAP;AAEzB,IAAED,OAAO,KAAK,UAAd,IAA4BV,KAAA,GAAwC,CAAC,GAAGZ,WAAW,CAACjD,OAAhB,EAAyB,KAAzB,EAAgC,gDAAhC,CAAxC,GAA4H,SAAxJ,GAA0L,KAAK,CAA/L,CAR0E,CAU1E;;AACA,MAAIuE,OAAO,KAAK,QAAhB,EAA0B;AACxB,KAAC,EAAEJ,MAAM,CAACE,CAAD,CAAN,IAAaF,MAAM,CAACG,CAAD,CAArB,CAAD,GAA6BT,KAAA,GAAwC,CAAC,GAAGZ,WAAW,CAACjD,OAAhB,EAAyB,KAAzB,EAAgC,mDAAhC,CAAxC,GAA+H,SAA5J,GAA8L,KAAK,CAAnM;;AAEA,QAAI,CAACwB,KAAK,CAACiD,OAAN,CAAcJ,CAAd,CAAL,EAAuB;AACrB,UAAIK,OAAO,GAAGlC,MAAM,CAACmC,IAAP,CAAYN,CAAZ,CAAd;AACA,UAAIO,OAAO,GAAGpC,MAAM,CAACmC,IAAP,CAAYL,CAAZ,CAAd;AACA,aAAOI,OAAO,CAACpD,MAAR,KAAmBsD,OAAO,CAACtD,MAA3B,IAAqCoD,OAAO,CAACG,KAAR,CAAc,UAAUhC,GAAV,EAAe;AACvE,eAAOf,cAAc,CAACuC,CAAC,CAACxB,GAAD,CAAF,EAASyB,CAAC,CAACzB,GAAD,CAAV,CAArB;AACD,OAF2C,CAA5C;AAGD;;AAED,WAAOrB,KAAK,CAACiD,OAAN,CAAcH,CAAd,KAAoBD,CAAC,CAAC/C,MAAF,KAAagD,CAAC,CAAChD,MAAnC,IAA6C+C,CAAC,CAACQ,KAAF,CAAQ,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;AACjF,aAAOjD,cAAc,CAACgD,IAAD,EAAOR,CAAC,CAACS,KAAD,CAAR,CAArB;AACD,KAFmD,CAApD;AAGD,GAzByE,CA2B1E;AACA;;;AACA,SAAO,KAAP;AACD,CA9BD;;AAgCA,IAAIlD,iBAAiB,GAAGxB,OAAO,CAACwB,iBAAR,GAA4B,SAASA,iBAAT,CAA2BwC,CAA3B,EAA8BC,CAA9B,EAAiC;AACnF,SAAOD,CAAC,CAACxB,GAAF,KAAUyB,CAAC,CAACzB,GAAZ,IACP;AACAwB,GAAC,CAACN,QAAF,KAAeO,CAAC,CAACP,QAFV,IAEsBM,CAAC,CAACL,MAAF,KAAaM,CAAC,CAACN,MAFrC,IAE+CK,CAAC,CAACJ,IAAF,KAAWK,CAAC,CAACL,IAF5D,IAEoEnC,cAAc,CAACuC,CAAC,CAACH,KAAH,EAAUI,CAAC,CAACJ,KAAZ,CAFzF;AAGD,CAJD,C;;;;;;;;;;;;ACvFa;;AAEb7D,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAAC2E,UAAR,GAAqB3E,OAAO,CAACuD,SAAR,GAAoBvD,OAAO,CAAC4E,2BAAR,GAAsC5E,OAAO,CAAC6E,6BAAR,GAAwC7E,OAAO,CAAC8E,yBAAR,GAAoCxD,SAA3J;;AAEA,IAAIwB,QAAQ,GAAGpD,mBAAO,CAAC,wBAAD,CAAtB;;AAEA,IAAIqD,SAAS,GAAGF,sBAAsB,CAACC,QAAD,CAAtC;;AAEA,SAASD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,IAAI+C,yBAAyB,GAAG9E,OAAO,CAAC8E,yBAAR,GAAoC,SAASA,yBAAT,CAAmCrB,IAAnC,EAAyCjB,GAAzC,EAA8CuC,KAA9C,EAAqD;AACvH,MAAIC,UAAU,GAAGzB,SAAS,CAACE,IAAD,CAA1B;AAAA,MACIC,QAAQ,GAAGsB,UAAU,CAACtB,QAD1B;AAAA,MAEIC,MAAM,GAAGqB,UAAU,CAACrB,MAFxB;AAAA,MAGIC,IAAI,GAAGoB,UAAU,CAACpB,IAHtB;;AAKA,SAAOe,UAAU,CAAC;AAChBjB,YAAQ,EAAEA,QADM;AAEhBC,UAAM,EAAEA,MAAM,IAAIA,MAAM,CAACsB,OAAP,CAAe,GAAf,MAAwB,CAAC,CAAzB,GAA6B,GAA7B,GAAmC,GAAvC,CAAN,GAAoDzC,GAApD,GAA0D,GAA1D,GAAgEuC,KAFxD;AAGhBnB,QAAI,EAAEA;AAHU,GAAD,CAAjB;AAKD,CAXD;;AAaA,IAAIiB,6BAA6B,GAAG7E,OAAO,CAAC6E,6BAAR,GAAwC,SAASA,6BAAT,CAAuCpB,IAAvC,EAA6CjB,GAA7C,EAAkD;AAC5H,MAAI0C,WAAW,GAAG3B,SAAS,CAACE,IAAD,CAA3B;AAAA,MACIC,QAAQ,GAAGwB,WAAW,CAACxB,QAD3B;AAAA,MAEIC,MAAM,GAAGuB,WAAW,CAACvB,MAFzB;AAAA,MAGIC,IAAI,GAAGsB,WAAW,CAACtB,IAHvB;;AAKA,SAAOe,UAAU,CAAC;AAChBjB,YAAQ,EAAEA,QADM;AAEhBC,UAAM,EAAEA,MAAM,CAACwB,OAAP,CAAe,IAAIC,MAAJ,CAAW,WAAW5C,GAAX,GAAiB,mBAA5B,CAAf,EAAiE,UAAU6C,KAAV,EAAiBC,MAAjB,EAAyBC,MAAzB,EAAiC;AACxG,aAAOD,MAAM,KAAK,GAAX,GAAiBA,MAAjB,GAA0BC,MAAjC;AACD,KAFO,CAFQ;AAKhB3B,QAAI,EAAEA;AALU,GAAD,CAAjB;AAOD,CAbD;;AAeA,IAAIgB,2BAA2B,GAAG5E,OAAO,CAAC4E,2BAAR,GAAsC,SAASA,2BAAT,CAAqCnB,IAArC,EAA2CjB,GAA3C,EAAgD;AACtH,MAAIgD,WAAW,GAAGjC,SAAS,CAACE,IAAD,CAA3B;AAAA,MACIE,MAAM,GAAG6B,WAAW,CAAC7B,MADzB;;AAGA,MAAI0B,KAAK,GAAG1B,MAAM,CAAC0B,KAAP,CAAa,IAAID,MAAJ,CAAW,SAAS5C,GAAT,GAAe,iBAA1B,CAAb,CAAZ;AACA,SAAO6C,KAAK,IAAIA,KAAK,CAAC,CAAD,CAArB;AACD,CAND;;AAQA,IAAII,WAAW,GAAG,SAASA,WAAT,CAAqBC,MAArB,EAA6B;AAC7C,MAAIL,KAAK,GAAGK,MAAM,CAACL,KAAP,CAAa,uBAAb,CAAZ;AACA,SAAOA,KAAK,IAAI,IAAT,GAAgBK,MAAhB,GAAyBA,MAAM,CAACC,SAAP,CAAiBN,KAAK,CAAC,CAAD,CAAL,CAASpE,MAA1B,CAAhC;AACD,CAHD;;AAKA,IAAIsC,SAAS,GAAGvD,OAAO,CAACuD,SAAR,GAAoB,SAASA,SAAT,CAAmBE,IAAnB,EAAyB;AAC3D,MAAIC,QAAQ,GAAG+B,WAAW,CAAChC,IAAD,CAA1B;AACA,MAAIE,MAAM,GAAG,EAAb;AACA,MAAIC,IAAI,GAAG,EAAX;AAEAJ,OAAA,GAAwC,CAAC,GAAGT,SAAS,CAACpD,OAAd,EAAuB8D,IAAI,KAAKC,QAAhC,EAA0C,wEAA1C,EAAoHD,IAApH,CAAxC,GAAoK,SAApK;AAEA,MAAImC,SAAS,GAAGlC,QAAQ,CAACuB,OAAT,CAAiB,GAAjB,CAAhB;;AACA,MAAIW,SAAS,KAAK,CAAC,CAAnB,EAAsB;AACpBhC,QAAI,GAAGF,QAAQ,CAACiC,SAAT,CAAmBC,SAAnB,CAAP;AACAlC,YAAQ,GAAGA,QAAQ,CAACiC,SAAT,CAAmB,CAAnB,EAAsBC,SAAtB,CAAX;AACD;;AAED,MAAIC,WAAW,GAAGnC,QAAQ,CAACuB,OAAT,CAAiB,GAAjB,CAAlB;;AACA,MAAIY,WAAW,KAAK,CAAC,CAArB,EAAwB;AACtBlC,UAAM,GAAGD,QAAQ,CAACiC,SAAT,CAAmBE,WAAnB,CAAT;AACAnC,YAAQ,GAAGA,QAAQ,CAACiC,SAAT,CAAmB,CAAnB,EAAsBE,WAAtB,CAAX;AACD;;AAED,MAAInC,QAAQ,KAAK,EAAjB,EAAqBA,QAAQ,GAAG,GAAX;AAErB,SAAO;AACLA,YAAQ,EAAEA,QADL;AAELC,UAAM,EAAEA,MAFH;AAGLC,QAAI,EAAEA;AAHD,GAAP;AAKD,CA1BD;;AA4BA,IAAIe,UAAU,GAAG3E,OAAO,CAAC2E,UAAR,GAAqB,SAASA,UAAT,CAAoBmB,QAApB,EAA8B;AAClE,MAAIA,QAAQ,IAAI,IAAZ,IAAoB,OAAOA,QAAP,KAAoB,QAA5C,EAAsD,OAAOA,QAAP;AAEtD,MAAIC,QAAQ,GAAGD,QAAQ,CAACC,QAAxB;AAAA,MACIrC,QAAQ,GAAGoC,QAAQ,CAACpC,QADxB;AAAA,MAEIC,MAAM,GAAGmC,QAAQ,CAACnC,MAFtB;AAAA,MAGIC,IAAI,GAAGkC,QAAQ,CAAClC,IAHpB;AAKA,MAAIH,IAAI,GAAG,CAACsC,QAAQ,IAAI,EAAb,IAAmBrC,QAA9B;AAEA,MAAIC,MAAM,IAAIA,MAAM,KAAK,GAAzB,EAA8BF,IAAI,IAAIE,MAAR;AAE9B,MAAIC,IAAJ,EAAUH,IAAI,IAAIG,IAAR;AAEV,SAAOH,IAAP;AACD,CAfD,C;;;;;;;;;;;;AChFa;;AAEbzD,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAI+F,WAAW,GAAGtG,mBAAO,CAAC,8DAAD,CAAzB;;AAEA,IAAIsD,UAAU,GAAGtD,mBAAO,CAAC,4DAAD,CAAxB;;AAEA,IAAIuG,kBAAkB,GAAGvG,mBAAO,CAAC,4EAAD,CAAhC;;AAEA,IAAIwG,mBAAmB,GAAGrD,sBAAsB,CAACoD,kBAAD,CAAhD;;AAEA,IAAIhD,QAAQ,GAAGvD,mBAAO,CAAC,wDAAD,CAAtB;;AAEA,IAAIyG,cAAc,GAAGzG,mBAAO,CAAC,oEAAD,CAA5B;;AAEA,SAASmD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,IAAIqE,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC3C,MAAIC,OAAO,GAAGrF,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,MAAIsF,kBAAkB,GAAGD,OAAO,CAACC,kBAAjC;AAAA,MACIC,mBAAmB,GAAGF,OAAO,CAACE,mBADlC;AAAA,MAEIC,YAAY,GAAGH,OAAO,CAACG,YAF3B;AAAA,MAGIC,eAAe,GAAGJ,OAAO,CAACI,eAH9B;AAAA,MAIIC,EAAE,GAAGL,OAAO,CAACK,EAJjB;AAAA,MAKIC,SAAS,GAAGN,OAAO,CAACM,SALxB;AAQA,MAAIC,eAAe,GAAG,KAAK,CAA3B;AACA,MAAIC,eAAe,GAAG,KAAK,CAA3B;AACA,MAAIC,eAAe,GAAG,EAAtB;AACA,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,OAAO,GAAG,EAAd;;AAEA,MAAIC,eAAe,GAAG,SAASA,eAAT,GAA2B;AAC/C,QAAIJ,eAAe,IAAIA,eAAe,CAACxD,MAAhB,KAA2BJ,QAAQ,CAAC7C,GAA3D,EAAgE,OAAO4G,OAAO,CAAC/B,OAAR,CAAgB4B,eAAe,CAACrE,GAAhC,CAAP;AAEhE,QAAIoE,eAAJ,EAAqB,OAAOI,OAAO,CAAC/B,OAAR,CAAgB2B,eAAe,CAACpE,GAAhC,CAAP;AAErB,WAAO,CAAC,CAAR;AACD,GAND;;AAQA,MAAI0E,cAAc,GAAG,SAASA,cAAT,CAAwBC,YAAxB,EAAsC;AACzD,QAAIC,YAAY,GAAGH,eAAe,EAAlC;AAEAL,mBAAe,GAAGO,YAAlB;;AAEA,QAAIP,eAAe,CAACvD,MAAhB,KAA2BJ,QAAQ,CAAC/C,IAAxC,EAA8C;AAC5C8G,aAAO,GAAG,GAAGK,MAAH,CAAUL,OAAO,CAACM,KAAR,CAAc,CAAd,EAAiBF,YAAY,GAAG,CAAhC,CAAV,EAA8C,CAACR,eAAe,CAACpE,GAAjB,CAA9C,CAAV;AACD,KAFD,MAEO,IAAIoE,eAAe,CAACvD,MAAhB,KAA2BJ,QAAQ,CAAC9C,OAAxC,EAAiD;AACtD6G,aAAO,CAACI,YAAD,CAAP,GAAwBR,eAAe,CAACpE,GAAxC;AACD;;AAEDuE,aAAS,CAACQ,OAAV,CAAkB,UAAUC,QAAV,EAAoB;AACpC,aAAOA,QAAQ,CAACZ,eAAD,CAAf;AACD,KAFD;AAGD,GAdD;;AAgBA,MAAIa,YAAY,GAAG,SAASA,YAAT,CAAsBD,QAAtB,EAAgC;AACjDV,mBAAe,CAACY,IAAhB,CAAqBF,QAArB;AAEA,WAAO,YAAY;AACjB,aAAOV,eAAe,GAAGA,eAAe,CAACa,MAAhB,CAAuB,UAAUlD,IAAV,EAAgB;AAC9D,eAAOA,IAAI,KAAK+C,QAAhB;AACD,OAFwB,CAAzB;AAGD,KAJD;AAKD,GARD;;AAUA,MAAII,MAAM,GAAG,SAASA,MAAT,CAAgBJ,QAAhB,EAA0B;AACrCT,aAAS,CAACW,IAAV,CAAeF,QAAf;AAEA,WAAO,YAAY;AACjB,aAAOT,SAAS,GAAGA,SAAS,CAACY,MAAV,CAAiB,UAAUlD,IAAV,EAAgB;AAClD,eAAOA,IAAI,KAAK+C,QAAhB;AACD,OAFkB,CAAnB;AAGD,KAJD;AAKD,GARD;;AAUA,MAAIK,mBAAmB,GAAG,SAASA,mBAAT,CAA6B/B,QAA7B,EAAuCtF,QAAvC,EAAiD;AACzE,KAAC,GAAGwF,WAAW,CAAC3F,SAAhB,EAA2ByG,eAAe,CAAC7F,MAA3C,EAAmD,UAAUyD,KAAV,EAAiBnD,IAAjB,EAAuBT,IAAvB,EAA6B;AAC9E,OAAC,GAAGoF,mBAAmB,CAACvG,OAAxB,EAAiCmH,eAAe,CAACpC,KAAD,CAAhD,EAAyDoB,QAAzD,EAAmE,UAAUgC,MAAV,EAAkB;AACnF,eAAOA,MAAM,IAAI,IAAV,GAAiBhH,IAAI,CAACgH,MAAD,CAArB,GAAgCvG,IAAI,EAA3C;AACD,OAFD;AAGD,KAJD,EAIG,UAAUwG,OAAV,EAAmB;AACpB,UAAIxB,mBAAmB,IAAI,OAAOwB,OAAP,KAAmB,QAA9C,EAAwD;AACtDxB,2BAAmB,CAACwB,OAAD,EAAU,UAAUC,EAAV,EAAc;AACzC,iBAAOxH,QAAQ,CAACwH,EAAE,KAAK,KAAR,CAAf;AACD,SAFkB,CAAnB;AAGD,OAJD,MAIO;AACLxH,gBAAQ,CAACuH,OAAO,KAAK,KAAb,CAAR;AACD;AACF,KAZD;AAaD,GAdD;;AAgBA,MAAIE,YAAY,GAAG,SAASA,YAAT,CAAsBd,YAAtB,EAAoC;AACrD,QAAIP,eAAe,IAAI,CAAC,GAAGT,cAAc,CAAC3E,iBAAnB,EAAsCoF,eAAtC,EAAuDO,YAAvD,CAAnB,IAA2FN,eAAe,IAAI,CAAC,GAAGV,cAAc,CAAC3E,iBAAnB,EAAsCqF,eAAtC,EAAuDM,YAAvD,CAAlH,EAAwL,OADnI,CAC2I;;AAEhMN,mBAAe,GAAGM,YAAlB;AAEAU,uBAAmB,CAACV,YAAD,EAAe,UAAUa,EAAV,EAAc;AAC9C,UAAInB,eAAe,KAAKM,YAAxB,EAAsC,OADQ,CACA;;AAE9CN,qBAAe,GAAG,IAAlB;;AAEA,UAAImB,EAAJ,EAAQ;AACN;AACA,YAAIb,YAAY,CAAC9D,MAAb,KAAwBJ,QAAQ,CAAC/C,IAArC,EAA2C;AACzC,cAAIgI,QAAQ,GAAG,CAAC,GAAGlF,UAAU,CAAC2B,UAAf,EAA2BiC,eAA3B,CAAf;AACA,cAAIuB,QAAQ,GAAG,CAAC,GAAGnF,UAAU,CAAC2B,UAAf,EAA2BwC,YAA3B,CAAf;AAEA,cAAIgB,QAAQ,KAAKD,QAAb,IAAyB,CAAC,GAAG/B,cAAc,CAAC1E,cAAnB,EAAmCmF,eAAe,CAAC/C,KAAnD,EAA0DsD,YAAY,CAACtD,KAAvE,CAA7B,EAA4GsD,YAAY,CAAC9D,MAAb,GAAsBJ,QAAQ,CAAC9C,OAA/B;AAC7G;;AAED,YAAIgH,YAAY,CAAC9D,MAAb,KAAwBJ,QAAQ,CAAC7C,GAArC,EAA0C;AACxC8G,wBAAc,CAACC,YAAD,CAAd;AACD,SAFD,MAEO,IAAIA,YAAY,CAAC9D,MAAb,KAAwBJ,QAAQ,CAAC/C,IAArC,EAA2C;AAChD,cAAIsG,YAAY,CAACW,YAAD,CAAZ,KAA+B,KAAnC,EAA0CD,cAAc,CAACC,YAAD,CAAd;AAC3C,SAFM,MAEA,IAAIA,YAAY,CAAC9D,MAAb,KAAwBJ,QAAQ,CAAC9C,OAArC,EAA8C;AACnD,cAAIsG,eAAe,CAACU,YAAD,CAAf,KAAkC,KAAtC,EAA6CD,cAAc,CAACC,YAAD,CAAd;AAC9C;AACF,OAhBD,MAgBO,IAAIP,eAAe,IAAIO,YAAY,CAAC9D,MAAb,KAAwBJ,QAAQ,CAAC7C,GAAxD,EAA6D;AAClE,YAAIgI,SAAS,GAAGpB,OAAO,CAAC/B,OAAR,CAAgB2B,eAAe,CAACpE,GAAhC,CAAhB;AACA,YAAI6F,SAAS,GAAGrB,OAAO,CAAC/B,OAAR,CAAgBkC,YAAY,CAAC3E,GAA7B,CAAhB;AAEA,YAAI4F,SAAS,KAAK,CAAC,CAAf,IAAoBC,SAAS,KAAK,CAAC,CAAvC,EAA0C3B,EAAE,CAAC0B,SAAS,GAAGC,SAAb,CAAF,CAJwB,CAIG;AACtE;AACF,KA3BkB,CAAnB;AA4BD,GAjCD;;AAmCA,MAAIX,IAAI,GAAG,SAASA,IAAT,CAActE,KAAd,EAAqB;AAC9B,WAAO6E,YAAY,CAACvG,cAAc,CAAC0B,KAAD,EAAQH,QAAQ,CAAC/C,IAAjB,CAAf,CAAnB;AACD,GAFD;;AAIA,MAAIiF,OAAO,GAAG,SAASA,OAAT,CAAiB/B,KAAjB,EAAwB;AACpC,WAAO6E,YAAY,CAACvG,cAAc,CAAC0B,KAAD,EAAQH,QAAQ,CAAC9C,OAAjB,CAAf,CAAnB;AACD,GAFD;;AAIA,MAAImI,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,WAAO5B,EAAE,CAAC,CAAC,CAAF,CAAT;AACD,GAFD;;AAIA,MAAI6B,SAAS,GAAG,SAASA,SAAT,GAAqB;AACnC,WAAO7B,EAAE,CAAC,CAAD,CAAT;AACD,GAFD;;AAIA,MAAI8B,SAAS,GAAG,SAASA,SAAT,GAAqB;AACnC,WAAOC,IAAI,CAACC,MAAL,GAAc3E,QAAd,CAAuB,EAAvB,EAA2B4E,MAA3B,CAAkC,CAAlC,EAAqChC,SAAS,IAAI,CAAlD,CAAP;AACD,GAFD;;AAIA,MAAIiC,UAAU,GAAG,SAASA,UAAT,CAAoB9C,QAApB,EAA8B;AAC7C,WAAO,CAAC,GAAG9C,UAAU,CAAC2B,UAAf,EAA2BmB,QAA3B,CAAP;AACD,GAFD;;AAIA,MAAIpE,cAAc,GAAG,SAASA,cAAT,CAAwBoE,QAAxB,EAAkCzC,MAAlC,EAA0C;AAC7D,QAAIb,GAAG,GAAGxB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoEwH,SAAS,EAAvF;AACA,WAAO,CAAC,GAAGrC,cAAc,CAACzE,cAAnB,EAAmCoE,QAAnC,EAA6CzC,MAA7C,EAAqDb,GAArD,CAAP;AACD,GAHD;;AAKA,SAAO;AACL8D,sBAAkB,EAAEA,kBADf;AAELmB,gBAAY,EAAEA,YAFT;AAGLG,UAAM,EAAEA,MAHH;AAILK,gBAAY,EAAEA,YAJT;AAKLP,QAAI,EAAEA,IALD;AAMLvC,WAAO,EAAEA,OANJ;AAOLuB,MAAE,EAAEA,EAPC;AAQL4B,UAAM,EAAEA,MARH;AASLC,aAAS,EAAEA,SATN;AAULC,aAAS,EAAEA,SAVN;AAWL7D,cAAU,EAAE3B,UAAU,CAAC2B,UAXlB;AAYLiE,cAAU,EAAEA,UAZP;AAaLlH,kBAAc,EAAEA;AAbX,GAAP;AAeD,CA3JD;;AA6JA1B,OAAO,CAACL,OAAR,GAAkByG,aAAlB,C;;;;;;;;;;;;AC/Ka;;AAEbpG,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIiC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEA,IAAIS,QAAQ,GAAGpD,mBAAO,CAAC,wBAAD,CAAtB;;AAEA,IAAIqD,SAAS,GAAGF,sBAAsB,CAACC,QAAD,CAAtC;;AAEA,IAAIH,UAAU,GAAGjD,mBAAO,CAAC,4BAAD,CAAxB;;AAEA,IAAIkD,WAAW,GAAGC,sBAAsB,CAACF,UAAD,CAAxC;;AAEA,IAAIwD,cAAc,GAAGzG,mBAAO,CAAC,oEAAD,CAA5B;;AAEA,IAAIsD,UAAU,GAAGtD,mBAAO,CAAC,4DAAD,CAAxB;;AAEA,IAAImJ,cAAc,GAAGnJ,mBAAO,CAAC,oEAAD,CAA5B;;AAEA,IAAIoJ,eAAe,GAAGjG,sBAAsB,CAACgG,cAAD,CAA5C;;AAEA,IAAI5F,QAAQ,GAAGvD,mBAAO,CAAC,wDAAD,CAAtB;;AAEA,SAASmD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,IAAIgH,kBAAkB,GAAG,SAASA,kBAAT,CAA4BC,OAA5B,EAAqC;AAC5D,SAAOA,OAAO,CAACrB,MAAR,CAAe,UAAUsB,KAAV,EAAiB;AACrC,WAAOA,KAAK,CAACpF,KAAb;AACD,GAFM,EAEJqF,MAFI,CAEG,UAAUC,IAAV,EAAgBF,KAAhB,EAAuB;AAC/BE,QAAI,CAACF,KAAK,CAACzG,GAAP,CAAJ,GAAkByG,KAAK,CAACpF,KAAxB;AACA,WAAOsF,IAAP;AACD,GALM,EAKJ,EALI,CAAP;AAMD,CAPD;;AASA,IAAIC,mBAAmB,GAAG,SAASA,mBAAT,GAA+B;AACvD,MAAI/C,OAAO,GAAGrF,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;;AAEA,MAAIG,KAAK,CAACiD,OAAN,CAAciC,OAAd,CAAJ,EAA4B;AAC1BA,WAAO,GAAG;AAAE2C,aAAO,EAAE3C;AAAX,KAAV;AACD,GAFD,MAEO,IAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AACtCA,WAAO,GAAG;AAAE2C,aAAO,EAAE,CAAC3C,OAAD;AAAX,KAAV;AACD;;AAED,MAAIC,kBAAkB,GAAG,SAASA,kBAAT,GAA8B;AACrD,QAAI2C,KAAK,GAAGD,OAAO,CAACK,OAAD,CAAnB;AACA,QAAI5F,IAAI,GAAG,CAAC,GAAGT,UAAU,CAAC2B,UAAf,EAA2BsE,KAA3B,CAAX;AAEA,QAAIzG,GAAG,GAAG,KAAK,CAAf;AAAA,QACIqB,KAAK,GAAG,KAAK,CADjB;;AAEA,QAAIoF,KAAK,CAACzG,GAAV,EAAe;AACbA,SAAG,GAAGyG,KAAK,CAACzG,GAAZ;AACAqB,WAAK,GAAGyF,SAAS,CAAC9G,GAAD,CAAjB;AACD;;AAED,QAAI+G,IAAI,GAAG,CAAC,GAAGvG,UAAU,CAACO,SAAf,EAA0BE,IAA1B,CAAX;AAEA,WAAO,CAAC,GAAG0C,cAAc,CAACzE,cAAnB,EAAmCQ,QAAQ,CAAC,EAAD,EAAKqH,IAAL,EAAW;AAAE1F,WAAK,EAAEA;AAAT,KAAX,CAA3C,EAAyEvC,SAAzE,EAAoFkB,GAApF,CAAP;AACD,GAdD;;AAgBA,MAAIgH,KAAK,GAAG,SAASA,KAAT,CAAeC,CAAf,EAAkB;AAC5B,QAAI/E,KAAK,GAAG2E,OAAO,GAAGI,CAAtB;AACA,WAAO/E,KAAK,IAAI,CAAT,IAAcA,KAAK,GAAGsE,OAAO,CAAC/H,MAArC;AACD,GAHD;;AAKA,MAAIyF,EAAE,GAAG,SAASA,EAAT,CAAY+C,CAAZ,EAAe;AACtB,QAAI,CAACA,CAAL,EAAQ;;AAER,QAAI,CAACD,KAAK,CAACC,CAAD,CAAV,EAAe;AACbjG,WAAA,GAAwC,CAAC,GAAGT,SAAS,CAACpD,OAAd,EAAuB,KAAvB,EAA8B,2CAA9B,EAA2E8J,CAA3E,CAAxC,GAAwH,SAAxH;AAEA;AACD;;AAEDJ,WAAO,IAAII,CAAX;AACA,QAAI7C,eAAe,GAAGN,kBAAkB,EAAxC,CAVsB,CAYtB;;AACAoD,WAAO,CAACzB,YAAR,CAAqB/F,QAAQ,CAAC,EAAD,EAAK0E,eAAL,EAAsB;AAAEvD,YAAM,EAAEJ,QAAQ,CAAC7C;AAAnB,KAAtB,CAA7B;AACD,GAdD;;AAgBA,MAAIoG,YAAY,GAAG,SAASA,YAAT,CAAsBV,QAAtB,EAAgC;AACjDuD,WAAO,IAAI,CAAX;AAEA,QAAIA,OAAO,GAAGL,OAAO,CAAC/H,MAAtB,EAA8B+H,OAAO,CAACW,MAAR,CAAeN,OAAf;AAE9BL,WAAO,CAACtB,IAAR,CAAa5B,QAAb;AAEA8D,aAAS,CAAC9D,QAAQ,CAACtD,GAAV,EAAesD,QAAQ,CAACjC,KAAxB,CAAT;AACD,GARD;;AAUA,MAAI4C,eAAe,GAAG,SAASA,eAAT,CAAyBX,QAAzB,EAAmC;AACvDkD,WAAO,CAACK,OAAD,CAAP,GAAmBvD,QAAnB;AACA8D,aAAS,CAAC9D,QAAQ,CAACtD,GAAV,EAAesD,QAAQ,CAACjC,KAAxB,CAAT;AACD,GAHD;;AAKA,MAAI6F,OAAO,GAAG,CAAC,GAAGZ,eAAe,CAACnJ,OAApB,EAA6BuC,QAAQ,CAAC,EAAD,EAAKmE,OAAL,EAAc;AAC/DC,sBAAkB,EAAEA,kBAD2C;AAE/DE,gBAAY,EAAEA,YAFiD;AAG/DC,mBAAe,EAAEA,eAH8C;AAI/DC,MAAE,EAAEA;AAJ2D,GAAd,CAArC,CAAd;AAOA,MAAImD,QAAQ,GAAGxD,OAAf;AAAA,MACI2C,OAAO,GAAGa,QAAQ,CAACb,OADvB;AAAA,MAEIK,OAAO,GAAGQ,QAAQ,CAACR,OAFvB;;AAKA,MAAI,OAAOL,OAAP,KAAmB,QAAvB,EAAiC;AAC/BA,WAAO,GAAG,CAACA,OAAD,CAAV;AACD,GAFD,MAEO,IAAI,CAAC7H,KAAK,CAACiD,OAAN,CAAc4E,OAAd,CAAL,EAA6B;AAClCA,WAAO,GAAG,CAAC,GAAD,CAAV;AACD;;AAEDA,SAAO,GAAGA,OAAO,CAACc,GAAR,CAAY,UAAUb,KAAV,EAAiB;AACrC,WAAO,CAAC,GAAG9C,cAAc,CAACzE,cAAnB,EAAmCuH,KAAnC,CAAP;AACD,GAFS,CAAV;;AAIA,MAAII,OAAO,IAAI,IAAf,EAAqB;AACnBA,WAAO,GAAGL,OAAO,CAAC/H,MAAR,GAAiB,CAA3B;AACD,GAFD,MAEO;AACL,MAAEoI,OAAO,IAAI,CAAX,IAAgBA,OAAO,GAAGL,OAAO,CAAC/H,MAApC,IAA8CuC,KAAA,GAAwC,CAAC,GAAGZ,WAAW,CAACjD,OAAhB,EAAyB,KAAzB,EAAgC,6CAAhC,EAA+EqJ,OAAO,CAAC/H,MAAvF,EAA+FoI,OAA/F,CAAxC,GAAkJ,SAAhM,GAAkO,KAAK,CAAvO;AACD;;AAED,MAAIU,OAAO,GAAGhB,kBAAkB,CAACC,OAAD,CAAhC;;AAEA,MAAIY,SAAS,GAAG,SAASA,SAAT,CAAmBpH,GAAnB,EAAwBqB,KAAxB,EAA+B;AAC7C,WAAOkG,OAAO,CAACvH,GAAD,CAAP,GAAeqB,KAAtB;AACD,GAFD;;AAIA,MAAIyF,SAAS,GAAG,SAASA,SAAT,CAAmB9G,GAAnB,EAAwB;AACtC,WAAOuH,OAAO,CAACvH,GAAD,CAAd;AACD,GAFD;;AAIA,SAAON,QAAQ,CAAC,EAAD,EAAKwH,OAAL,EAAc;AAC3BF,SAAK,EAAEA;AADoB,GAAd,CAAf;AAGD,CAtGD;;AAwGAxJ,OAAO,CAACL,OAAR,GAAkByJ,mBAAlB,C;;;;;;;;;;;;AC3Ia;;AAEbpJ,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAI6C,QAAQ,GAAGpD,mBAAO,CAAC,wBAAD,CAAtB;;AAEA,IAAIqD,SAAS,GAAGF,sBAAsB,CAACC,QAAD,CAAtC;;AAEA,SAASD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,IAAIiI,iBAAiB,GAAG,SAASA,iBAAT,CAA2BC,IAA3B,EAAiCnE,QAAjC,EAA2CtF,QAA3C,EAAqD;AAC3E,MAAIsH,MAAM,GAAGmC,IAAI,CAACnE,QAAD,EAAWtF,QAAX,CAAjB;;AAEA,MAAIyJ,IAAI,CAAChJ,MAAL,GAAc,CAAlB,EAAqB;AACnB;AACA;AACAT,YAAQ,CAACsH,MAAD,CAAR;AACD,GAJD,MAIO;AACLtE,SAAA,GAAwC,CAAC,GAAGT,SAAS,CAACpD,OAAd,EAAuBmI,MAAM,KAAKxG,SAAlC,EAA6C,4EAA4E,2BAAzH,CAAxC,GAAgM,SAAhM;AACD;AACF,CAVD;;AAYAtB,OAAO,CAACL,OAAR,GAAkBqK,iBAAlB,C;;;;;;;;;;;;ACtBa;;AAEbhK,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIiC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEA,IAAI4D,kBAAkB,GAAGvG,mBAAO,CAAC,4EAAD,CAAhC;;AAEA,IAAIwG,mBAAmB,GAAGrD,sBAAsB,CAACoD,kBAAD,CAAhD;;AAEA,IAAIjD,UAAU,GAAGtD,mBAAO,CAAC,4DAAD,CAAxB;;AAEA,SAASmD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,IAAImI,WAAW,GAAG,SAASA,WAAT,CAAqB9D,aAArB,EAAoC;AACpD,SAAO,YAAY;AACjB,QAAIC,OAAO,GAAGrF,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AAEA,QAAI0I,OAAO,GAAGtD,aAAa,CAACC,OAAD,CAA3B;AACA,QAAIN,QAAQ,GAAGM,OAAO,CAACN,QAAvB;;AAGA,QAAIoE,WAAW,GAAG,SAASA,WAAT,CAAqBrE,QAArB,EAA+B;AAC/C,UAAI,CAACA,QAAL,EAAe,OAAOA,QAAP;;AAEf,UAAIC,QAAQ,IAAID,QAAQ,CAACC,QAAT,IAAqB,IAArC,EAA2C;AACzC,YAAID,QAAQ,CAACpC,QAAT,CAAkB0G,WAAlB,GAAgCnF,OAAhC,CAAwCc,QAAQ,CAACqE,WAAT,EAAxC,MAAoE,CAAxE,EAA2E;AACzEtE,kBAAQ,CAACpC,QAAT,GAAoBoC,QAAQ,CAACpC,QAAT,CAAkBiC,SAAlB,CAA4BI,QAAQ,CAAC9E,MAArC,CAApB;AACA6E,kBAAQ,CAACC,QAAT,GAAoBA,QAApB;AAEA,cAAID,QAAQ,CAACpC,QAAT,KAAsB,EAA1B,EAA8BoC,QAAQ,CAACpC,QAAT,GAAoB,GAApB;AAC/B,SALD,MAKO;AACLoC,kBAAQ,CAACC,QAAT,GAAoB,EAApB;AACD;AACF;;AAED,aAAOD,QAAP;AACD,KAfD;;AAiBA,QAAIuE,eAAe,GAAG,SAASA,eAAT,CAAyBvE,QAAzB,EAAmC;AACvD,UAAI,CAACC,QAAL,EAAe,OAAOD,QAAP;AAEf,UAAIxC,MAAM,GAAG,OAAOwC,QAAP,KAAoB,QAApB,GAA+B,CAAC,GAAG9C,UAAU,CAACO,SAAf,EAA0BuC,QAA1B,CAA/B,GAAqEA,QAAlF;AACA,UAAIwE,KAAK,GAAGhH,MAAM,CAACI,QAAnB;AACA,UAAI6G,kBAAkB,GAAGxE,QAAQ,CAACuB,KAAT,CAAe,CAAC,CAAhB,MAAuB,GAAvB,GAA6BvB,QAA7B,GAAwCA,QAAQ,GAAG,GAA5E;AACA,UAAIyE,kBAAkB,GAAGF,KAAK,CAACG,MAAN,CAAa,CAAb,MAAoB,GAApB,GAA0BH,KAAK,CAAChD,KAAN,CAAY,CAAZ,CAA1B,GAA2CgD,KAApE;AACA,UAAI5G,QAAQ,GAAG6G,kBAAkB,GAAGC,kBAApC;AAEA,aAAOtI,QAAQ,CAAC,EAAD,EAAKoB,MAAL,EAAa;AAC1BI,gBAAQ,EAAEA;AADgB,OAAb,CAAf;AAGD,KAZD,CAxBiB,CAsCjB;;;AACA,QAAI4C,kBAAkB,GAAG,SAASA,kBAAT,GAA8B;AACrD,aAAO6D,WAAW,CAACT,OAAO,CAACpD,kBAAR,EAAD,CAAlB;AACD,KAFD;;AAIA,QAAImB,YAAY,GAAG,SAASA,YAAT,CAAsBwC,IAAtB,EAA4B;AAC7C,aAAOP,OAAO,CAACjC,YAAR,CAAqB,UAAU3B,QAAV,EAAoBtF,QAApB,EAA8B;AACxD,eAAO,CAAC,GAAG0F,mBAAmB,CAACvG,OAAxB,EAAiCsK,IAAjC,EAAuCE,WAAW,CAACrE,QAAD,CAAlD,EAA8DtF,QAA9D,CAAP;AACD,OAFM,CAAP;AAGD,KAJD;;AAMA,QAAIoH,MAAM,GAAG,SAASA,MAAT,CAAgBJ,QAAhB,EAA0B;AACrC,aAAOkC,OAAO,CAAC9B,MAAR,CAAe,UAAU9B,QAAV,EAAoB;AACxC,eAAO0B,QAAQ,CAAC2C,WAAW,CAACrE,QAAD,CAAZ,CAAf;AACD,OAFM,CAAP;AAGD,KAJD,CAjDiB,CAuDjB;;;AACA,QAAI4B,IAAI,GAAG,SAASA,IAAT,CAAc5B,QAAd,EAAwB;AACjC,aAAO4D,OAAO,CAAChC,IAAR,CAAa2C,eAAe,CAACvE,QAAD,CAA5B,CAAP;AACD,KAFD;;AAIA,QAAIX,OAAO,GAAG,SAASA,OAAT,CAAiBW,QAAjB,EAA2B;AACvC,aAAO4D,OAAO,CAACvE,OAAR,CAAgBkF,eAAe,CAACvE,QAAD,CAA/B,CAAP;AACD,KAFD;;AAIA,QAAInB,UAAU,GAAG,SAASA,UAAT,CAAoBmB,QAApB,EAA8B;AAC7C,aAAO4D,OAAO,CAAC/E,UAAR,CAAmB0F,eAAe,CAACvE,QAAD,CAAlC,CAAP;AACD,KAFD;;AAIA,QAAI8C,UAAU,GAAG,SAASA,UAAT,CAAoB9C,QAApB,EAA8B;AAC7C,aAAO4D,OAAO,CAACd,UAAR,CAAmByB,eAAe,CAACvE,QAAD,CAAlC,CAAP;AACD,KAFD;;AAIA,QAAIpE,cAAc,GAAG,SAASA,cAAT,CAAwBoE,QAAxB,EAAkC;AACrD,WAAK,IAAI/E,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAGC,KAAK,CAACJ,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAvB,CAAzC,EAAoEK,IAAI,GAAG,CAAhF,EAAmFA,IAAI,GAAGL,IAA1F,EAAgGK,IAAI,EAApG,EAAwG;AACtGF,YAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiBJ,SAAS,CAACI,IAAD,CAA1B;AACD;;AAED,aAAO+I,WAAW,CAACT,OAAO,CAAChI,cAAR,CAAuBL,KAAvB,CAA6BqI,OAA7B,EAAsC,CAACW,eAAe,CAACvE,QAAD,CAAhB,EAA4BuB,MAA5B,CAAmCnG,IAAnC,CAAtC,CAAD,CAAlB;AACD,KAND;;AAQA,WAAOgB,QAAQ,CAAC,EAAD,EAAKwH,OAAL,EAAc;AAC3BpD,wBAAkB,EAAEA,kBADO;AAE3BmB,kBAAY,EAAEA,YAFa;AAG3BG,YAAM,EAAEA,MAHmB;AAI3BF,UAAI,EAAEA,IAJqB;AAK3BvC,aAAO,EAAEA,OALkB;AAM3BR,gBAAU,EAAEA,UANe;AAO3BiE,gBAAU,EAAEA,UAPe;AAQ3BlH,oBAAc,EAAEA;AARW,KAAd,CAAf;AAUD,GA1FD;AA2FD,CA5FD;;AA8FA1B,OAAO,CAACL,OAAR,GAAkBuK,WAAlB,C;;;;;;;;;;;;AC5Ga;;AAEblK,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIiC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEA,IAAIqI,YAAY,GAAGhL,mBAAO,CAAC,kCAAD,CAA1B;;AAEA,IAAIuG,kBAAkB,GAAGvG,mBAAO,CAAC,4EAAD,CAAhC;;AAEA,IAAIwG,mBAAmB,GAAGrD,sBAAsB,CAACoD,kBAAD,CAAhD;;AAEA,IAAIE,cAAc,GAAGzG,mBAAO,CAAC,oEAAD,CAA5B;;AAEA,IAAIsD,UAAU,GAAGtD,mBAAO,CAAC,4DAAD,CAAxB;;AAEA,SAASmD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,IAAI4I,qBAAqB,GAAG,SAASA,qBAAT,CAA+BC,KAA/B,EAAsC;AAChE,SAAO,CAAC,GAAGF,YAAY,CAACG,SAAjB,EAA4BD,KAA5B,EAAmCzF,OAAnC,CAA2C,MAA3C,EAAmD,GAAnD,CAAP;AACD,CAFD;;AAIA,IAAI2F,uBAAuB,GAAGJ,YAAY,CAACK,KAA3C;AAEA;;;;;AAIA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoB5E,aAApB,EAAmC;AAClD,SAAO,YAAY;AACjB,QAAIC,OAAO,GAAGrF,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AAEA,QAAI0I,OAAO,GAAGtD,aAAa,CAACC,OAAD,CAA3B;AACA,QAAI4E,cAAc,GAAG5E,OAAO,CAAC4E,cAA7B;AAAA,QACIC,gBAAgB,GAAG7E,OAAO,CAAC6E,gBAD/B;AAIA,QAAI,OAAOD,cAAP,KAA0B,UAA9B,EAA0CA,cAAc,GAAGN,qBAAjB;AAE1C,QAAI,OAAOO,gBAAP,KAA4B,UAAhC,EAA4CA,gBAAgB,GAAGJ,uBAAnB;;AAE5C,QAAIK,WAAW,GAAG,SAASA,WAAT,CAAqBrF,QAArB,EAA+B;AAC/C,UAAI,CAACA,QAAL,EAAe,OAAOA,QAAP;AAEf,UAAIA,QAAQ,CAAC8E,KAAT,IAAkB,IAAtB,EAA4B9E,QAAQ,CAAC8E,KAAT,GAAiBM,gBAAgB,CAACpF,QAAQ,CAACnC,MAAT,CAAgBgC,SAAhB,CAA0B,CAA1B,CAAD,CAAjC;AAE5B,aAAOG,QAAP;AACD,KAND;;AAQA,QAAIsF,WAAW,GAAG,SAASA,WAAT,CAAqBtF,QAArB,EAA+B8E,KAA/B,EAAsC;AACtD,UAAIA,KAAK,IAAI,IAAb,EAAmB,OAAO9E,QAAP;AAEnB,UAAIxC,MAAM,GAAG,OAAOwC,QAAP,KAAoB,QAApB,GAA+B,CAAC,GAAG9C,UAAU,CAACO,SAAf,EAA0BuC,QAA1B,CAA/B,GAAqEA,QAAlF;AACA,UAAIuF,WAAW,GAAGJ,cAAc,CAACL,KAAD,CAAhC;AACA,UAAIjH,MAAM,GAAG0H,WAAW,GAAG,MAAMA,WAAT,GAAuB,EAA/C;AAEA,aAAOnJ,QAAQ,CAAC,EAAD,EAAKoB,MAAL,EAAa;AAC1BK,cAAM,EAAEA;AADkB,OAAb,CAAf;AAGD,KAVD,CApBiB,CAgCjB;;;AACA,QAAI2C,kBAAkB,GAAG,SAASA,kBAAT,GAA8B;AACrD,aAAO6E,WAAW,CAACzB,OAAO,CAACpD,kBAAR,EAAD,CAAlB;AACD,KAFD;;AAIA,QAAImB,YAAY,GAAG,SAASA,YAAT,CAAsBwC,IAAtB,EAA4B;AAC7C,aAAOP,OAAO,CAACjC,YAAR,CAAqB,UAAU3B,QAAV,EAAoBtF,QAApB,EAA8B;AACxD,eAAO,CAAC,GAAG0F,mBAAmB,CAACvG,OAAxB,EAAiCsK,IAAjC,EAAuCkB,WAAW,CAACrF,QAAD,CAAlD,EAA8DtF,QAA9D,CAAP;AACD,OAFM,CAAP;AAGD,KAJD;;AAMA,QAAIoH,MAAM,GAAG,SAASA,MAAT,CAAgBJ,QAAhB,EAA0B;AACrC,aAAOkC,OAAO,CAAC9B,MAAR,CAAe,UAAU9B,QAAV,EAAoB;AACxC,eAAO0B,QAAQ,CAAC2D,WAAW,CAACrF,QAAD,CAAZ,CAAf;AACD,OAFM,CAAP;AAGD,KAJD,CA3CiB,CAiDjB;;;AACA,QAAI4B,IAAI,GAAG,SAASA,IAAT,CAAc5B,QAAd,EAAwB;AACjC,aAAO4D,OAAO,CAAChC,IAAR,CAAa0D,WAAW,CAACtF,QAAD,EAAWA,QAAQ,CAAC8E,KAApB,CAAxB,CAAP;AACD,KAFD;;AAIA,QAAIzF,OAAO,GAAG,SAASA,OAAT,CAAiBW,QAAjB,EAA2B;AACvC,aAAO4D,OAAO,CAACvE,OAAR,CAAgBiG,WAAW,CAACtF,QAAD,EAAWA,QAAQ,CAAC8E,KAApB,CAA3B,CAAP;AACD,KAFD;;AAIA,QAAIjG,UAAU,GAAG,SAASA,UAAT,CAAoBmB,QAApB,EAA8B;AAC7C,aAAO4D,OAAO,CAAC/E,UAAR,CAAmByG,WAAW,CAACtF,QAAD,EAAWA,QAAQ,CAAC8E,KAApB,CAA9B,CAAP;AACD,KAFD;;AAIA,QAAIhC,UAAU,GAAG,SAASA,UAAT,CAAoB9C,QAApB,EAA8B;AAC7C,aAAO4D,OAAO,CAACd,UAAR,CAAmBwC,WAAW,CAACtF,QAAD,EAAWA,QAAQ,CAAC8E,KAApB,CAA9B,CAAP;AACD,KAFD;;AAIA,QAAIlJ,cAAc,GAAG,SAASA,cAAT,CAAwBoE,QAAxB,EAAkC;AACrD,WAAK,IAAI/E,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAGC,KAAK,CAACJ,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAvB,CAAzC,EAAoEK,IAAI,GAAG,CAAhF,EAAmFA,IAAI,GAAGL,IAA1F,EAAgGK,IAAI,EAApG,EAAwG;AACtGF,YAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiBJ,SAAS,CAACI,IAAD,CAA1B;AACD;;AAED,UAAIkK,WAAW,GAAG5B,OAAO,CAAChI,cAAR,CAAuBL,KAAvB,CAA6BqI,OAA7B,EAAsC,CAAC0B,WAAW,CAACtF,QAAD,EAAWA,QAAQ,CAAC8E,KAApB,CAAZ,EAAwCvD,MAAxC,CAA+CnG,IAA/C,CAAtC,CAAlB;AAEA,UAAI4E,QAAQ,CAAC8E,KAAb,EAAoBU,WAAW,CAACV,KAAZ,GAAoB,CAAC,GAAGzE,cAAc,CAACxE,WAAnB,EAAgCmE,QAAQ,CAAC8E,KAAzC,CAApB;AAEpB,aAAOO,WAAW,CAACG,WAAD,CAAlB;AACD,KAVD;;AAYA,WAAOpJ,QAAQ,CAAC,EAAD,EAAKwH,OAAL,EAAc;AAC3BpD,wBAAkB,EAAEA,kBADO;AAE3BmB,kBAAY,EAAEA,YAFa;AAG3BG,YAAM,EAAEA,MAHmB;AAI3BF,UAAI,EAAEA,IAJqB;AAK3BvC,aAAO,EAAEA,OALkB;AAM3BR,gBAAU,EAAEA,UANe;AAO3BiE,gBAAU,EAAEA,UAPe;AAQ3BlH,oBAAc,EAAEA;AARW,KAAd,CAAf;AAUD,GAxFD;AAyFD,CA1FD;;AA4FA1B,OAAO,CAACL,OAAR,GAAkBqL,UAAlB,C;;;;;;;;;;;;ACxHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;;AAEA,IAAMO,aAAa,GAAG,SAAhBA,aAAgB,CAAAhK,IAAI;AAAA,SAAI,UAAC8B,MAAD,EAASmI,OAAT,EAAqB;AAC/C,QAAIC,0DAAQ,CAACpI,MAAD,CAAZ,EAAsB;AAClB,aAAO9B,IAAI,CAAC;AACRhC,YAAI,EAAE8D,MADE;AAERmI,eAAO,EAAPA;AAFQ,OAAD,CAAX;AAIH;;AAED,QAAIE,0DAAQ,CAACrI,MAAD,CAAR,IAAoBA,MAAM,CAAC9D,IAA/B,EAAqC;AACjC,aAAOgC,IAAI,CAAC8B,MAAD,CAAX;AACH;;AAED,UAAM,IAAIsI,KAAJ,CACF,yEADE,CAAN;AAGH,GAfyB;AAAA,CAA1B;AAiBA;;;;;;;;AAMA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAASC,cAAT,EAAyB;AACpD;;;;;;AAMA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,GAAG;AAAA,WAAI,UAAAxK,IAAI;AAAA,aAAI,UAAC8B,MAAD,EAASmI,OAAT,EAAqB;AACzD,YAAIC,0DAAQ,CAACpI,MAAD,CAAZ,EAAsB;AAAA,cACV2I,QADU,GACaD,GADb,CACVC,QADU;AAAA,cACAC,QADA,GACaF,GADb,CACAE,QADA;AAElB,cAAMC,OAAO,GAAGL,cAAc,CAACM,kBAAf,CAAkC9I,MAAlC,CAAhB;AACA,cAAM+I,YAAY,GAAGF,OAAO,CAACpC,GAAR,CAAY,gBAA+B;AAAA,gBAA5BuC,QAA4B,QAA5BA,QAA4B;AAAA,gBAAlBC,WAAkB,QAAlBA,WAAkB;AAC5D,gBAAMC,SAAS,GAAG;AACd1I,mBAAK,EAAEyI,WADO;AAEdE,uBAAS,EAAER,QAAQ,EAFL;AAGdS,oBAAM,EAAElB,aAAa,CAAChK,IAAD,CAHP;AAId0K,sBAAQ,EAARA;AAJc,aAAlB;AAMA,gBAAMS,GAAG,GAAGL,QAAQ,CAACE,SAAD,EAAYf,OAAZ,CAApB;AACA,mBAAOmB,OAAO,CAACC,OAAR,CAAgBF,GAAhB,CAAP;AACH,WAToB,CAArB;;AAUA,cAAIN,YAAY,CAACnL,MAAb,KAAwB,CAA5B,EAA+B;AAC3B,mBAAOmL,YAAY,CAAC,CAAD,CAAnB;AACH;;AACD,iBAAOO,OAAO,CAACE,GAAR,CAAYT,YAAZ,CAAP;AACH,SAlBwD,CAmBzD;;;AACA,YAAIV,0DAAQ,CAACrI,MAAD,CAAR,IAAoBA,MAAM,CAAC9D,IAA/B,EAAqC;AACjC,iBAAOgC,IAAI,CAAC8B,MAAD,CAAX;AACH;;AAED,cAAM,IAAIsI,KAAJ,CACF,2EADE,CAAN;AAGH,OA3BmC;AAAA,KAAR;AAAA,GAA5B;;AA6BA,SAAOG,gBAAP;AACH,CArCD;;AAuCeF,qFAAf,E;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;;;;;;;;;AAQA,IAAMkB,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,MAAD,EAASC,cAAT,EAAyBC,QAAzB,EAAsC;AACjE;AACA,MACI,OAAOD,cAAP,KAA0B,UAA1B,IACA,OAAOC,QAAP,KAAoB,WAFxB,EAGE;AACEA,YAAQ,GAAGD,cAAX;AACAA,kBAAc,GAAG1L,SAAjB;AACH,GARgE,CAUjE;;;AACA,MAAI,CAACoK,0DAAQ,CAACqB,MAAD,CAAb,EAAuB;AACnB,UAAM,IAAIpB,KAAJ,CAAU,qCAAV,CAAN;AACH,GAbgE,CAejE;AACA;;;AACA,MAAME,cAAc,GAAG,IAAIqB,wDAAJ,CAAgBH,MAAhB,EAAwB,MAAxB,EAAgCC,cAAhC,CAAvB,CAjBiE,CAkBjE;;AACA,MAAMG,WAAW,GAAGtB,cAAc,CAACuB,aAAf,EAApB;AAEA,MAAMtB,gBAAgB,GAAGF,qEAAsB,CAACC,cAAD,CAA/C;AACA,MAAMwB,mBAAmB,GAAGC,6DAAe,CAACxB,gBAAD,CAA3C,CAtBiE,CAwBjE;;AACA,MAAImB,QAAQ,KAAK3L,SAAjB,EAA4B;AACxB;AACA;AACA2L,YAAQ,GAAGM,qDAAO,CACdF,mBADc,EAEdJ,QAFc,CAAlB;AAIH,GAPD,MAOO;AACHA,YAAQ,GAAGI,mBAAX;AACH,GAlCgE,CAoCjE;AACA;;;AACA,MAAMG,KAAK,GAAGC,yDAAW,CAACN,WAAD,EAAcH,cAAd,EAA8BC,QAA9B,CAAzB;AAEA,SAAOO,KAAP;AACH,CAzCD;;AA2CeV,qFAAf,E;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AAEA;AACA;AAEA;;;;;;;;;AAQe,SAASY,0BAAT,CACXX,MADW,EAEXC,cAFW,EAGXC,QAHW,EAIb;AACE;AACA,MACI,OAAOD,cAAP,KAA0B,UAA1B,IACA,OAAOC,QAAP,KAAoB,WAFxB,EAGE;AACEA,YAAQ,GAAGD,cAAX;AACAA,kBAAc,GAAG1L,SAAjB;AACH,GARH,CAUE;;;AACA,MAAI,CAACoK,0DAAQ,CAACqB,MAAD,CAAb,EAAuB;AACnB,UAAM,IAAIpB,KAAJ,CAAU,qCAAV,CAAN;AACH;;AAEDoB,QAAM,CAAClJ,KAAP,qBACOkJ,MAAM,CAAClJ,KADd,MAEO8J,wDAAmB,CAACC,QAF3B;;AAKA,MAAIX,QAAJ,EAAc;AACVA,YAAQ,GAAGM,qDAAO,CACdD,qDAAe,MAAf,4BAAmBK,wDAAmB,CAACE,WAAvC,EADc,EAEdZ,QAFc,CAAlB;AAIH;;AAED,SAAOH,uEAAsB,CAACC,MAAD,EAASC,cAAT,EAAyBC,QAAzB,CAA7B;AACH,C;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CD;AAEA;;;;;IAIMC,W;;;AACF,uBAAYH,MAAZ,EAAoBe,UAApB,EAAgCd,cAAhC,EAAgD;AAAA;;AAAA,QACpCnJ,KADoC,GACEkJ,MADF,CACpClJ,KADoC;AAAA,QAC7B+J,QAD6B,GACEb,MADF,CAC7Ba,QAD6B;AAAA,QACnB1B,OADmB,GACEa,MADF,CACnBb,OADmB;AAAA,QACV6B,OADU,GACEhB,MADF,CACVgB,OADU,EAE5C;;AACA,SAAKC,UAAL,GAAkBjB,MAAlB,CAH4C,CAI5C;;AACA,SAAKkB,YAAL,GAAoBH,UAApB,CAL4C,CAM5C;;AACA,SAAKI,UAAL,GAAkBN,QAAQ,IAAI,EAA9B,CAP4C,CAQ5C;;AACA,SAAKO,OAAL,GAAetK,KAAK,IAAI,EAAxB,CAT4C,CAU5C;;AACA,SAAKuK,WAAL,GAAmBvK,KAAK,IAAI,EAA5B,CAX4C,CAY5C;;AACA,SAAKwK,SAAL,GAAiBnC,OAAO,IAAI,EAA5B,CAb4C,CAc5C;;AACA,SAAKoC,SAAL,GAAiBP,OAAO,IAAI,EAA5B,CAf4C,CAgB5C;;AACA,SAAKQ,UAAL,GAAkB,EAAlB,CAjB4C,CAkB5C;;AACA,SAAKC,mBAAL,GAA2B,KAAKC,yBAAL,CAA+B,KAAKN,OAApC,CAA3B;AAEA,SAAKO,SAAL,CAAe1B,cAAf;AACH;;;;8BAESA,c,EAAgB;AAAA;;AACtB,UAAMe,OAAO,GAAG,KAAKO,SAArB,CADsB,CAEtB;;AACA,UAAItB,cAAJ,EAAoB;AAChB7K,cAAM,CAACmC,IAAP,CAAY0I,cAAZ,EAA4BzF,OAA5B,CAAoC,UAAAoH,OAAO,EAAI;AAC3C,cAAI,CAACZ,OAAD,IAAY,CAACA,OAAO,CAACY,OAAD,CAAxB,EAAmC;AAC/B,iBAAI,CAACR,OAAL,CAAaQ,OAAb,IAAwB3B,cAAc,CAAC2B,OAAD,CAAtC;AACH;AACJ,SAJD;AAKH,OATqB,CAWtB;AACA;;;AACA,UAAIxM,MAAM,CAACmC,IAAP,CAAYyJ,OAAZ,EAAqB9M,MAAzB,EAAiC;AAC7BkB,cAAM,CAACmC,IAAP,CAAYyJ,OAAZ,EAAqBxG,OAArB,CAA6B,UAAAuG,UAAU,EAAI;AACvC,cAAMc,UAAU,GAAGb,OAAO,CAACD,UAAD,CAA1B;AACA,cAAIe,kBAAJ;;AACA,cAAI7B,cAAc,IAAIA,cAAc,CAACc,UAAD,CAApC,EAAkD;AAC9Ce,8BAAkB,GAAG7B,cAAc,CAACc,UAAD,CAAnC;AACH;;AACD,eAAI,CAACS,UAAL,CAAgBT,UAAhB,IAA8B,IAAIZ,WAAJ,CAC1B0B,UAD0B,EAE1Bd,UAF0B,EAG1Be,kBAH0B,CAA9B;AAKH,SAXD;AAYH;AACJ;AAED;;;;;;;;;8CAM0B9M,G,EAAK;AAAA;;AAC3B,UAAI+F,MAAM,GAAG,EAAb;AACA3F,YAAM,CAACmC,IAAP,CAAYvC,GAAZ,EAAiBwF,OAAjB,CAAyB,UAAA/E,GAAG,EAAI;AAC5B,YAAMiC,IAAI,GAAG1C,GAAG,CAACS,GAAD,CAAhB;AACA,YAAMiB,IAAI,GAAG,EAAb;;AACA,YAAIqL,4DAAU,CAACrK,IAAD,CAAd,EAAsB;AAClBhB,cAAI,CAACiE,IAAL,CAAUlF,GAAV;AACAsF,gBAAM,CAACJ,IAAP,CAAY;AACRjE,gBAAI,EAAJA,IADQ;AAERsL,mBAAO,EAAEtK;AAFD,WAAZ;AAIH;;AACD,YAAIiH,0DAAQ,CAACjH,IAAD,CAAZ,EAAoB;AAChB,cAAMiI,GAAG,GAAG,MAAI,CAAC+B,yBAAL,CAA+BhK,IAA/B,CAAZ;;AACAqD,gBAAM,GAAGA,MAAM,CAACT,MAAP,CAAcqF,GAAd,CAAT;AACH;AACJ,OAdD;AAeA,aAAO5E,MAAP;AACH;AAED;;;;;;;;;;kDAO8BwE,W,EAAajJ,M,EAAQ;AAC/C,UAAM2L,gBAAgB,GAAG,KAAKR,mBAA9B;AACA,UAAIS,UAAU,GAAG3C,WAAW,IAAI,EAAhC;AACA0C,sBAAgB,CAACzH,OAAjB,CAAyB,UAAA9C,IAAI,EAAI;AAAA,YACrBhB,IADqB,GACHgB,IADG,CACrBhB,IADqB;AAAA,YACfsL,OADe,GACHtK,IADG,CACfsK,OADe;AAE7B,YAAMG,YAAY,GAAGC,+DAAa,CAACF,UAAD,EAAaxL,IAAb,CAAlC;AACA,YAAM2L,WAAW,GAAGL,OAAO,CACvBD,4DAAU,CAACI,YAAD,CAAV,GAA2B5N,SAA3B,GAAuC4N,YADhB,EAEvB7L,MAFuB,CAA3B;AAIA,YAAMgM,iBAAiB,GAAGC,+DAAa,CACnCL,UADmC,EAEnCxL,IAFmC,EAGnC2L,WAHmC,CAAvC;AAKAH,kBAAU,qBACHA,UADG,MAEHI,iBAFG,CAAV;AAIH,OAhBD;AAiBA,aAAOJ,UAAP;AACH;;;uCAEkB5L,M,EAAQ;AAAA;;AACvB,UAAIyE,MAAM,GAAG,EAAb;;AACA,UAAI,KAAKuG,SAAL,IAAkB,KAAKA,SAAL,CAAehL,MAAf,CAAtB,EAA8C;AAC1CyE,cAAM,CAACJ,IAAP,CAAY;AACR2E,kBAAQ,EAAE,KAAKgC,SAAL,CAAehL,MAAf,CADF;AAERiJ,qBAAW,EAAE,KAAK6B,OAFV;AAGRL,oBAAU,EAAE,KAAKG;AAHT,SAAZ;AAKH;;AACD,UAAMsB,mBAAmB,GAAGpN,MAAM,CAACmC,IAAP,CAAY,KAAKiK,UAAjB,CAA5B;;AACA,UAAIgB,mBAAmB,CAACtO,MAAxB,EAAgC;AAC5BsO,2BAAmB,CAAChI,OAApB,CAA4B,UAAAjI,IAAI,EAAI;AAChC,cAAMoN,GAAG,GAAG,MAAI,CAAC6B,UAAL,CAAgBjP,IAAhB,EAAsB6M,kBAAtB,CAAyC9I,MAAzC,CAAZ;;AACAyE,gBAAM,GAAGA,MAAM,CAACT,MAAP,CAAcqF,GAAd,CAAT;AACH,SAHD;AAIH;;AACD,aAAO5E,MAAP;AACH;AAED;;;;;;;;;;;;oCASgB;AAAA;;AACZ,aAAO,YAA4C;AAAA,YAA3CwE,WAA2C,uEAA7B,MAAI,CAAC8B,WAAwB;AAAA,YAAX/K,MAAW;AAAA,YACvC9D,IADuC,GACrB8D,MADqB,CACvC9D,IADuC;AAAA,YACjCiM,OADiC,GACrBnI,MADqB,CACjCmI,OADiC;AAE/C,YAAMgE,cAAc,GAAG,MAAI,CAACtB,UAAL,CAAgB3O,IAAhB,CAAvB;AACA,YAAI0P,UAAJ;;AAEA,YAAIO,cAAJ,EAAoB;AAChB;AACA,cAAMC,iBAAiB,GAAGD,cAAc,CAAClD,WAAD,EAAcd,OAAd,CAAxC;AACAyD,oBAAU,qBAAQQ,iBAAR,CAAV;AACA,gBAAI,CAACtB,OAAL,GAAec,UAAf;AACH,SALD,MAKO;AACH;AACA,cAAMM,mBAAmB,GAAGpN,MAAM,CAACmC,IAAP,CAAY,MAAI,CAACiK,UAAjB,CAA5B;;AACA,cAAIgB,mBAAmB,CAACtO,MAAxB,EAAgC;AAC5B,gBAAIyO,kBAAJ;AACAH,+BAAmB,CAAChI,OAApB,CAA4B,UAAAoI,kBAAkB,EAAI;AAC9C,kBAAMC,kBAAkB,GAAG,MAAI,CAACrB,UAAL,CACvBoB,kBADuB,CAA3B,CAD8C,CAI9C;;AACA,kBAAM7H,MAAM,GAAG8H,kBAAkB,CAACxC,aAAnB,GACXd,WAAW,CAACqD,kBAAD,CADA,EAEXtM,MAFW,CAAf;;AAIA,kBAAIyE,MAAM,KAAKwE,WAAW,CAACqD,kBAAD,CAA1B,EAAgD;AAC5C,oBAAI,CAACD,kBAAL,EAAyB;AACrBA,oCAAkB,GAAG,EAArB;AACH;;AACDA,kCAAkB,CAACC,kBAAD,CAAlB,GAAyC7H,MAAzC;AACH;AACJ,aAfD;AAgBAmH,sBAAU,qBACH3C,WADG,MAEHoD,kBAFG,CAAV;AAIH;AACJ,SApC8C,CAsC/C;AACA;;;AACA,YACI,MAAI,CAAClB,mBAAL,IACA,MAAI,CAACA,mBAAL,CAAyBvN,MAAzB,GAAkC,CAFtC,EAGE;AACE,cAAM4O,mBAAmB,GAAG,MAAI,CAACC,6BAAL,CACxB,MAAI,CAAC3B,OADmB,EAExB9K,MAFwB,CAA5B;;AAIA4L,oBAAU,qBACHA,UADG,MAEHY,mBAFG,CAAV;AAIA,gBAAI,CAAC1B,OAAL,qBACO,MAAI,CAACA,OADZ,MAEO0B,mBAFP;AAIH;;AAED,eAAOZ,UAAU,IAAI3C,WAArB;AACH,OA3DD;AA4DH;;;;;;AAGUY,0EAAf,E;;;;;;;;;;;;AChNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAM6C,MAAM,GAAG,SAATA,MAAS,CAAAC,IAAI,EAAI;AAC1B,SAAO7N,MAAM,CAACF,SAAP,CAAiB8B,QAAjB,CAA0BrB,IAA1B,CAA+BsN,IAA/B,CAAP;AACH,CAFM;AAGP;;;;;;;AAMO,IAAMtE,QAAQ,GAAG,SAAXA,QAAW,CAAAsE,IAAI,EAAI;AAC5B,SAAOD,MAAM,CAACC,IAAD,CAAN,KAAiB,iBAAxB;AACH,CAFM;AAIP;;;;;;;AAMO,IAAMvE,QAAQ,GAAG,SAAXA,QAAW,CAAAuE,IAAI,EAAI;AAC5B,SAAOD,MAAM,CAACC,IAAD,CAAN,KAAiB,iBAAxB;AACH,CAFM;AAIP;;;;;;;AAMO,IAAMlB,UAAU,GAAG,SAAbA,UAAa,CAAAkB,IAAI,EAAI;AAC9B,SAAOD,MAAM,CAACC,IAAD,CAAN,KAAiB,mBAAxB;AACH,CAFM;AAIP;;;;;;;AAMO,SAASb,aAAT,CAAuBpN,GAAvB,EAA4B0B,IAA5B,EAAkC;AACrC,MAAIqE,MAAM,GAAG3F,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,GAAlB,CAAb;;AACA,OAAK,IAAI2C,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGjB,IAAI,CAACxC,MAAjC,EAAyCyD,KAAK,EAA9C,EAAkD;AAC9C,QAAMuL,CAAC,GAAGxM,IAAI,CAACiB,KAAD,CAAd;AACAoD,UAAM,GAAGA,MAAM,CAACmI,CAAD,CAAf;;AACA,QAAI,CAACnI,MAAL,EAAa;AACT,aAAOA,MAAP;AACH;AACJ;;AACD,SAAOA,MAAP;AACH;AAED;;;;;;;AAMO,SAASwH,aAAT,CAAuBvN,GAAvB,EAA4B0B,IAA5B,EAAkCsB,KAAlC,EAAyC;AAC5C,MAAI+C,MAAM,GAAG3F,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,GAAlB,CAAb;AACA,MAAImO,SAAS,GAAGpI,MAAhB;;AACA,OAAK,IAAIpD,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGjB,IAAI,CAACxC,MAAjC,EAAyCyD,KAAK,EAA9C,EAAkD;AAC9C,QAAMuL,CAAC,GAAGxM,IAAI,CAACiB,KAAD,CAAd;;AACA,QAAIA,KAAK,KAAKjB,IAAI,CAACxC,MAAL,GAAc,CAA5B,EAA+B;AAC3BiP,eAAS,CAACD,CAAD,CAAT,GAAelL,KAAf;AACH,KAFD,MAEO;AACHmL,eAAS,GAAGA,SAAS,CAACD,CAAD,CAArB;AACH;;AACD,QAAI,CAACC,SAAL,EAAgB;AACZ,aAAO5O,SAAP;AACH;AACJ;;AACD,SAAOwG,MAAP;AACH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxED;AACA;AAEA;AACA;AACA;AAEA,IAAMqI,kBAAkB,GAAGC,IAAI,CAACrF,KAAL,CAAWvH,OAAX,CAA3B;AAEA;;AACA,IAAM6M,IAAI,GAAI,YAAM;AAChB,MAAItQ,IAAJ,EAAgB,OAAO,KAAP;AAChB,MAAI,CAACuQ,MAAM,CAACC,cAAZ,EAA4B,OAAO,KAAP;AAC5B,MAAI,CAACJ,kBAAL,EAAyB,OAAO,KAAP;AAEzB,MAAIA,kBAAkB,KAAK,IAA3B,EAAiC,OAAO,IAAP;AACjC,MAAIA,kBAAkB,KAAK,KAA3B,EAAkC,OAAO,IAAP;AAElC,SAAOK,OAAO,CACV,QAAOL,kBAAP,MAA8B,QAA9B,IACI,CAAChP,KAAK,CAACiD,OAAN,CAAc+L,kBAAd,CAFK,CAAd;AAIH,CAZY,EAAb;AAcA;;;;;;AAIO,IAAMM,IAAI,GAAG,SAAPA,IAAO,GAAM;AACtB,MAAI,CAACJ,IAAL,EAAW;AAEX;;AACA,MAAMxM,KAAK,GAAG6M,yDAAW,CAACC,uCAAK,CAAC3E,QAAN,EAAD,CAAzB;AAEA,MAAIpC,SAAS,GAAG,EAAhB;;AAEA,MAAIuG,kBAAkB,KAAK,IAAvB,IAA+BA,kBAAkB,KAAK,KAA1D,EAAiE;AAC7DvG,aAAS,GAAG/F,KAAZ;AACH,GAFD,MAEO,IACH,QAAOsM,kBAAP,MAA8B,QAA9B,IACA,CAAChP,KAAK,CAACiD,OAAN,CAAc+L,kBAAd,CAFE,EAGL;AACE;AACA,QAAMpF,KAAK,GAAG,SAARA,KAAQ,CAAChJ,GAAD,EAA8B;AAAA,UAAxB6O,cAAwB,uEAAP,EAAO;AACxCzO,YAAM,CAACmC,IAAP,CAAYvC,GAAZ,EAAiBwF,OAAjB,CAAyB,UAAA/E,GAAG,EAAI;AAC5B,YAAMqO,qBAAqB,GACvBD,cAAc,cAAOR,IAAI,CAACvF,SAAL,CAAerI,GAAf,CAAP,MADlB;;AAEA,YAAI,QAAOT,GAAG,CAACS,GAAD,CAAV,MAAoB,QAAxB,EAAkC;AAC9BuI,eAAK,CAAChJ,GAAG,CAACS,GAAD,CAAJ,EAAWqO,qBAAX,CAAL;AACH,SAFD,MAEO,IAAI9O,GAAG,CAACS,GAAD,CAAH,KAAa,IAAjB,EAAuB;AAC1B,cAAMuC,KAAK,GAAG+L,iDAAG,CAACjN,KAAD,EAAQgN,qBAAR,CAAjB;AACA,cAAI,OAAO9L,KAAP,KAAiB,WAArB,EACIgM,iDAAG,CAACnH,SAAD,EAAYiH,qBAAZ,EAAmC9L,KAAnC,CAAH;AACP;AACJ,OAVD;AAWH,KAZD;;AAaAgG,SAAK,CAACoF,kBAAD,CAAL,CAfF,CAgBE;AACH;;AAEDI,gBAAc,CAACS,OAAf,CAAuBC,iEAAvB,EAAwCb,IAAI,CAACvF,SAAL,CAAejB,SAAf,CAAxC;AAEA;AACH,CAnCM;AAqCP;;;;;AAIO,IAAMsH,2BAA2B,GAAG,SAA9BA,2BAA8B,GAAM;AAC7C,MAAI,CAACb,IAAL,EAAW;AACXC,QAAM,CAACa,gBAAP,CAAwB,QAAxB,EAAkCV,IAAlC;AACA;AACH,CAJM;AAMP;;;;;AAIO,IAAMW,IAAI,GAAG,SAAPA,IAAO,GAAM;AACtB,MAAI,CAACf,IAAL,EAAW,OAAO,EAAP;AACX,SAAOD,IAAI,CAACrF,KAAL,CAAWwF,cAAc,CAACc,OAAf,CAAuBJ,iEAAvB,KAA2C,IAAtD,CAAP;AACH,CAHM,C;;;;;;;;;;;;;;;;;AC/EP;;;;;;AAOA;;AAEA;;;;AAIA,IAAIK,gBAAJ,C,CAEA;;AACA,IAAIC,cAAJ;AAEA,IAAIC,MAAM,GAAG,KAAb;AAEA;;AACA,IAAMC,YAAY,GAAG;AACjBC,OAAK,EAAE,EADU;AAEjBC,OAAK,EAAE;AAFU,CAArB;AAIA,IAAIC,aAAa,GAAGtQ,SAApB;AAEA;;;;;;;;;AAQe,yEAACoQ,KAAD,EAAuB;AAAA,MAAfC,KAAe,uEAAP,EAAO;AAClC,MAAI5R,IAAJ,EAAgB;;AAChB,MAAI,SAAY,CAACyR,MAAjB,EAAyB;AACrBK,cAAU,CAAC,YAAM;AACbL,YAAM,GAAG,IAAT;AACH,KAFS,CAAV;AAGA;AACH,GAPiC,CASlC;;AACA;;;;;;;;;;;;;;;AAeA;;;AACA,MACI,CAACC,YAAY,CAACC,KAAd,KACC,CAACvQ,KAAK,CAACiD,OAAN,CAAcqN,YAAY,CAACE,KAA3B,CAAD,IAAsC,CAACF,YAAY,CAACE,KAAb,CAAmB1Q,MAD3D,CADJ,EAGE;AACEwQ,gBAAY,CAACC,KAAb,GAAqBA,KAArB;AACAD,gBAAY,CAACE,KAAb,GAAqBA,KAArB;AACH;;AAED,MAAIC,aAAJ,EAAmB;AAEnBA,eAAa,GAAGC,UAAU,CAAC,YAAM;AAC7BC,YAAQ;AACRL,gBAAY,CAACC,KAAb,GAAqB,EAArB;AACAD,gBAAY,CAACE,KAAb,GAAqB,EAArB;AACAC,iBAAa,GAAGtQ,SAAhB;AACH,GALyB,CAA1B;AAMH,CA1CD,E,CA4CA;;AAEA,IAAMwQ,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,MACXJ,KADW,GACMD,YADN,CACXC,KADW;AAAA,MACJC,KADI,GACMF,YADN,CACJE,KADI,EAGnB;;AACAI,UAAQ,CAACL,KAAT,GAAiBA,KAAjB,CAJmB,CAMnB;;AACA,MAAMM,IAAI,GAAGD,QAAQ,CAACE,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;AACAC,qBAAmB,GAAG3K,OAAtB,CAA8B,UAAA4K,EAAE;AAAA,WAAIH,IAAI,CAACI,WAAL,CAAiBD,EAAjB,CAAJ;AAAA,GAAhC;AAEAb,kBAAgB,CAAC/J,OAAjB,CAAyB,UAAA4K,EAAE,EAAI;AAC3B,QAAIA,EAAE,IAAIA,EAAE,CAACE,UAAb,EAAyBF,EAAE,CAACE,UAAH,CAAcD,WAAd,CAA0BD,EAA1B;AAC5B,GAFD;AAGAb,kBAAgB,GAAGK,KAAK,CACnBhK,MADc,CACP,UAAA2K,IAAI;AAAA,WAAI,QAAOA,IAAP,MAAgB,QAApB;AAAA,GADG,EAEdxI,GAFc,CAEV,UAAAwI,IAAI,EAAI;AACT,QAAMH,EAAE,GAAGJ,QAAQ,CAACQ,aAAT,CAAuB,MAAvB,CAAX;;AACA,SAAK,IAAI/P,GAAT,IAAgB8P,IAAhB,EAAsB;AAClBH,QAAE,CAACK,YAAH,CAAgBhQ,GAAhB,EAAqB8P,IAAI,CAAC9P,GAAD,CAAzB;AACH,KAJQ,CAKT;;;AACA,QAAI+O,cAAJ,EAAoB;AAChBS,UAAI,CAACS,YAAL,CAAkBN,EAAlB,EAAsBZ,cAAtB;AACH,KAFD,MAEO;AACHS,UAAI,CAACU,WAAL,CAAiBP,EAAjB;AACH;;AACD,WAAOA,EAAP;AACH,GAdc,CAAnB;AAeH,CA5BD,C,CA8BA;;AAEA;;;;;;AAIO,IAAMD,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AACrC,MAAI,CAAC/Q,KAAK,CAACiD,OAAN,CAAckN,gBAAd,CAAL,EAAsC;AAClC,QAAMU,IAAI,GAAGD,QAAQ,CAACE,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;AAEAX,oBAAgB,GAAG,EAAnB,CAHkC,CAIlC;AACA;;AACA,QAAMqB,UAAU,GAAGX,IAAI,CAACW,UAAxB;AACA,QAAIC,SAAS,GAAG,KAAhB;AACA,QAAIC,OAAO,GAAG,KAAd;AACA,QAAIvQ,CAAC,GAAG,CAAR;;AACA,WAAO,CAACuQ,OAAD,IAAYF,UAAU,CAACrQ,CAAD,CAAV,YAAyBwQ,IAA5C,EAAkD;AAC9C,UAAMC,IAAI,GAAGJ,UAAU,CAACrQ,CAAD,CAAvB;;AACA,UAAIyQ,IAAI,CAACC,QAAL,KAAkBF,IAAI,CAACG,YAA3B,EAAyC;AACrC,YAAIF,IAAI,CAACG,SAAL,KAAmBC,yBAAvB,EACIP,SAAS,GAAG,IAAZ;;AACJ,YAAIG,IAAI,CAACG,SAAL,KAAmBE,uBAAvB,EAAkD;AAC9CP,iBAAO,GAAG,IAAV;AACAtB,wBAAc,GAAGwB,IAAjB;AACH;AACJ,OAPD,MAOO,IACHH,SAAS,IACTG,IAAI,CAACC,QAAL,KAAkBF,IAAI,CAACO,YADvB,IAEAN,IAAI,CAACO,OAAL,KAAiB,MAHd,EAIL;AACEhC,wBAAgB,CAAC5J,IAAjB,CAAsBqL,IAAtB;AACH;;AACDzQ,OAAC;AACJ;AACJ;;AAED,SAAOgP,gBAAP;AACH,CAhCM;AAkCP;;AACO,IAAMiC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC5B/B,QAAM,GAAG,IAAT;AACH,CAFM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxJP;AAEA;CAEA;AACA;;AACA;AAEA;CAGA;;AAEA;AAIA;AAKA;AACA;CAGA;AAEA;;AACA,IAAIgC,WAAW,GAAG,KAAlB,C,CACA;AACA;AACA;AACA;;AACA,IAAMC,QAAQ,GAAG,EAAjB;AAEA;;;;;;;AAMA,IAAIC,kBAAkB,GAAG,CAAzB;AAEA;;;;;;;;;AASA;;;;;;;;AAQA;;;;;;;;AAQA;;;;;;;AAMA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACnG,KAAD,EAAQoG,WAAR,EAAqBC,SAArB,EAAmC;AACnD,MAAI,CAACC,sDAAY,EAAjB,EAAqB,OAAO,IAAInH,OAAJ,CAAY,UAAAC,OAAO;AAAA,WAAIA,OAAO,CAAC9E,MAAD,CAAX;AAAA,GAAnB,CAAP;AAErB,MAAMA,MAAM,GAAG+L,SAAS,CAACrG,KAAK,CAACxB,QAAN,EAAD,EAAmB4H,WAAnB,EAAgCpG,KAAK,CAACvB,QAAtC,CAAxB,CAHmD,CAInD;AACA;AACA;AACA;;AACA,MAAI9K,KAAK,CAACiD,OAAN,CAAc0D,MAAd,CAAJ,EAA2B,OAAO6E,OAAO,CAACE,GAAR,CAAY/E,MAAZ,CAAP;AAC3B,MAAIA,MAAM,YAAY6E,OAAtB,EAA+B,OAAO7E,MAAP;AAC/B,SAAO,IAAI6E,OAAJ,CAAY,UAAAC,OAAO;AAAA,WAAIA,OAAO,CAAC9E,MAAD,CAAX;AAAA,GAAnB,CAAP;AACH,CAXD;AAaA;;;;;;;;;;AAQA,IAAMiM,UAAU,GAAG,SAAbA,UAAa,CAACvG,KAAD,EAAQtK,KAAR,EAAe8Q,QAAf,EAA4B;AAC3C,MAAI,CAACF,sDAAY,EAAjB,EAAqB,OAAO,EAAP;AAErB,MAAMG,eAAe,GAAG;AACpBvC,SAAK,EAAE,EADa;AAEpBC,SAAK,EAAE;AAFa,GAAxB;AAKA,MAAI,OAAOqC,QAAP,KAAoB,UAApB,IAAkC,QAAOA,QAAP,MAAoB,QAA1D,EACI,OAAOC,eAAP;AAEJ,MAAMpQ,KAAK,GAAG2J,KAAK,CAACxB,QAAN,EAAd;;AACA,MAAMkI,KAAK,GAAI,YAAM;AACjB,QAAI,QAAOF,QAAP,MAAoB,QAAxB,EAAkC,OAAOA,QAAP;AAClC,QAAME,KAAK,GAAGF,QAAQ,CAACnQ,KAAD,EAAQX,KAAR,CAAtB;AACA,QAAI,QAAOgR,KAAP,MAAiB,QAArB,EAA+B,OAAOD,eAAP;AAC/B,WAAOC,KAAP;AACH,GALa,EAAd;;AAZ2C,qBAsBvCA,KAtBuC,CAoBvCxC,KApBuC;AAAA,MAoBvCA,KApBuC,6BAoB/BuC,eAAe,CAACvC,KApBe;AAAA,qBAsBvCwC,KAtBuC,CAqBvCvC,KArBuC;AAAA,MAqBvCA,KArBuC,6BAqB/BsC,eAAe,CAACtC,KArBe;;AAwB3C,MAAI9N,KAAK,CAACsQ,QAAV,EAAoB;AAChB,QACI,CAACxC,KAAK,CAACyC,IAAN,CAAW,UAAA9B,IAAI,EAAI;AAChB,UAAIA,IAAI,CAAChT,IAAL,KAAc,gBAAlB,EAAoC;AAChCgT,YAAI,CAAC+B,OAAL,GAAexQ,KAAK,CAACsQ,QAArB;AACA,eAAO,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KANA,CADL,EAQE;AACExC,WAAK,CAACjK,IAAN,CAAW;AACPpI,YAAI,EAAE,gBADC;AAEP+U,eAAO,EAAExQ,KAAK,CAACsQ;AAFR,OAAX;AAIH;AACJ;;AAED,SAAO;AACHzC,SAAK,EAALA,KADG;AAEHC,SAAK,EAALA;AAFG,GAAP;AAIH,CA7CD,C,CA+CA;;AACA;;;;;;;;;;;;;AAWe;AAAA,MAACtL,OAAD,uEAAW,EAAX;AAAA,SAAkB,UAAAiO,gBAAgB,EAAI;AACjD;AADiD,2BAgB7CjO,OAhB6C,CAI7CkO,OAJ6C;AAAA,QAIpCC,QAJoC,iCAIzB,KAJyB;AAAA,QAK7CR,QAL6C,GAgB7C3N,OAhB6C,CAK7C2N,QAL6C;AAAA,wBAgB7C3N,OAhB6C,CAM7C2J,IAN6C;;AAAA,+CAUzC,EAVyC;AAAA,QAOlCyE,UAPkC,iBAOzCC,KAPyC;AAAA,QAQlCC,SARkC,iBAQzCC,KARyC;AAAA,QASvBC,oBATuB,iBASzCC,gBATyC;AAAA,QAWrCC,OAXqC,GAgB7C1O,OAhB6C,CAW7C2O,MAX6C;AAAA,uBAgB7C3O,OAhB6C,CAY7C4O,GAZ6C;AAAA,QAY7CA,GAZ6C,6BAYvC,IAZuC,iBAkBjD;AAEA;;AAEA;;AACA,QAAMD,MAAM,GAAG,CAAC,CAAC7T,KAAK,CAACiD,OAAN,CAAc2Q,OAAd,CAAD,GAA0B,CAACA,OAAD,CAA1B,GAAsCA,OAAvC,EAAgDpN,MAAhD,CACX,UAAA5F,GAAG;AAAA,aAAI,QAAOA,GAAP,MAAe,QAAf,IAA2B,OAAOA,GAAG,CAACmT,OAAX,KAAuB,QAAtD;AAAA,KADQ,CAAf;AAIA;;AACA,QAAMC,SAAS,GAAGhU,KAAK,CAACiD,OAAN,CAAc4Q,MAAd,KAAyBA,MAAM,CAAC/T,MAAP,GAAgB,CAA3D,CA5BiD,CA6BjD;;AAEA;;AACA,QAAMmU,WAAW,GACb,OAAOpB,QAAP,KAAoB,UAApB,IAAkC,QAAOA,QAAP,MAAoB,QAD1D,CAhCiD,CAmCjD;;AAEA;AACA;;AAEA;;AACA,QAAMH,SAAS,GACX,OAAOxN,OAAO,CAAC2J,IAAf,KAAwB,UAAxB,IAAsC7O,KAAK,CAACiD,OAAN,CAAciC,OAAO,CAAC2J,IAAtB,CAAtC,GACM3J,OAAO,CAAC2J,IADd,GAEM,OAAOyE,UAAP,KAAsB,UAAtB,IAAoCtT,KAAK,CAACiD,OAAN,CAAcqQ,UAAd,CAApC,GACAA,UADA,GAEAnT,SALV,CAzCiD,CAgDjD;;AAhDiD,QAkD3C+T,kBAlD2C;AAAA;AAAA;AAAA;;AAAA;AAAA;AA4D7C;AAEA;AAEA;AAhE6C,6CAkExBC,EAlEwB,EAkEpB;AACrB,cAAI,IAAJ,EAAiB;AACjB,cAAI,CAACF,WAAL,EAAkB;;AAFG,qBAKjB,OAAOE,EAAP,KAAc,UAAd,GACMvB,UAAU,CACNwB,kDAAQ,EADF,EAENC,4EAAgC,CAAC,KAAKtS,KAAN,CAF1B,EAGNoS,EAHM,CADhB,GAMMA,EAAE,IACFvB,UAAU,CACNwB,kDAAQ,EADF,EAENC,4EAAgC,CAAC,KAAKtS,KAAN,CAF1B,EAGN8Q,QAHM,CAZC;AAAA,cAIbtC,KAJa,QAIbA,KAJa;AAAA,cAINC,KAJM,QAINA,KAJM;;AAkBrB8D,kFAAoB,CAAC/D,KAAD,EAAQC,KAAR,CAApB;AACH,SArF4C,CAuF7C;;AAvF6C;;AAqG7C;AAEA,kCAAYzO;AAAM;AAAlB,QAAiC;AAAA;;AAAA;;AAC7B,gGAAMA;AAAM;AAAZ;AAEA;;;;;AAH6B,gEAdzB;AACJwS,gBAAM,EACF,OAAOf,SAAP,KAAqB,UAArB,GACMA,SAAS,CACLY,kDAAQ,GAAGvJ,QAAX,EADK,EAELwJ,4EAAgC,CAAC,MAAKtS,KAAN,CAF3B,CADf,GAKM5B;AAPN,SAcyB;;AAAA,kEALvB,KAKuB;;AAAA,yEAJhB,EAIgB;;AAO7B,YAAIvB,IAAJ,EAAgB;AACZ,cAAM4V,GAAG,GAAGC,MAAO,GAAGC,SAAH,GAAyBC,YAA5C;;AACA,cAAIH,GAAG,CAACI,8EAAD,CAAP,EAAgC;AAC5B,gBAAIH,KAAJ,EAAa,EAIZ;;AAL2B,wCAMSD,GANT,CAMpBK,mBANoB;AAAA,gBAMpBA,mBANoB,sCAME,EANF;AAO5BA,+BAAmB,CAACC,OAApB,CAA4BC,aAA5B;AACH;AACJ;;AAED,YAAI,CAACpC,sDAAY,EAAjB,EAAqB;;AAErB,YAAIqB,SAAJ,EAAe;AACX,gBAAKgB,cAAL,GAAsBnB,MAAM,CAAClL,GAAP,CAAW,UAAA/H,GAAG;AAAA,mBAAIA,GAAG,CAACmT,OAAR;AAAA,WAAd,CAAtB;AACAkB,gEAAW,CAAC,MAAKC,WAAL,EAAD,EAAgCrB,MAAhC,CAAX,CAFW,CAGX;AACA;AACA;AACA;AACA;AACH;;AA9B4B;AA+BhC;AAED;;;;;;;AAxI6C;AAAA;AAAA;AA6IjC;AAAa;AACrB;AACA,cAAIjV,IAAJ,EAAgB;AACZ,gBAAI6V,KAAJ,EAAa;AACb,gBAAI,QAAOE,YAAP,yCAAOA,YAAP,OAAwB,QAA5B,EACI,OAAOA,YAAY,CAACrC,QAApB;AACP;;AACD,iBAAOA,QAAP,CAPqB,CAQrB;AACH,SAtJ4C,CAwJ7C;;AAxJ6C;AAAA;AAAA,2CA0J1B6C,SA1J0B,EA0Jf;AAC1B;AACA;AACA;AACA;AACA;AACA,eAAKb,oBAAL;AACH;AAjK4C;AAAA;AAAA,4CAmKzB;AAAA;;AAChB,eAAKc,OAAL,GAAe,IAAf;;AAEA,cAAI,CAAC,KAAK1S,KAAL,CAAW6R,MAAZ,IAAsB,OAAO7B,SAAP,KAAqB,WAA/C,EAA4D;AACxDF,uBAAW,CACP4B,kDAAQ,EADD,EAEPC,4EAAgC,CAAC,KAAKtS,KAAN,CAFzB,EAGP2Q,SAHO,CAAX,CAIE2C,IAJF,CAIO,YAAM;AACT,kBAAI,CAAC,MAAI,CAACD,OAAV,EAAmB;;AACnB,oBAAI,CAACE,QAAL,CAAc;AACVf,sBAAM,EAAE;AADE,eAAd;AAGH,aATD;AAUH;;AAED,eAAKD,oBAAL;;AACA,cAAIL,WAAW,IAAI,KAAKmB,OAAxB,EAAiC;AAC7B1E,sBAAU,CAAC,YAAM;AACb,kBAAI,MAAI,IAAI,MAAI,CAAC0E,OAAjB,EAA0B;AACtB,sBAAI,CAACd,oBAAL;AACH;AACJ,aAJS,EAIP,GAJO,CAAV;AAKH;;AAED,cAAIjC,WAAJ,EAAiB,CAChB,CADD,MACO;AACHA,uBAAW,GAAG,IAAd;AACH;AACJ;AAhM4C;AAAA;AAAA,+CAkMtB;AAAA;;AACnB,eAAK+C,OAAL,GAAe,KAAf;;AACA,cAAIpB,SAAJ,EAAe;AACXuB,kEAAW,CAAC,KAAKL,WAAL,EAAD,EAAqCrB,MAArC,CAAX;AACH;;AACD,cAAI,QAAOH,oBAAP,MAAgC,QAApC,EAA8C;AAC1ChD,sBAAU,CAAC,YAAM;AACb,oBAAI,CAAC3O,KAAL,CAAW+I,QAAX,CAAoB;AAChB1M,oBAAI,EAAEoX,0DADU;AAEhB3G,oBAAI,EAAE6E;AAFU,eAApB;AAIH,aALS,CAAV;AAMH;AACJ,SA/M4C,CAiN7C;;AAjN6C;AAAA;AAAA,iCAmNpC;AACL;AACA;AACA;AACA;AAEA,cAAI9U,IAAJ,EAAgB;AACZ,gBAAIkV,GAAG,KAAK,KAAZ,EAAmB,OAAO,IAAP;AACnB,gBAAIA,GAAG,KAAK,IAAZ,EAAkB,OAAOA,GAAP;AACrB;;AAED,cAAI2B,KAAJ,EAA8D,EAG7D;;AAED,cAAM1T,KAAK,GAAGf,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKc,KAAvB,EAA8B;AACxC2T,qBAAS,EAAE,KAAKV,cAAL,CACN9O,MADM,CACC,KAAKnE,KAAL,CAAW2T,SADZ,EAENC,IAFM,CAED,GAFC,EAGNC,IAHM,EAD6B;AAKxC,+BAAmB,KAAKZ,cAAL,CAAoBW,IAApB,CAAyB,GAAzB,EAA8BC,IAA9B;AALqB,WAA9B,CAAd;AAOA,cAAI3B,WAAJ,EACIlS,KAAK,CAAC8T,cAAN,GAAuB,KAAKvB,oBAAL,CAA0BwB,IAA1B,CAA+B,IAA/B,CAAvB,CAxBC,CA0BL;;AACA,cACI,OAAOpD,SAAP,KAAqB,WAArB,IACA,OAAOc,SAAP,KAAqB,UAFzB,EAIIzR,KAAK,CAACwS,MAAN,GAAe,KAAK7R,KAAL,CAAW6R,MAA1B;AAEJ,iBAAO,2DAAC,gBAAD,EAAsBxS,KAAtB,CAAP;AACH;AArP4C;;AAAA;AAAA,MAkDhBgU,4CAAK,CAACC,SAlDU;;AAAA,oBAkD3C9B,kBAlD2C,8BAmDX,iBAAiC;AAAA,UAA9B7H,KAA8B,SAA9BA,KAA8B;AAAA,oCAAvBoG,WAAuB;AAAA,UAAvBA,WAAuB,kCAAT,EAAS;;AAAA,wBACtCG,UAAU,CAC/BvG,KAD+B,EAE/B4J,yEAA6B,CAACxD,WAAD,CAFE,EAG/BI,QAH+B,CAD4B;AAAA,UACvDtC,KADuD,eACvDA,KADuD;AAAA,UAChDC,KADgD,eAChDA,KADgD;;AAM/D,aAAO;AAAED,aAAK,EAALA,KAAF;AAASC,aAAK,EAALA;AAAT,OAAP;AACH,KA1D4C;;AAwPjD,QAAI,OAAOkC,SAAP,KAAqB,WAAzB,EAAsC;AAClCwB,wBAAkB,CAACgC,yBAAnB,GAA+C,iBAGzC;AAAA,YAFF7J,KAEE,SAFFA,KAEE;AAAA,YADFoG,WACE,SADFA,WACE;AACF,YAAI,OAAOC,SAAP,KAAqB,WAAzB,EACI,OAAO,IAAIlH,OAAJ,CAAY,UAAAC,OAAO;AAAA,iBAAIA,OAAO,EAAX;AAAA,SAAnB,CAAP,CAFF,CAGF;;AACA,eAAO+G,WAAW,CACdnG,KADc,EAEd4J,yEAA6B,CAACxD,WAAD,CAFf,EAGdC,SAHc,CAAlB;AAKH,OAZD;AAaH,KAtQgD,CAwQjD;AACA;AACA;AACA;AACA;AAEA;;;AACA,QAAIqC,aAAa,GAAGoB,8DAAY,CAACjC,kBAAD,EAAqBf,gBAArB,CAAhC,CA/QiD,CAiRjD;AACA;AACA;AACA;AACA;;AAEA,QAAIE,QAAQ,KAAK,IAAjB,EAAuB;AACnB0B,mBAAa,GAAG3B,2DAAO,CAAC;AAAA,eAAO,EAAP;AAAA,OAAD,CAAP,CAAoB2B,aAApB,CAAhB;AACH,KAFD,MAEO,IAAI,OAAO1B,QAAP,KAAoB,UAAxB,EAAoC;AACvC0B,mBAAa,GAAG3B,2DAAO,CAACC,QAAD,CAAP,CAAkB0B,aAAlB,CAAhB;AACH,KAFM,MAEA,IAAI/U,KAAK,CAACiD,OAAN,CAAcoQ,QAAd,CAAJ,EAA6B;AAChC0B,mBAAa,GAAG3B,mDAAO,MAAP,4BAAWC,QAAX,GAAqB0B,aAArB,CAAhB;AACH;;AAED,WAAOA,aAAP;AACH,GAhSc;AAAA,CAAf,E;;;;;;;;;;;;;;;;;;;;;AC3JA;;;;;AAKA,IAAMqB,eAAe,GAAG,SAAlBA,eAAkB,GAAsB;AAAA,MAArBC,WAAqB,uEAAP,EAAO;AAC1C;AACA;AACA;AACA;AACA;AACA,2BACOA,WADP;AAGH,CATD;AAWA;;;;;;;AAKA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAyB;AAAA,MAAxBC,cAAwB,uEAAP,EAAO;AAChD;AACA;AACA;AACA;AACA;AACA,2BACOA,cADP;AAGH,CATD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;AAYA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACvR,aAAD;AAAA,SACpB,YAAkB;AAAA,QAAjBC,OAAiB,uEAAP,EAAO;AACd,QAAMqD,OAAO,GAAGtD,aAAa,CAACC,OAAD,CAA7B;AADc,QAENN,QAFM,GAEOM,OAFP,CAENN,QAFM;;AAId,QAAMoE,WAAW,GAAG,SAAdA,WAAc,CAACrE,QAAD,EAAc;AAC9B,UAAI,CAACA,QAAL,EACI,OAAOA,QAAP;;AAEJ,UAAIC,QAAQ,IAAID,QAAQ,CAACC,QAAT,IAAqB,IAArC,EAA2C;AACvC,YAAID,QAAQ,CAACpC,QAAT,CAAkB0G,WAAlB,GAAgCnF,OAAhC,CAAwCc,QAAQ,CAACqE,WAAT,EAAxC,MAAoE,CAAxE,EAA2E;AACvEtE,kBAAQ,CAACpC,QAAT,GAAoBoC,QAAQ,CAACpC,QAAT,CAAkBiC,SAAlB,CAA4BI,QAAQ,CAAC9E,MAArC,CAApB;AACA6E,kBAAQ,CAACC,QAAT,GAAoBA,QAApB;AAEA,cAAID,QAAQ,CAACpC,QAAT,KAAsB,EAA1B,EACIoC,QAAQ,CAACpC,QAAT,GAAoB,GAApB;AACP,SAND,MAMO;AACHoC,kBAAQ,CAACC,QAAT,GAAoB,EAApB;AACH;AACJ;;AAED,aAAOD,QAAP;AACH,KAjBD;;AAmBA,QAAMuE,eAAe,GAAG,SAAlBA,eAAkB,CAACvE,QAAD,EAAc;AAClC,UAAI,CAACC,QAAL,EACI,OAAOD,QAAP;AAEJ,UAAMxC,MAAM,GAAG,OAAOwC,QAAP,KAAoB,QAApB,GAA+BvC,uEAAS,CAACuC,QAAD,CAAxC,GAAqDA,QAApE;AACA,UAAMwE,KAAK,GAAGhH,MAAM,CAACI,QAArB;AACA,UAAM6G,kBAAkB,GAAGxE,QAAQ,CAACuB,KAAT,CAAe,CAAC,CAAhB,MAAuB,GAAvB,GAA6BvB,QAA7B,aAA2CA,QAA3C,MAA3B;AACA,UAAMyE,kBAAkB,GAAGF,KAAK,CAACG,MAAN,CAAa,CAAb,MAAoB,GAApB,GAA0BH,KAAK,CAAChD,KAAN,CAAY,CAAZ,CAA1B,GAA2CgD,KAAtE;AACA,UAAM5G,QAAQ,GAAG6G,kBAAkB,GAAGC,kBAAtC;AAEA,+BACOlH,MADP;AAEII,gBAAQ,EAARA;AAFJ;AAIH,KAdD,CAvBc,CAuCd;;;AACA,QAAMgE,IAAI,GAAG,SAAPA,IAAO,CAAC5B,QAAD;AAAA,aACT4D,OAAO,CAAChC,IAAR,CAAa2C,eAAe,CAACvE,QAAD,CAA5B,CADS;AAAA,KAAb;;AAGA,QAAMX,OAAO,GAAG,SAAVA,OAAU,CAACW,QAAD;AAAA,aACZ4D,OAAO,CAACvE,OAAR,CAAgBkF,eAAe,CAACvE,QAAD,CAA/B,CADY;AAAA,KAAhB;;AAGA,QAAMnB,UAAU,GAAG,SAAbA,UAAa,CAACmB,QAAD;AAAA,aACf4D,OAAO,CAAC/E,UAAR,CAAmB0F,eAAe,CAACvE,QAAD,CAAlC,CADe;AAAA,KAAnB;;AAGA,QAAM8C,UAAU,GAAG,SAAbA,UAAa,CAAC9C,QAAD;AAAA,aACf4D,OAAO,CAACd,UAAR,CAAmByB,eAAe,CAACvE,QAAD,CAAlC,CADe;AAAA,KAAnB;;AAGA,QAAMpE,cAAc,GAAG,SAAjBA,cAAiB,CAACoE,QAAD;AAAA,wCAAc5E,IAAd;AAAcA,YAAd;AAAA;;AAAA,aACnBiJ,WAAW,CAACT,OAAO,CAAChI,cAAR,OAAAgI,OAAO,GAAgBW,eAAe,CAACvE,QAAD,CAA/B,SAA8C5E,IAA9C,EAAR,CADQ;AAAA,KAAvB;;AAGA,6BACOwI,OADP;AAEIhC,UAAI,EAAJA,IAFJ;AAGIvC,aAAO,EAAPA,OAHJ;AAIIR,gBAAU,EAAVA,UAJJ;AAKIiE,gBAAU,EAAVA,UALJ;AAMIlH,oBAAc,EAAdA;AANJ;AAQH,GAhEmB;AAAA,CAAxB;;AAkEA,IAAIkW,aAAJ;;AAEA,IAAMlO,OAAO,GAAI,YAAM;AACnB,MAAIkN,KAAJ,EAAgB,oCAoBf;;AAED,MAAI7W,IAAJ,EAAgB;AACZ,WAAOuB,SAAP;AACH;AACJ,CA1Be,EAAhB;;AA4BeoI,sEAAf,E;;;;;;;;;;;ACjHA;;;AAGAqD,MAAM,CAAC/M,OAAP,GAAiB;AACbgV,QAAM,EAAE,QADK;AAEb6C,iBAAe,EAAE,mBAFJ;AAGbC,eAAa,EAAE,iBAHF;AAIbC,kBAAgB,EAAE;AAJL,CAAjB,C;;;;;;;;;;;ACHA;;;;;AAKAhL,MAAM,CAAC/M,OAAP,GAAiB,UAACmU,QAAD;AAAA,SAAcA,QAAQ,qBAAaA,QAAb,UAA2B,EAAjD;AAAA,CAAjB,C;;;;;;;;;;;ACLA;;;;;AAKApH,MAAM,CAAC/M,OAAP,GAAiB,YAAmB;AAAA,MAAlBR,QAAkB,uEAAP,EAAO;AAChC,SAAO;AACHwV,UAAM,EAAE,CAAC,8CAA8CgD,IAA9C,CAAmDxY,QAAnD,CADN;AAEHyY,WAAO,EAAE,CAAC,6CAA6CD,IAA7C,CAAkDxY,QAAlD;AAFP,GAAP;AAIH,CALD,C;;;;;;;;;;;ACLA,IAAM0Y,EAAE,GAAGxY,mBAAO,CAAC,0BAAD,CAAlB;;eAEgBA,mBAAO,CAAC,uFAAD,C;IAAfyY,G,YAAAA,G;AAER;;;;;;;;;;AAQApL,MAAM,CAAC/M,OAAP,GAAiB,gBAAuB;AAAA,2BAApBoY,QAAoB;AAAA,MAApBA,QAAoB,8BAAT,EAAS;AAEpC,MAAIC,CAAC,GAAGC,WAAW,EAAnB;;AAEA,MAAI,KAAJ,EAAwD,wEAAxD,MAMO;AACHD,KAAC,kBAAWlF,yBAAX,gBAA4CiF,QAA5C,iBAA2DhF,uBAA3D,QAAD;AACH;;AAED,SAAOiF,CAAP;AACH,CAfD;AAiBA;;;;;AAGA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB,MAAI9U,IAAJ,EAA6C,OAAO,EAAP,CADvB,CAGtB;;AAHsB,MAIY+U,aAJZ,GAI8B/U,OAAO,CAACgV,GAJtC,CAIdC,wBAJc;AAKtB,MAAIF,aAAa,IAAIL,EAAE,CAACQ,UAAH,CAAcH,aAAd,CAArB,EACI,wDAA8CJ,GAA9C;AAEJ,SAAO,EAAP;AACH,CATD,C;;;;;;;;;;;AChCA,IAAM1U,IAAI,GAAG/D,mBAAO,CAAC,kBAAD,CAApB;;eAMIA,mBAAO,CAAC,iFAAD,C;IAHPiZ,uB,YAAAA,uB;IACAC,2B,YAAAA,2B;IACAC,uB,YAAAA,uB;;AAEJ,IAAMC,kBAAkB,GAAGpZ,mBAAO,CAAC,+EAAD,CAAlC;;AACA,IAAMqZ,cAAc,GAAGrZ,mBAAO,CAAC,mFAAD,CAA9B;;AACA,IAAMsZ,iBAAiB,GAAGtZ,mBAAO,CAAC,2FAAD,CAAjC;;AACA,IAAMuZ,iBAAiB,GAAGvZ,mBAAO,CAAC,yFAAD,CAAjC;;gBAKIA,mBAAO,CAAC,sEAAD,C;IAHPmY,e,aAAAA,e;IACAC,a,aAAAA,a;IACAC,gB,aAAAA,gB;AAGJ;;;;;;;;;;;;;;AAYAhL,MAAM,CAAC/M,OAAP,GAAiB,gBAQX;AAAA,MAPFkZ,kBAOE,QAPFA,kBAOE;AAAA,MANFC,WAME,QANFA,WAME;AAAA,MALFC,WAKE,QALFA,WAKE;AAAA,MAJFjF,QAIE,QAJFA,QAIE;AAAA,MAHFkF,SAGE,QAHFA,SAGE;AAAA,2BAFFC,QAEE;AAAA,MAFFA,QAEE,8BAFS,EAET;AAAA,MADFC,WACE,QADFA,WACE;AACF,MAAMC,GAAG,GAAGhW,MAAZ;AACA,MAAMiW,KAAK,GAAGjJ,OAAO,CACjBgJ,GAAG,KAAK,KAAR,IAAkB,SAAkC5D,KADnC,CAArB,CAFE,CAKF;;AAEA,MAAI6D,KAAK,IAAI,OAAON,WAAW,CAACtB,eAAD,CAAlB,KAAwC,WAArD,EAAkE;AAC9D,QAAM6B,QAAQ,aAAMf,uBAAN,QAAd;AACA,QAAMrZ,IAAI,GAAG,YAAb;;AACA,QAAIma,KAAJ,EAAW;AACPN,iBAAW,CAACtB,eAAD,CAAX,GAA+B8B,gBAAgB,CAC3Cra,IAD2C,EAE3Coa,QAF2C,EAG3CvF,QAH2C,CAA/C;AAKH,KAND,MAMO;AACH,UAAME,OAAO,GAAGuF,qBAAqB,CACjCta,IADiC,EAEjCoa,QAFiC,EAGjCvF,QAHiC,EAIjCoF,WAJiC,CAArC;;AAMA,UAAIlF,OAAO,CAACpT,MAAR,GAAiB4X,uBAArB,EAA8C;AAC1CM,mBAAW,CAACtB,eAAD,CAAX,GAA+B8B,gBAAgB,CAC3Cra,IAD2C,EAE3Coa,QAF2C,EAG3CvF,QAH2C,CAA/C;AAKH,OAND,MAMO;AACHgF,mBAAW,CAACtB,eAAD,CAAX,GAA+BxD,OAA/B;AACH;AACJ;AACJ;;AAED,MAAIoF,KAAK,IAAI,OAAON,WAAW,CAACrB,aAAD,CAAlB,KAAsC,WAAnD,EAAgE;AAC5D,QAAIO,CAAC,GAAG,EAAR,CAD4D,CAG5D;;AACA,QAAIa,kBAAkB,IAAI/X,KAAK,CAACiD,OAAN,CAAcgV,WAAW,CAACS,QAA1B,CAA1B,EAA+D;AAC3DxB,OAAC,IAAIe,WAAW,CAACS,QAAZ,CACAlS,MADA,CACO,UAAAmS,IAAI;AAAA,eAAIrW,IAAI,CAACsW,OAAL,CAAaD,IAAb,MAAuB,KAA3B;AAAA,OADX,EAEAhQ,GAFA,CAEI,UAAAgQ,IAAI,EAAI;AACT,YAAIL,KAAJ,EAAW;AACP;AACA,iBAAOE,gBAAgB,CAAC,UAAD,EAAa,IAAb,EAAmBG,IAAnB,CAAvB;AACH;;AACD,eAAOF,qBAAqB,CAAC,UAAD,EAAa,IAAb,EAAmBE,IAAnB,CAA5B;AACH,OARA,EASAhD,IATA,CASK,EATL,CAAL;AAUH,KAf2D,CAiB5D;AACA;AACA;;;AACAgC,sBAAkB,CAACvR,OAAnB,CAA2B,UAAA/E,GAAG,EAAI;AAC9B,UAAIrB,KAAK,CAACiD,OAAN,CAAcgV,WAAW,CAAC5W,GAAD,CAAzB,CAAJ,EAAqC;AACjC6V,SAAC,IAAIe,WAAW,CAAC5W,GAAD,CAAX,CACAmF,MADA,CACO,UAAAmS,IAAI;AAAA,iBAAI,sBAAsB9B,IAAtB,CAA2B8B,IAA3B,CAAJ;AAAA,SADX,EAEAhQ,GAFA,CAEI,UAAAgQ,IAAI,EAAI;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAOH,gBAAgB,CAACnX,GAAD,EAAM,IAAN,EAAYsX,IAAZ,CAAvB;AACH,SAXA,EAYAhD,IAZA,CAYK,EAZL,CAAL;AAaH;AACJ,KAhBD,EApB4D,CAsC5D;;AACA,QAAMkD,OAAO,GACT,QACM5J,IAAI,CAACrF,KAAL,CAAWvH,MAAX,CADN,GAEM,SAHV,CAvC4D,CA2C5D;AACA;AACA;AACA;;AACA,QACIwW,OAAO,KACNxW,MAAA,IACG,OAAO2V,WAAW,CAACpB,gBAAD,CAAlB,KAAyC,QAFtC,CADX,EAIE;AACEM,OAAC,qEAAD,CADF,CAEE;;AACAA,OAAC,IACG,yFAEA;AAFA,mDAGqCc,WAAW,CAC5CpB,gBAD4C,CAAX,IAEhC3H,IAAI,CAACrF,KAAL,CAAWvH,wBAAX,CALL,gPADJ,CAHF,CAeE;AACA;AACA;;AACA6U,OAAC,eAAD;AACH;;AAEDc,eAAW,CAACrB,aAAD,CAAX,GAA6BO,CAA7B;AACH;;AAED,SACI,uCACCgB,SAAS,GAAGA,SAAH,iCADV,2CAE+BC,QAAQ,CAACnF,QAAT,IAAqB,EAFpD,iDAG+B8E,iBAAiB,CAACK,QAAD,CAHhD,uBAKA;AACAH,aAAW,CAACtB,eAAD,CANX,GAOAsB,WAAW,CAACrB,aAAD,CARf;AAUH,CAhID;AAkIA;;;;;;;;;AAOA,IAAM6B,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACra,IAAD,EAAmB;AAAA,oCAAT4B,IAAS;AAATA,QAAS;AAAA;;AACxC,MAAI+Y,SAAS,GAAGjB,iBAAiB,MAAjB,SAAqB9X,IAArB,CAAhB;AACA,MAAI,CAACC,KAAK,CAACiD,OAAN,CAAc6V,SAAd,CAAL,EAA+BA,SAAS,GAAG,CAACA,SAAD,CAAZ;AAC/B,SAAOA,SAAS,CACXnQ,GADE,CAEC,UAAApG,QAAQ;AAAA,4DACmCA,QADnC,sBACsDkV,2BADtD,gBACsFtZ,IADtF;AAAA,GAFT,EAKFwX,IALE,CAKG,EALH,CAAP;AAMH,CATD;AAWA;;;;;;;;;AAOA,IAAM8C,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACta,IAAD;AAAA,qCAAU4B,IAAV;AAAUA,QAAV;AAAA;;AAAA,oDACQ0X,2BADR,gBACwCtZ,IADxC,gBACiDyZ,cAAc,MAAd,SACpE7X,IADoE,CADjD;AAAA,CAA9B,C;;;;;;;;;;;eCnLIxB,mBAAO,CAAC,iFAAD,C;IAJPwa,mB,YAAAA,mB;IACAC,4B,YAAAA,4B;IACAC,2B,YAAAA,2B;IACAC,wB,YAAAA,wB;;AAEJ,IAAMtB,cAAc,GAAGrZ,mBAAO,CAAC,mFAAD,CAA9B;;AACA,IAAMsZ,iBAAiB,GAAGtZ,mBAAO,CAAC,2FAAD,CAAjC;;gBACmBA,mBAAO,CAAC,sEAAD,C;IAAlBsV,M,aAAAA,M;AAER;;;;;;;;;;;;;AAWAjI,MAAM,CAAC/M,OAAP,GAAiB,gBAOX;AAAA,MALFmZ,WAKE,QALFA,WAKE;AAAA,MAHFmB,UAGE,QAHFA,UAGE;AAAA,MAFFnG,QAEE,QAFFA,QAEE;AAAA,MADFoF,WACE,QADFA,WACE;;AACF,MAAI,OAAOJ,WAAW,CAACnE,MAAD,CAAlB,KAA+B,WAAnC,EAAgD;AAC5CmE,eAAW,CAACnE,MAAD,CAAX,GAAsBuF,YAAY,CAACpG,QAAD,EAAWoF,WAAX,CAAlC;;AAEA,QAAI/V,KAAJ,EAA6C,EAS5C;AACJ,GAdC,CAgBF;AACA;AACA;;;AAEA,SAAO,CAAC2V,WAAW,CAACnE,MAAD,CAAX,IAAuB,EAAxB,IAA8BsF,UAArC;AACH,CA5BD,C,CA8BA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACpG,QAAD,EAAWoF,WAAX,EAA2B;AAC5C,MAAMG,QAAQ,aAAMQ,mBAAN,SAAd;;AAEA,MACI1W,KADJ,EAGE,EAMD;;AAED,MAAM6Q,OAAO,GAAG0E,cAAc,CAACW,QAAD,EAAWvF,QAAX,EAAqBoF,WAArB,CAA9B,CAd4C,CAgB5C;;AACA,MAAIlF,OAAO,CAACpT,MAAR,GAAiBoZ,wBAArB,EAA+C;AAC3C,QAAI7W,KAAJ,EAA8C,EAA9C,MAKO;AACH,aAAOmW,gBAAgB,CAACD,QAAD,EAAWvF,QAAX,CAAvB;AACH,KAR0C,CAS3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACH;;AAED,2EAA8DiG,2BAA9D,cAA6F/F,OAA7F;AACH,CArCD,C,CAuCA;;AAEA;;;;;;;;AAMA,IAAMsF,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAa;AAClC,MAAIM,SAAS,GAAGjB,iBAAiB,MAAjB,mBAAhB;AACA,MAAI,CAAC7X,KAAK,CAACiD,OAAN,CAAc6V,SAAd,CAAL,EAA+BA,SAAS,GAAG,CAACA,SAAD,CAAZ;AAC/B,SAAOA,SAAS,CACXnQ,GADE,CAEC,UAAApG,QAAQ;AAAA,kGACqEA,QADrE,gBACkF0W,2BADlF;AAAA,GAFT,EAKFtD,IALE,CAKG,EALH,CAAP;AAMH,CATD,C;;;;;;;;;;;ACzGA;eAEkCpX,mBAAO,CAAC,kFAAD,C;IAAjCqW,qB,YAAAA,qB;AAER;;;;;;;;AAMAhJ,MAAM,CAAC/M,OAAP,GAAiB,YAAM;AACnB,MAAID,IAAJ,EAAgB;AACZ,QAAM4V,GAAG,GAAGC,MAAO,GAAGC,SAAH,GAAyBC,YAA5C;AACA,QAAIH,GAAG,CAACI,qBAAD,CAAP,EAAgC,OAAO,KAAP;AAChC,WAAO,IAAP;AACH;;AACD,SAAO,IAAP;AACH,CAPD,C;;;;;;;;;;;;ACVA;AAAA;AAAO,IAAMyE,eAAe,GAAG,yBAAxB,C;;;;;;;;;;;;ACAP;AAAA;AAAA;AAAA;AAEO,SAASC,MAAT,CAAgB3U,QAAhB,EAA0B;AAC7B,SAAO;AACHvG,QAAI,EAAEib,2DADH;AAEH1U,YAAQ,EAARA;AAFG,GAAP;AAIH,C;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AAEO,IAAM2U,MAAM,GAAG,SAATA,MAAS,CAAC3U,QAAD;AAAA,SAAc,UAACmG,QAAD,EAAc;AAC9C,WAAOA,QAAQ,CACXC,kDAAA,CAAepG,QAAf,CADW,CAAf;AAGH,GAJqB;AAAA,CAAf,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEO,IAAM4U,8BAA8B,GAAG,kBAAvC;;;;;;;;;;;;;ACNP;AAAA;AAAA;AAEA,IAAMC,YAAY,GAAG,EAArB;AAEe,2EAAuC;AAAA,MAA9B9W,KAA8B,uEAAtB8W,YAAsB;AAAA,MAARtX,MAAQ;;AAElD,UAAQA,MAAM,CAAC9D,IAAf;AAEI,SAAKib,8DAAL;AACI,aAAOnX,MAAM,CAACyC,QAAd;AAHR;;AAOA,SAAOjC,KAAP;AAEH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfD;AACA;AAMA;AACA;AACA;AAIA;AACA;CAKA;;AACA;CAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;AAMO,IAAM8S,mBAAmB,GAAG,6BAA5B;AAEP;;;;;;AAMA;;;;AAGO,IAAM/I,QAAQ;AACjB;AACAgN,SAAO,EAAEC,gEAAaA;AAFL,8BAIhBH,iFAJgB,EAIiBI,0DAJjB,8BAMhBC,0EANgB,EAMMC,oEANN,aAAd;;AAQP,IAAIC,uDAAa,EAAjB,EAAqB;AACjBrN,UAAQ,CAACuG,QAAT,GAAoB+G,2DAApB,CADiB,CAEjB;AACH;AAED;;;;;AAGO,IAAMP,YAAY,GAAI,YAAM;AAC/B,MAAI/D,KAAJ,EAAgB;AAChB,MAAI7W,IAAJ,EAAgB,OAAO,EAAP;AACnB,CAH2B,EAArB;AAKP;;;;AAGO,IAAM8N,WAAW,GAAG,CAACsN,kDAAD,EAAQC,2EAAgB,CAAC1R,gDAAD,CAAxB,CAApB,C,CAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AAQO,IAAM+D,WAAW,GAAG,SAAdA,WAAc,CACvB4N,UADuB,EAItB;AAAA,MAFDC,cAEC,uEAFgB,EAEhB;AAAA,MADDC,YACC,uEADc,EACd;;AACD;AACA;AACA;AACA;AAEA,MAAMC,cAAc,GAAI,YAAM;AAC1B,QAAI,OAAOH,UAAP,KAAsB,UAA1B,EAAsC;AAClC,UAAMI,WAAW,GAAGC,6DAAoB,mBAAM9N,QAAN,EAAxC;AACA,aAAO,UAAC/J,KAAD,EAAQR,MAAR,EAAmB;AAAA,oCACUsY,qBAAqB,CAAC9X,KAAD,CAD/B;AAAA,YACd+X,QADc,yBACdA,QADc;AAAA,YACJC,SADI,yBACJA,SADI;;AAEtB,iCACOR,UAAU,CAACO,QAAD,EAAWvY,MAAX,CADjB,MAEOoY,WAAW,CAACI,SAAD,EAAYxY,MAAZ,CAFlB;AAIH,OAND;AAOH,KATD,MASO,IACH,QAAOgY,UAAP,MAAsB,QAAtB,IACA,CAACla,KAAK,CAACiD,OAAN,CAAciX,UAAd,CAFE,EAGL;AACE,aAAOK,6DAAoB,mBACpBL,UADoB,MAEpBzN,QAFoB,EAA3B;AAIH;;AAED,WAAO8N,6DAAoB,mBACpB9N,QADoB,EAA3B;AAGH,GAvBsB,EAAvB;;AAyBA,MAAI,CAACzM,KAAK,CAACiD,OAAN,CAAcmX,YAAd,CAAD,IAAgCA,YAApC,EACIA,YAAY,GAAG,CAACA,YAAD,CAAf,CADJ,KAEK,IAAI,CAACA,YAAL,EAAmBA,YAAY,GAAG,EAAf;AAExB,SAAOO,yDAAgB,CACnBN,cADmB,EAEnBb,YAFmB,EAGnBoB,6CAAY,MAAZ,UACIC,qDAAoB,MAApB,4BAAwBnO,WAAW,CAACxG,MAAZ,CAAmBiU,cAAnB,CAAxB,EADJ,4BAEOC,YAFP,GAHmB,CAAvB;AAQH,CA/CM;AAiDP;;;;;;AAMA;;;;;;AAKA,IAAMI,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAA9X,KAAK,EAAI;AACnC,MAAM+X,QAAQ,GAAG,EAAjB;AACA,MAAMC,SAAS,GAAG,EAAlB;AACA,MAAMI,kBAAkB,GAAG9Z,MAAM,CAACmC,IAAP,CAAYsJ,QAAZ,CAA3B;AACAzL,QAAM,CAACmC,IAAP,CAAYT,KAAZ,EAAmB0D,OAAnB,CAA2B,UAAA/E,GAAG,EAAI;AAC9B,QAAIyZ,kBAAkB,CAACC,QAAnB,CAA4B1Z,GAA5B,CAAJ,EAAsC;AAClCqZ,eAAS,CAACrZ,GAAD,CAAT,GAAiBqB,KAAK,CAACrB,GAAD,CAAtB;AACH,KAFD,MAEO;AACHoZ,cAAQ,CAACpZ,GAAD,CAAR,GAAgBqB,KAAK,CAACrB,GAAD,CAArB;AACH;AACJ,GAND;AAOA,SAAO;AACHoZ,YAAQ,EAARA,QADG;AAEHC,aAAS,EAATA;AAFG,GAAP;AAIH,CAfD,C;;;;;;;;;;;;AC9KA;AAAA;AAAA;;;;;AAKA,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAAC3O,KAAD,EAAmD;AAAA,MAA3C4O,cAA2C,uEAA1BC,qBAA0B;AAClE,MAAMxY,KAAK,GAAG2J,KAAK,CAACxB,QAAN,EAAd;AACA7J,QAAM,CAACmC,IAAP,CAAYT,KAAZ,EACK8D,MADL,CACY,UAAAnF,GAAG;AAAA,WAAI,CAAC4Z,cAAc,CAACF,QAAf,CAAwB1Z,GAAxB,CAAL;AAAA,GADf,EAEK+E,OAFL,CAEa,UAAA/E,GAAG,EAAI;AACZqB,SAAK,CAACrB,GAAD,CAAL,GAAalB,SAAb;AACA,WAAOuC,KAAK,CAACrB,GAAD,CAAZ;AACH,GALL,EAFkE,CASlE;;AACAgL,OAAK,CAACvB,QAAN,CAAe;AACX1M,QAAI,EAAE;AADK,GAAf;AAIA,SAAOiO,KAAP;AACH,CAfD;AAiBA;;;AACO,IAAM6O,qBAAqB,GAAG,CACjC,UADiC,EAEjC,SAFiC,CAGjC;AAHiC,CAA9B;AAMQF,yEAAf,E;;;;;;;;;;;;;AC7BA,IAAMG,GAAG,GAAG5c,mBAAO,CAAC,gBAAD,CAAnB;;AAEA,IAAMqZ,cAAc,GAAGrZ,mBAAO,CAAC,gFAAD,CAA9B;;AACA,IAAMsZ,iBAAiB,GAAGtZ,mBAAO,CAAC,wFAAD,CAAjC;AAEA;;;;;;;;;;;AASAqN,MAAM,CAAC/M,OAAP,GAAiB,gBAOX;AAAA,2BANFR,QAME;AAAA,MANFA,QAME,8BANS+c,gBAMT;AAAA,yBALFC,MAKE;AAAA,MALFA,MAKE,4BALO,EAKP;AAAA,MAJFhP,KAIE,QAJFA,KAIE;AAAA,MAHF3J,KAGE,QAHFA,KAGE;AAAA,MAFF0V,WAEE,QAFFA,WAEE;AAAA,MADFkD,GACE,QADFA,GACE;AACF,MACI,QAAO5Y,KAAP,MAAiB,QAAjB,IACA,QAAO2J,KAAP,MAAiB,QADjB,IAEA,OAAOA,KAAK,CAACxB,QAAb,KAA0B,UAH9B,EAKInI,KAAK,GAAG2J,KAAK,CAACxB,QAAN,EAAR,CALJ,KAMK,IAAI,QAAOnI,KAAP,MAAiB,QAAjB,IAA6B,OAAOA,KAAK,CAACmI,QAAb,KAA0B,UAA3D,EACDnI,KAAK,GAAGA,KAAK,CAACmI,QAAN,EAAR;;AAEJ,MAAI;AACA,SAAK,IAAIxJ,GAAT,IAAgBga,MAAhB,EAAwB;AACpB,UAAI,OAAOA,MAAM,CAACha,GAAD,CAAb,KAAuB,UAA3B,EACIga,MAAM,CAACha,GAAD,CAAN,GAAcga,MAAM,CAACha,GAAD,CAAN,CAAYhD,QAAZ,EAAsBqE,KAAtB,EAA6B4Y,GAA7B,CAAd;AACP;AACJ,GALD,CAKE,OAAOC,CAAP,EAAU;AACRC,WAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,GAjBC,CAmBF;;;AACA,MAAIlZ,KAAJ,EACIhE,EArBF,CA0BF;;AAEA,MAAM2U,QAAQ,GAAG,QAAOtQ,KAAP,MAAiB,QAAjB,GAA4BA,KAAK,CAACsQ,QAAlC,GAA6C7S,SAA9D;AAEA,SAAOgb,GAAG,CAACO,MAAJ,CACHrd,QADG,EAEH;AACIgd,UAAM,EAANA,MADJ;AAEInI,WAAO,EAAE,iBAAAqF,QAAQ;AAAA,aACbX,cAAc,CAACW,QAAD,EAAWvF,QAAX,EAAqBoF,WAArB,CADD;AAAA,KAFrB;AAII7V,YAAQ,EAAE,kBAAAgW,QAAQ;AAAA,aAAIV,iBAAiB,CAACU,QAAD,EAAWvF,QAAX,CAArB;AAAA;AAJtB,GAFG,EAQH,EARG,CAAP;AAUH,CA/CD;;AAiDA,IAAMoI,gBAAgB,k/CAAtB,C;;;;;;;;;;;AC/DA;;;;;;AAMAxP,MAAM,CAAC/M,OAAP,GAAiB,UAAC8c,SAAD,EAAYC,YAAZ,EAA6B;AAC1C,MAAIA,YAAY,IACZ,OAAOjX,QAAP,KAAoB,WADpB,IAEA/F,IAFA,IAGAid,KAHJ,EAIE,OAAO,IAAP;AAEF,MAAIzb,IAAI,GAAGub,SAAS,CAAChX,QAAV,CAAmBpC,QAA9B;AACA,MAAIuZ,IAAI,GAAGnX,QAAQ,CAACpC,QAApB;AAEA,MAAInC,IAAI,CAACoH,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,GAA1B,EAA+BpH,IAAI,GAAG,MAAMA,IAAb;AAC/B,MAAI0b,IAAI,CAACtU,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,GAA1B,EAA+BsU,IAAI,GAAG,MAAMA,IAAb;AAE/B,SAAOzM,OAAO,CAACjP,IAAI,KAAK0b,IAAV,CAAd;AACH,CAdD,C;;;;;;;;;;;;;;;;;;ACNA;;AAEA;;;AAGA;AACA;AACA;AAEA;;AAEA;;;;AAIO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAmB;AAAA,MAAlBzJ,QAAkB,uEAAP,EAAO;AACpD,MAAI,QAAOA,QAAP,MAAoB,QAAxB,EAAkC;AAClCtR,QAAM,CAACmC,IAAP,CAAYmP,QAAZ,EAAsBlM,OAAtB,CAA8B,UAAA2N,OAAO,EAAI;AACrC,QAAMiI,KAAK,GAAG1J,QAAQ,CAACyB,OAAD,CAAtB;AACA,QAAM/C,EAAE,GAAGJ,QAAQ,CAACqL,aAAT,iBACEC,kBADF,cACoCnI,OADpC,OAAX;;AAGA,QAAIiI,KAAK,CAACG,KAAN,GAAc,CAAlB,EAAqB;AACjB;AACA,UAAI,CAACnL,EAAD,IAAOgL,KAAK,CAACI,GAAN,KAAc,EAAzB,EAA6B;AACzB,YAAMC,QAAQ,GAAGzL,QAAQ,CAACQ,aAAT,CAAuB,OAAvB,CAAjB;AACAiL,gBAAQ,CAACC,SAAT,GAAqBN,KAAK,CAACI,GAA3B,CAFyB,CAGzB;;AACAC,gBAAQ,CAAChL,YAAT,CAAsB6K,kBAAtB,EAAsDnI,OAAtD;AACAnD,gBAAQ,CAACE,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCS,WAAzC,CAAqD8K,QAArD;AACH;AACJ,KATD,MASO;AACH;AACA,UAAIrL,EAAJ,EAAQ;AACJA,UAAE,CAACuL,MAAH;AACH;AACJ;AACJ,GApBD;AAqBH,CAvBM,C,CAyBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;AAKO,IAAMC,MAAM,GAAG,SAATA,MAAS,GAA0B;AAAA,MAAzBlK,QAAyB,uEAAd,EAAc;AAAA,MAAV0J,KAAU;AAC5C;AAEA,MAAIhc,KAAK,CAACiD,OAAN,CAAc+Y,KAAd,CAAJ,EACI,OAAOA,KAAK,CAAC5V,OAAN,CAAc,UAAAqW,QAAQ;AAAA,WAAID,MAAM,CAAClK,QAAD,EAAWmK,QAAX,CAAV;AAAA,GAAtB,CAAP;AAEJ,MAAI,QAAOT,KAAP,MAAiB,QAArB,EAA+B;;AAE/B,MAAI,CAAC1J,QAAQ,CAAC0J,KAAK,CAACjI,OAAP,CAAb,EAA8B;AAC1BzB,YAAQ,CAAC0J,KAAK,CAACjI,OAAP,CAAR,GAA0B;AACtBqI,SAAG,EAAEJ,KAAK,CAACI,GADW;AAEtBD,WAAK,EAAE;AAFe,KAA1B;AAIH,GALD,MAKO;AACH7J,YAAQ,CAAC0J,KAAK,CAACjI,OAAP,CAAR,CAAwBoI,KAAxB;AACH;;AAED,MAAI1G,KAAJ,EAAgB,EAEf;AACJ,CApBM;AAsBP;;;;;;AAKO,IAAM8G,MAAM,GAAG,SAATA,MAAS,GAA0B;AAAA,MAAzBjK,QAAyB,uEAAd,EAAc;AAAA,MAAV0J,KAAU;AAC5C;AAEA,MAAIhc,KAAK,CAACiD,OAAN,CAAc+Y,KAAd,CAAJ,EACI,OAAOA,KAAK,CAAC5V,OAAN,CAAc,UAAAqW,QAAQ;AAAA,WAAIF,MAAM,CAACE,QAAD,CAAV;AAAA,GAAtB,CAAP;AAEJ,MAAI,QAAOT,KAAP,MAAiB,QAArB,EAA+B;;AAE/B,MAAI1J,QAAQ,CAAC0J,KAAK,CAACjI,OAAP,CAAZ,EAA6B;AACzBzB,YAAQ,CAAC0J,KAAK,CAACjI,OAAP,CAAR,CAAwBoI,KAAxB;AACH;AACJ,CAXM,C,CAaP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;;;;;;;;;;;AC1IA,IAAMO,cAAc,GAAGne,mBAAO,CAAC,uEAAD,CAA9B;;AACA,IAAMoe,WAAW,GAAGpe,mBAAO,CAAC,iEAAD,CAA3B;;AACA,IAAMqe,YAAY,GAAGre,mBAAO,CAAC,mEAAD,CAA5B;;AACA,IAAMse,aAAa,GAAGte,mBAAO,CAAC,qEAAD,CAA7B;AAEA;;;;;;;;;;;;;;;;;;;;AAkBAqN,MAAM,CAAC/M,OAAP,GAAiB,YAAkB;AAAA,MAAjBqG,OAAiB,uEAAP,EAAO;AAAA,6BAqB3BA,OArB2B,CAE3B8S,WAF2B;AAAA,MAE3BA,WAF2B,qCAEb,EAFa;AAAA,yBAqB3B9S,OArB2B,CAI3B4X,OAJ2B;AAAA,MAI3BA,OAJ2B,iCAIjB,EAJiB;AAAA,6BAqB3B5X,OArB2B,CAK3B+S,WAL2B;AAAA,MAK3BA,WAL2B,qCAKb,EALa;AAAA,MAM3BG,WAN2B,GAqB3BlT,OArB2B,CAM3BkT,WAN2B;AAAA,MAQ3BpF,QAR2B,GAqB3B9N,OArB2B,CAQ3B8N,QAR2B;AAAA,MAU3BzC,KAV2B,GAqB3BrL,OArB2B,CAU3BqL,KAV2B;AAAA,MAW3B0G,QAX2B,GAqB3B/R,OArB2B,CAW3B+R,QAX2B;AAAA,MAY3B8F,SAZ2B,GAqB3B7X,OArB2B,CAY3B6X,SAZ2B;AAAA,MAa3B5D,UAb2B,GAqB3BjU,OArB2B,CAa3BiU,UAb2B;AAAA,MAc3BjB,SAd2B,GAqB3BhT,OArB2B,CAc3BgT,SAd2B;AAAA,MAe3BC,QAf2B,GAqB3BjT,OArB2B,CAe3BiT,QAf2B;AAAA,8BAqB3BjT,OArB2B,CAiB3B6S,kBAjB2B;AAAA,MAiB3BA,kBAjB2B,sCAiBN;AACjBlE,UAAM,EAAE,KADS;AAEjBiD,WAAO,EAAE;AAFQ,GAjBM;AAuB/B,SAAO;AACHkG,YAAQ,EAAEN,cAAc,CAAC1J,QAAD,CADrB;AAEHzC,SAAK,EAALA,KAFG;AAGHC,SAAK,EAAEmM,WAAW,CAAC;AAAE1F,cAAQ,EAARA,QAAF;AAAYjE,cAAQ,EAARA,QAAZ;AAAsBoF,iBAAW,EAAXA;AAAtB,KAAD,CAHf;AAIHvE,UAAM,EAAE+I,YAAY,CAAC;AACjB7E,wBAAkB,EAAEA,kBAAkB,CAAClE,MADtB;AAEjBmE,iBAAW,EAAXA,WAFiB;AAGjB8E,aAAO,EAAPA,OAHiB;AAIjB3D,gBAAU,EAAVA,UAJiB;AAKjBnG,cAAQ,EAARA,QALiB;AAMjBoF,iBAAW,EAAXA;AANiB,KAAD,CAJjB;AAaH6E,SAAK,EAAEF,SAbJ;AAeHjG,WAAO,EAAE+F,aAAa,CAAC;AACnB9E,wBAAkB,EAAEA,kBAAkB,CAACjB,OADpB;AAEnBkB,iBAAW,EAAXA,WAFmB;AAGnBC,iBAAW,EAAXA,WAHmB;AAInBjF,cAAQ,EAARA,QAJmB;AAKnBkF,eAAS,EAATA,SALmB;AAMnBC,cAAQ,EAARA,QANmB;AAOnBC,iBAAW,EAAXA;AAPmB,KAAD;AAfnB,GAAP;AAyBH,CAhDD,C;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AAEA;;;;;;;AAMA,IAAM8E,mBAAmB,GAAG,SAAtBA,mBAAsB,GAA0B;AAAA,MAAzBC,eAAyB,uEAAP,EAAO;AAAA,8BAI9CA,eAJ8C,CAG9CC,UAH8C;AAAA,MAG9CA,UAH8C,sCAGjC,IAHiC;AAKlD,MAAMC,WAAW,GAAG;AAChBD,cAAU,EAAVA;AADgB,GAApB;;AAIA,MAAI,OAAOD,eAAe,CAAC9Q,KAAvB,KAAiC,WAArC,EAAkD;AAAA,gCACA8Q,eADA,CACtCG,eADsC;AAAA,QACrBC,WADqB,sCACP,EADO;AAE9Cvc,UAAM,CAACmC,IAAP,CAAYqa,+CAAZ,EAA6BpX,OAA7B,CAAqC,UAAAqX,WAAW,EAAI;AAChDF,iBAAW,CAACE,WAAD,CAAX,GAA2BD,+CAAe,CAACC,WAAD,CAA1C;AACH,KAFD;;AAGAJ,eAAW,CAACK,YAAZ,GAA2B;AAAA,aACvBpR,yDAAW,CAACgR,6DAAe,CAACC,WAAD,CAAhB,EAA+B/D,mDAA/B,EAA6CrN,qDAAe,MAAf,4BAAmBO,kDAAnB,EAA7C,CADY;AAAA,KAA3B;AAEH,GAPD,MAOO,IAAI,OAAOyQ,eAAe,CAAC9Q,KAAvB,KAAiC,UAArC,EAAiD;AACpDgR,eAAW,CAACK,YAAZ,GAA2BP,eAAe,CAAC9Q,KAA3C;AACH,GAFM,MAEA,IAAI,QAAO8Q,eAAe,CAAC9Q,KAAvB,MAAiC,QAArC,EAA+C;AAClDgR,eAAW,CAAChR,KAAZ,GAAoB8Q,eAAe,CAAC9Q,KAApC;AACH;;AAED,SAAOgR,WAAP;AAEH,CAxBD;;AA0BeH,kFAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCA;AACA;AAEA;;;;;;;AAMA,IAAMS,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,gBAAD,EAAsB;AAE/C,MAAIC,MAAM,GAAG,OAAOD,gBAAP,KAA4B,UAA5B,GACPA,gBAAgB,EADT,GAEPA,gBAFN;AAIA,MAAI,QAAOC,MAAP,MAAkB,QAAtB,EACI,MAAM,IAAIrT,KAAJ,CAAUsT,sDAAQ,CAAC,wBAAD,EAA2B,2CAA3B,CAAlB,CAAN;;AAP2C,aASxB,YAAM;AACzB,QAAI9d,KAAK,CAACiD,OAAN,CAAc4a,MAAd,CAAJ,EAA2B;AACvB,aAAO;AACHE,mBAAW,qBAAMF,MAAN;AADR,OAAP;AAGH;;AACD,WAAOA,MAAP;AACH,GAPqB,EATyB;AAAA,MASpCG,MAToC;;AAkB/C,MAAI,CAACA,MAAM,CAAC1b,IAAZ,EAAkB;AACd0b,UAAM,CAAC1b,IAAP,GAAc,GAAd;AACH;;AAED2b,kBAAgB,CAACD,MAAD,CAAhB;AACAE,sEAAkB,CAACF,MAAD,CAAlB;AAEA,SAAOA,MAAP;AAEH,CA3BD;;AA4BeL,mFAAf;AAEA;;;;;AAIA,IAAMM,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACE,KAAD,EAAW;AAChC,MAAIA,KAAK,KAAK,CAACA,KAAK,CAACJ,WAAP,IAAsB,CAACI,KAAK,CAACJ,WAAN,CAAkBje,MAA9C,CAAT,EAAgE;AAC5D;AACH;;AAEDqe,OAAK,CAACJ,WAAN,GAAoBI,KAAK,CAACJ,WAAN,CAAkBvX,MAAlB,CAAyB,UAAA4X,KAAK,EAAI;AAAE;AACpD,QAAIA,KAAK,CAACC,OAAV,EAAmB;AAEf;AACA,UAAIhc,KAAJ,EAAwD,EAEvD;AAED;;;AACA,UAAI,CAAC8b,KAAK,CAACG,UAAX,EAAuB;AACnB,eAAOF,KAAK,CAAC9b,IAAb,CADmB,CACA;;AACnB6b,aAAK,CAACG,UAAN,GAAmBF,KAAnB,CAFmB,CAEO;;AAC1B,eAAO,KAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAhBmB,CAApB;AAkBAD,OAAK,CAACJ,WAAN,CAAkB3X,OAAlB,CAA0B6X,gBAA1B;AACH,CAxBD,C;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMM,eAAe,GAAG,yBAAxB;AACA,IAAMC,cAAc,GAAG,wBAAvB;AACA,IAAMC,eAAe,GAAG,yBAAxB;AACA,IAAMC,WAAW,GAAG,qBAApB;AAEQ;AACXH,iBAAe,EAAfA,eADW;AAEXC,gBAAc,EAAdA,cAFW;AAGXC,iBAAe,EAAfA,eAHW;AAIXC,aAAW,EAAXA;AAJW,CAAf,E;;;;;;;;;;;;ACLA;AAAA;AACA,IAAM5G,iBAAiB,GAAGvZ,mBAAO,CAAC,+FAAD,CAAjC;AAEA;;;AACA,IAAMogB,uBAAuB,GAAG,2BAAhC;AACA;;AACA,IAAMC,qBAAqB,GAAG,0BAA9B;AAEA;;;;;;;;;AAQA,IAAMC,yBAAyB,GAAG,eAA5BA,yBAA4B,OAAuC;AAAA,MAA9BxS,KAA8B,QAA9BA,KAA8B;AAAA,MAAvBoG,WAAuB,QAAvBA,WAAuB;AAAA,MAAV6I,GAAU,QAAVA,GAAU;;AACrE;AACA,MAAIwD,KAAK,GAAG,EAAZ;AAEA;;;;;;;AAMA,MAAIC,eAAe,GAAG,EAAtB;;AAEA,MAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAAC,SAAS,EAAI;AACxC,QAAI,CAACA,SAAL,EAAgB;;AAChB,QAAI,OAAOA,SAAS,CAACN,uBAAD,CAAhB,KAA8C,UAAlD,EAA8D;AAC1D,UAAMO,QAAQ,GAAGD,SAAS,CAACN,uBAAD,CAAT,CAAmC;AAChDtS,aAAK,EAALA,KADgD;AAEhDoG,mBAAW,EAAXA,WAFgD;AAGhD6I,WAAG,EAAHA;AAHgD,OAAnC,CAAjB,CAD0D,CAM1D;;AACA,UAAItb,KAAK,CAACiD,OAAN,CAAcic,QAAd,CAAJ,EAA6B;AACzBJ,aAAK,GAAGA,KAAK,CAAC5Y,MAAN,CAAagZ,QAAb,CAAR;AACH,OAFD,MAEO,IAAIA,QAAQ,YAAY1T,OAApB,IAA+B0T,QAAQ,CAAC7J,IAA5C,EAAkD;AACrDyJ,aAAK,CAACvY,IAAN,CAAW2Y,QAAX;AACH,OAFM,MAEA,IAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AACvCJ,aAAK,CAACvY,IAAN,CACI,IAAIiF,OAAJ,CAAY,gBAAMC,OAAN,EAAiB;AACzB,gBAAMyT,QAAQ,EAAd;AACAzT,iBAAO;AACV,SAHD,CADJ;AAMH;AACJ,KAnBD,MAmBO,IAAIwT,SAAS,CAAC9L,gBAAd,EAAgC;AACnC6L,4BAAsB,CAACC,SAAS,CAAC9L,gBAAX,CAAtB;AACH;AACJ,GAxBD;;AA0BA,MAAMgM,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAF,SAAS,EAAI;AACtC,QAAI,CAACA,SAAL,EAAgB;;AAChB,QAAI,OAAOA,SAAS,CAACL,qBAAD,CAAhB,KAA4C,UAAhD,EAA4D;AACxDG,qBAAe,CAACxY,IAAhB,CAAqB0Y,SAAS,CAACL,qBAAD,CAA9B,EADwD,CAExD;AACH,KAHD,MAGO,IAAIK,SAAS,CAAC9L,gBAAd,EAAgC;AACnCgM,0BAAoB,CAACF,SAAS,CAAC9L,gBAAX,CAApB;AACH;AACJ,GARD;AAUA;;;AACA,MAAM0B,mBAAmB,GAAI,YAAM;AAAA,gBACMJ,MAAO,GACtCC,SADsC,GAEtCC,YAHyB;AAAA,sCACvBE,mBADuB;AAAA,QACvBA,mBADuB,sCACD,EADC;;AAK/B,QAAIJ,KAAJ,EAAa,8BA6BZ;;AAED,WAAOI,mBAAP;AACH,GArC2B,EAA5B,CAjDqE,CAuFrE;AACA;AACA;AACA;AAEA;;;AACAA,qBAAmB,CAACzO,OAApB,CAA4B,UAAA6Y,SAAS,EAAI;AACrCD,0BAAsB,CAACC,SAAD,CAAtB;AACAE,wBAAoB,CAACF,SAAD,CAApB;AACH,GAHD,EA7FqE,CAkGrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,QAAMzT,OAAO,CAACE,GAAR,CAAYoT,KAAZ,CAAN,CA9GqE,CAgHrE;;AACA,MAAMnY,MAAM,GAAG;AACX4J,SAAK,EAAElO,aAAA,IAAiC,KAD7B;AAEX4U,YAAQ,EAAE,EAFC;AAGXiB,aAAS,qCAA8BJ,iBAAiB,CACpDzL,KAAK,CAACxB,QAAN,EADoD,CAA/C;AAHE,GAAf;AAOAkU,iBAAe,CAAC9L,IAAhB,CAAqB,UAAAmM,IAAI,EAAI;AACzB,QAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;AAAA,kBACmBA,IAAI,CAAC;AAChD/S,aAAK,EAALA,KADgD;AAEhDoG,mBAAW,EAAXA,WAFgD;AAGhD6I,WAAG,EAAHA;AAHgD,OAAD,CADvB;AAAA,UACb+D,SADa,SACpB9O,KADoB;AAAA,UACK+O,SADL,SACF9O,KADE;;AAO5B,UAAM+O,QAAQ,GAAG,CAAC,CAACF,SAAnB;AACA,UAAMG,OAAO,GAAGxf,KAAK,CAACiD,OAAN,CAAcqc,SAAd,KAA4BA,SAAS,CAACxf,MAAtD;AAEA,UAAIyf,QAAJ,EAAc5Y,MAAM,CAAC4J,KAAP,GAAe8O,SAAf;AACd,UAAIG,OAAJ,EACI7Y,MAAM,CAACsQ,QAAP,GAAkBqI,SAAS,CACtB3W,GADa,CAEV,UAAAwI,IAAI;AAAA,eACA,UACAnQ,MAAM,CAACmC,IAAP,CAAYgO,IAAZ,EACKxI,GADL,CACS,UAAAtH,GAAG;AAAA,4BAAQA,GAAR,gBAAgB8P,IAAI,CAAC9P,GAAD,CAApB;AAAA,SADZ,EAEKsU,IAFL,CAEU,EAFV,CADA,GAIA,GALA;AAAA,OAFM,EASbA,IATa,CASR,EATQ,CAAlB;AAWJ,UAAI4J,QAAQ,IAAIC,OAAhB,EAAyB,OAAO,IAAP;AAC5B;;AACD,WAAO,KAAP;AACH,GA3BD;AA6BA,SAAO7Y,MAAP;AACH,CAtJD;;AAwJekY,wFAAf,E;;;;;;;;;;;;;;;;ACxKA;AAEA;;;;;;;;;;;;;;AAaA,IAAMY,SAAS,GAAG,SAAZA,SAAY,GAAsB;AAAA,MAArBpC,WAAqB,uEAAP,EAAO;AAAA,MAC5BhR,KAD4B,GACJgR,WADI,CAC5BhR,KAD4B;AAAA,MACrBqR,YADqB,GACJL,WADI,CACrBK,YADqB;;AAGpC,MAAI,OAAOA,YAAP,KAAwB,UAA5B,EAAwC;AACpC,WAAOA,YAAY,EAAnB;AACH;;AAED,MAAI,QAAOrR,KAAP,MAAiB,QAArB,EAA+B;AAC3B,WAAO2O,wEAAU,CAAC3O,KAAD,CAAjB;AACH;;AAED,SAAO,EAAP;AACH,CAZD;;AAceoT,wEAAf,E;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;;AAEA,IAAMC,gBAAgB,GAAG,eAAnBA,gBAAmB,OAEnB;AAAA,MADFrT,KACE,QADFA,KACE;AAAA,MADKiP,GACL,QADKA,GACL;AAAA,MADUtI,QACV,QADUA,QACV;AAAA,MADoB3T,QACpB,QADoBA,QACpB;AACF,MAAIoV,KAAJ,EAAagH,EAAA;AACb,MAAI,OAAOpc,QAAP,KAAoB,UAAxB,EACI,MAAMA,QAAQ,CAAC;AAAEic,OAAG,EAAHA,GAAF;AAAOjP,SAAK,EAALA,KAAP;AAAc2G,YAAQ,EAARA;AAAd,GAAD,CAAd;AACP,CAND;;AAQe0M,+EAAf,E;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;;AAEA,IAAMC,iBAAiB,GAAG,eAApBA,iBAAoB,OAEpB;AAAA,MADFrE,GACE,QADFA,GACE;AAAA,MADGjP,KACH,QADGA,KACH;AAAA,MADU2G,QACV,QADUA,QACV;AAAA,MADoB3T,QACpB,QADoBA,QACpB;AACF,MAAIoV,KAAJ,EAAagH,EAAA;AACb,MAAIhH,KAAJ,EAAagH,EAAA;AACb,MAAI,OAAOpc,QAAP,KAAoB,UAAxB,EACI,MAAMA,QAAQ,CAAC;AAAEic,OAAG,EAAHA,GAAF;AAAOjP,SAAK,EAALA,KAAP;AAAc2G,YAAQ,EAARA;AAAd,GAAD,CAAd;AACP,CAPD;;AASe2M,gFAAf,E;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;;AAEA,IAAMC,eAAe,GAAG,eAAlBA,eAAkB,OAA8C;AAAA,MAArCtE,GAAqC,QAArCA,GAAqC;AAAA,MAAhCjP,KAAgC,QAAhCA,KAAgC;AAAA,MAAzB2G,QAAyB,QAAzBA,QAAyB;AAAA,MAAf3T,QAAe,QAAfA,QAAe;AAClE,MAAIoV,KAAJ,EAAagH,EAAA;AACb,MAAI,OAAOpc,QAAP,KAAoB,UAAxB,EACI,MAAMA,QAAQ,CAAC;AAAEic,OAAG,EAAHA,GAAF;AAAOjP,SAAK,EAALA,KAAP;AAAc2G,YAAQ,EAARA;AAAd,GAAD,CAAd;AACP,CAJD;;AAMe4M,8EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;CAEA;;AACA;;AAEA,IAAMC,iBAAiB,GAAG,eAApBA,iBAAoB,OAAgD;AAAA,MAAvCxT,KAAuC,QAAvCA,KAAuC;AAAA,MAAhCiP,GAAgC,QAAhCA,GAAgC;AAAA,MAA3B8B,UAA2B,QAA3BA,UAA2B;AAAA,MAAf/d,QAAe,QAAfA,QAAe;AACtE;AACA,MAAMygB,YAAY,GAAGC,gFAAqB,CAACzE,GAAD,CAA1C;AACA,MAAIwE,YAAJ,EAAkB,OAAOA,YAAP,CAHoD,CAKtE;;AACAzT,OAAK,CAACvB,QAAN,CAAe;AAAE1M,QAAI,EAAEqgB,6DAAR;AAAyB5P,QAAI,EAAEyM,GAAG,CAAC0E;AAAnC,GAAf,EANsE,CAQtE;AACA;AACA;AACA;;AACA,MAAI5C,UAAJ,EAAgB;AACZ,QAAI6C,OAAO,GAAG7C,UAAd;;AAEA,QAAI6C,OAAO,KAAK,IAAhB,EAAsB;AAClB5T,WAAK,CAACvB,QAAN,CAAe;AACX1M,YAAI,EAAEsgB,yDADK;AAEX7P,YAAI,EAAEyM,GAAG,CAAC4E,OAAJ,CAAYC,MAAZ,IAAsB;AAFjB,OAAf;AAIH,KALD,MAKO;AACH,UAAMtR,IAAI,GAAG,EAAb;;AACA,UAAIoR,OAAO,KAAK,KAAhB,EAAuB;AACnB,YAAMG,UAAU,GAAG9E,GAAG,CAAC4E,OAAJ,CAAYC,MAAZ,IAAsB,EAAzC;AACAC,kBAAU,CAACC,KAAX,CAAiB,GAAjB,EAAsBja,OAAtB,CAA8B,UAAAka,GAAG,EAAI;AACjC,cAAMC,MAAM,GAAGD,GAAG,CAACD,KAAJ,CAAU,GAAV,CAAf;;AACA,cAAIE,MAAM,CAACzgB,MAAP,GAAgB,CAApB,EAAuB;AAAA,mCACMygB,MADN;AAAA,gBACZlf,GADY;AAAA,gBACJmf,MADI;;AAEnB3R,gBAAI,CAACxN,GAAG,CAACuU,IAAJ,EAAD,CAAJ,GAAmB4K,MAAM,CAAC7K,IAAP,CAAY,GAAZ,EAAiBC,IAAjB,EAAnB;AACH;AACJ,SAND;AAOH,OATD,MASO;AACH,YAAI,OAAOqK,OAAP,KAAmB,QAAvB,EAAiCA,OAAO,GAAG,CAACA,OAAD,CAAV;;AAEjC,YAAIjgB,KAAK,CAACiD,OAAN,CAAcgd,OAAd,CAAJ,EAA4B;AACxB;AACAA,iBAAO,CAAC7Z,OAAR,CAAgB,UAAAqa,CAAC,EAAI;AACjB5R,gBAAI,CAAC4R,CAAD,CAAJ,GAAUnF,GAAG,CAAC2E,OAAJ,CAAYtQ,GAAZ,CAAgB8Q,CAAhB,CAAV;AACH,WAFD;AAGH;AACJ,OApBE,CAsBH;;;AACApU,WAAK,CAACvB,QAAN,CAAe;AAAE1M,YAAI,EAAEsgB,yDAAR;AAAqB7P,YAAI,EAAJA;AAArB,OAAf;AACH,KAhCW,CAkCZ;AACA;AACA;AACA;AACA;;AACH;;AAED,MAAI4F,KAAJ,EAAagH,EAAA;AACb,MAAI,OAAOpc,QAAP,KAAoB,UAAxB,EAAoC,MAAMA,QAAQ,CAAC;AAAEgN,SAAK,EAALA,KAAF;AAASiP,OAAG,EAAHA;AAAT,GAAD,CAAd;AACvC,CAvDD;;AAyDeuE,gFAAf,E;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEO,IAAMjG,mBAAmB,GAAG,QAA5B;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAgD;AAAA,MAA/CnX,KAA+C,uEAAvC;AAAEge,QAAI,EAAE,IAAR;AAAcC,UAAM,EAAE;AAAtB,GAAuC;AAAA,MAAXze,MAAW;;AACzE,UAAQA,MAAM,CAAC9D,IAAf;AACI,SAAKmgB,6DAAL;AACI,aAAOvd,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkByB,KAAlB,EAAyB;AAC5Bge,YAAI,EAAExe,MAAM,CAAC2M;AADe,OAAzB,CAAP;;AAGJ,SAAK4P,6DAAL;AACI,aAAOzd,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkByB,KAAlB,EAAyB;AAC5Bie,cAAM,EAAEze,MAAM,CAAC2M;AADa,OAAzB,CAAP;;AAGJ,SAAK6P,yDAAL;AACI,aAAO1d,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkByB,KAAlB,EAAyB;AAC5Byd,cAAM,EAAEje,MAAM,CAAC2M;AADa,OAAzB,CAAP;;AAGJ;AACI,aAAOnM,KAAP;AAdR;AAgBH,CAjBM,C;;;;;;;;;;;;;;;;;;;;;;;ACRP;;;AAIA;AACA;CAGA;;AAEA,IAAMke,IAAI,GAAG,SAAPA,IAAO,OAEP;AAAA,MADFvU,KACE,QADFA,KACE;AAAA,MADQtK,KACR;;AACF;AACA;AACA;AACA;AACA,SACI;AACA,+DAAC,oDAAD;AAAU,WAAK,EAAEsK;AAAjB,OACI,2DAAC,qEAAD,EAAmBtK,KAAnB,CADJ,CAFJ,CAKI;AACA;;AANJ;AAQH,CAfD;;AAiBe6e,mEAAf;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnDA;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA,IAAM9M,GAAG,GAAG,eAANA,GAAM,GAAwB;AAAA,MAAjB5O,OAAiB,uEAAP,EAAO;AAAA,0BAM5BA,OAN4B,CAE5B2b,QAF4B;AAAA,MAE5BA,QAF4B,kCAEjBpM,MAAO,GAAGC,SAAH,GAA8BoM,iBAFpB;AAAA,qBAM5B5b,OAN4B,CAK5BsP,GAL4B;AAAA,MAK5BA,GAL4B,6BAKtBC,MAAO,GAAGC,SAAH,GAAyBC,YALV;AAAA,MAU5B2G,GAV4B,GAW5B9G,GAX4B,CAU5B8G,GAV4B;AAahC;;AACA,MAAMyF,GAAG,GAAGzF,GAAG,CAAChZ,IAAJ,GAAWgZ,GAAG,CAAC9Y,MAA3B,CAdgC,CAgBhC;;AAhBgC,0BAkBOwe,yEAlBP;AAAA,MAkBjBC,cAlBiB,kCAkBA,EAlBA;AAmBhC,MAAM5D,WAAW,GAAG,MAAMH,6EAAmB,CAAC+D,cAAD,CAA7C,CAnBgC,CAqBhC;AACA;;AACA,MAAMzR,KAAK,GAAGiQ,mFAAS,CAACpC,WAAD,CAAvB,CAvBgC,CAyBhC;;AACA,MAAM6D,aAAa,GAAG;AAClBtc,YAAQ,EACJic,QAAQ,IAAIxe,WAAA,KAAkC,QAA9C,cACUwe,QADV,IAEM;AAJQ,GAAtB;AAMA;;AACA,MAAMM,aAAa,GAAGC,wEAAgB,CAAC;AAAA,WAAMnZ,sEAAmB,CAAC8Y,GAAD,CAAzB;AAAA,GAAD,CAAhB,CAClBG,aADkB,CAAtB;AAGA;;AACA;;AACA,MAAMG,OAAO,GAAGC,+EAAoB,CAACH,aAAD,EAAgB3R,KAAhB,CAApC;AAtCgC,MAwCxB4N,UAxCwB,GAwCTC,WAxCS,CAwCxBD,UAxCwB;;AA0ChC,MAAI3I,KAAJ,EAAa,EAAb,MAMO;AACH8M,0BAAsB,CAAC/R,KAAD,CAAtB;;AACAgS,4BAAwB,CAACH,OAAD,CAAxB;;AACAI,wBAAoB,CAACnG,GAAD,CAApB;;AACAN,wDAAU;AACV0G,0DAAY;AACf,GAtD+B,CAwDhC;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AACA,MAAMC,WAAW,GAAGtS,OAAO,CAACwR,QAAD,CAA3B;AAlEgC,MAqE5Be,uBArE4B,GA8E5BpN,GA9E4B,CAqE5BoN,uBArE4B;AAAA,MAsE5BC,eAtE4B,GA8E5BrN,GA9E4B,CAsE5BqN,eAtE4B;AAAA,MAuE5BC,WAvE4B,GA8E5BtN,GA9E4B,CAuE5BsN,WAvE4B;AAAA,MAwE5BxP,QAxE4B,GA8E5BkC,GA9E4B,CAwE5BlC,QAxE4B;AAAA,MAyE5BjU,QAzE4B,GA8E5BmW,GA9E4B,CAyE5BnW,QAzE4B;AAAA,MA0E5B0jB,cA1E4B,GA8E5BvN,GA9E4B,CA0E5BuN,cA1E4B;AAAA,8BA8E5BvN,GA9E4B,CA2E5BwN,kBA3E4B;AAAA,MA2E5BA,kBA3E4B,sCA2EP,EA3EO;AAAA,MA6E5BC,WA7E4B,GA8E5BzN,GA9E4B,CA6E5ByN,WA7E4B;AAgFhC3G,KAAG,CAAC0E,UAAJ,GAAiBgC,kBAAkB,CAACE,QAAnB,GACX5G,GAAG,CAACqF,MAAJ,CAAW3c,OAAX,CAAmB,YAAnB,YAAoCge,kBAAkB,CAACE,QAAvD,SADW,GAEX5G,GAAG,CAACqF,MAFV;AAGArF,KAAG,CAAC6G,QAAJ,GAAeH,kBAAkB,CAACE,QAAnB,GACT5G,GAAG,CAAC8G,IAAJ,CAASpe,OAAT,CAAiB,YAAjB,YAAkCge,kBAAkB,CAACE,QAArD,SADS,GAET5G,GAAG,CAAC8G,IAFV;;AAnFgC,aAuFY,MAAMC,UAAU,CAACV,WAAD,CAvF5B;AAAA,MAuFxBW,SAvFwB,QAuFxBA,SAvFwB;AAAA,MAuFCtE,MAvFD,QAuFbuE,YAvFa,EAyFhC;;;AACA,QAAM1C,sGAAiB,CAAC;AACpBvE,OAAG,EAAHA,GADoB;AAEpBjP,SAAK,EAAEmD,KAFa;AAGpB4N,cAAU,EAAVA,UAHoB;AAIpB/d,YAAQ,EAAEijB,SAAS,CAACzC;AAJA,GAAD,CAAvB;;AAMA,MAAIgB,QAAJ,EAAc;AACVrR,SAAK,CAAC1E,QAAN,CAAe;AAAE1M,UAAI,EAAEmgB,8DAAR;AAAyB1P,UAAI,EAAEgS;AAA/B,KAAf;AACA2B,yEAAkB,CAAC;AAAEnW,WAAK,EAAEmD;AAAT,KAAD,CAAlB;AACH,GAnG+B,CAqGhC;;;AArGgC,cAsGU,MAAM,IAAIhE,OAAJ,CAC5C,UAACC,OAAD,EAAUgX,MAAV,EAAqB;AACjBve,iEAAK,CACD;AACIqE,aAAO,EAAE8Y,OADb;AAEIrD,YAAM,EAANA,MAFJ;AAGIrZ,cAAQ,EAAEoc;AAHd,KADC,EAMD,UAAC2B,KAAD,EAAQC,gBAAR,EAA0BlQ,WAA1B,EAA0C;AACtC,UAAIiQ,KAAJ,EAAW,OAAOD,MAAM,CAACC,KAAD,CAAb;AACXjX,aAAO,CAAC;AAAEkX,wBAAgB,EAAhBA,gBAAF;AAAoBlQ,mBAAW,EAAXA;AAApB,OAAD,CAAP;AACH,KATA,CAAL;AAWH,GAb2C,CAtGhB;AAAA,MAsGxBkQ,gBAtGwB,SAsGxBA,gBAtGwB;AAAA,MAsGNlQ,WAtGM,SAsGNA,WAtGM,EAsHhC;;;AACA,MAAIkQ,gBAAJ,EAAsB;AAClBV,eAAW,CAAC;AACRW,cAAQ,EAAED,gBAAgB,CAACpgB,QAAjB,GAA4BogB,gBAAgB,CAACngB;AAD/C,KAAD,CAAX;AAGA;AACH,GA5H+B,CA8HhC;AACA;;;AACA,MAAI,CAACiQ,WAAL,EAAkB;AACdwP,eAAW,CAAC;AACR7hB,UAAI,EAAE;AADE,KAAD,CAAX;AAGA;AACH,GArI+B,CAuIhC;;;AACA,MAAMsC,KAAK,GAAG8M,KAAK,CAAC3E,QAAN,EAAd;AACA,MAAMgY,eAAe,GAAGngB,KAAK,CAAC+W,OAAN,CAAcqJ,yBAAd,CAAwCvgB,QAAhE;AACA,MAAIsgB,eAAe,CAACxC,KAAhB,CAAsB,CAAtB,EAAyB,CAAzB,MAAgC,GAApC,EACIrf,MAAM,CAACC,MAAP,CAAcuO,KAAK,CAAC3E,QAAN,GAAiB4O,OAAjB,CAAyBqJ,yBAAvC,EAAkE;AAC9DvgB,YAAQ,EAAE+Y,GAAG,CAAChZ,IADgD,CAE9D;;AAF8D,GAAlE,EA3I4B,CAgJhC;;AACA,QAAMsd,oGAAe,CAAC;AAClBtE,OAAG,EAAHA,GADkB;AAElBjP,SAAK,EAAEmD,KAFW;AAGlBwD,YAAQ,EAAE6N,QAHQ;AAIlBxhB,YAAQ,EAAEijB,SAAS,CAAC1C;AAJF,GAAD,CAArB,CAjJgC,CAwJhC;;AACApL,KAAG,CAACI,+EAAD,CAAH,GAA6B,IAA7B;AACAJ,KAAG,CAACK,mBAAJ,GAA0B,EAA1B;;AACA,MAAI;AACAkO,2EAAc,CAAC,2DAAC,wDAAD;AAAgB,WAAK,EAAEvT;AAAvB,OAAkCiD,WAAlC,EAAD,CAAd;AACH,GAFD,CAEE,OAAO8I,CAAP,EAAU,CAAE;;AACd/G,KAAG,CAACI,+EAAD,CAAH,GAA6B,KAA7B,CA9JgC,CAgKhC;;AACAoO,2EAAU,CAACxT,KAAD,+BAAY0L,+EAAZ,IAAmC,QAAnC,EAA6C,SAA7C,GAAV,CAjKgC,CAmKhC;;AACA,QAAMyE,uGAAiB,CAAC;AACpBrE,OAAG,EAAHA,GADoB;AAEpBjP,SAAK,EAAEmD,KAFa;AAGpBwD,YAAQ,EAAE6N,QAHU;AAIpBxhB,YAAQ,EAAEijB,SAAS,CAAC3C;AAJA,GAAD,CAAvB,CApKgC,CA2KhC;;AA3KgC,cA4KO,MAAMsD,qGAA0B,CAAC;AACpE5W,SAAK,EAAEmD,KAD6D;AAEpEiD,eAAW,EAAXA,WAFoE;AAGpE6I,OAAG,EAAHA;AAHoE,GAAD,CA5KvC;AAAA,MA4KxB/K,KA5KwB,SA4KxBA,KA5KwB;AAAA,MA4KjB0G,QA5KiB,SA4KjBA,QA5KiB;AAAA,MA4KPiB,SA5KO,SA4KPA,SA5KO,EAkLhC;;;AACA,QAAMwH,sGAAgB,CAAC;AACnBpE,OAAG,EAAHA,GADmB;AAEnBjP,SAAK,EAAEmD,KAFY;AAGnBwD,YAAQ,EAAE6N,QAHS;AAInBxhB,YAAQ,EAAEijB,SAAS,CAAC5C;AAJD,GAAD,CAAtB,CAnLgC,CA0LhC;;AACA,MAAM3C,SAAS,GAAGgG,uEAAc,CAC5B,2DAAC,wDAAD;AAAgB,SAAK,EAAEvT;AAAvB,KAAkCiD,WAAlC,EAD4B,CAAhC,CA3LgC,CA8LhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAM0G,UAAU,GAAGnY,MAAM,CAACmC,IAAP,CAAYmP,QAAZ,EACd9L,MADc,CAEX,UAAA0c,EAAE;AAAA,WACE,OAAO5Q,QAAQ,CAAC4Q,EAAD,CAAR,CAAa9G,GAApB,KAA4B,QAA5B,IAAwC9J,QAAQ,CAAC4Q,EAAD,CAAR,CAAa9G,GAAb,KAAqB,EAD/D;AAAA,GAFS,EAKdzT,GALc,CAMX,UAAAua,EAAE;AAAA,4BACYhH,kBADZ,gBAC+CgH,EAD/C,gBACsD5Q,QAAQ,CAAC4Q,EAAD,CAAR,CAAa9G,GADnE;AAAA,GANS,EASdzG,IATc,CAST,EATS,CAAnB,CA1MgC,CAoNhC;AAEA;;AACA,MAAM0F,MAAM,GAAG8H,8DAAc,CAAC;AAC1BnL,eAAW,EAAE4J,uBADa;AAE1B9E,WAAO,EAAEgF,WAFiB;AAG1B7J,eAAW,EAAE4J,eAHa;AAI1B7O,YAAQ,EAAE6N,QAJgB;AAK1BtQ,SAAK,EAALA,KAL0B;AAM1B0G,YAAQ,EAARA,QAN0B;AAO1B8F,aAAS,EAATA,SAP0B;AAQ1B5D,cAAU,EAAVA,UAR0B;AAS1BjB,aAAS,EAATA,SAT0B;AAU1BC,YAAQ,oBACDiL,2EAAe,EADd,CAVkB;AAa1BrL,sBAAkB,EAAEsL,6EAAoB,CAAChlB,QAAD;AAbd,GAAD,CAA7B;;AAeA,MAAIwiB,QAAJ,EAAc;AACV;AACAxF,UAAM,CAAC7K,KAAP,IAAgB8S,0FAA6B,CAAC;AAC1ChI,SAAG,EAAHA,GAD0C;AAE1C0G,wBAAkB,EAAlBA,kBAF0C;AAG1ChP,cAAQ,EAAE6N;AAHgC,KAAD,CAA7C;AAKH;AAED;;;AACA,MAAI0C,IAAI,GAAGC,8DAAc,CAAC;AACtBnlB,YAAQ,EAARA,QADsB;AAEtBgd,UAAM,EAAEra,MAAM,CAACC,MAAP,mBACDoa,MADC,MAED0G,cAFC,EAFc;AAMtB1V,SAAK,EAAEmD,KANe;AAOtB8L,OAAG,EAAHA;AAPsB,GAAD,CAAzB,CAhPgC,CA0PhC;;AACA,MAAI7G,KAAJ,EAAa,sCA3PmB,CA4QhC;;;AACAwN,aAAW,CAAC;AACRsB,QAAI,EAAJA;AADQ,GAAD,CAAX;AAGH,CAhRD;AAkRA;;;;;;AAIA,IAAMlB,UAAU,GAAG,eAAbA,UAAa,CAAMV,WAAN,EAAqB;AACpC,MAAMd,QAAQ,GAAGpM,MAAO,GAAGC,SAAH,GAA8BoM,iBAAtD;AADoC,2BAGEE,0EAHF;AAAA,MAGpByC,YAHoB,mCAGL,EAHK;AAKpC,MAAM5F,MAAM,GAAG,EAAf,CALoC,CAOpC;;AACAA,QAAM,CAAC0E,YAAP,GAAsB,MAAM5E,8EAAoB,CAACqD,0EAAD,CAAhD;AAEA,MAAI,OAAOW,WAAP,KAAuB,WAA3B,EAAwCA,WAAW,GAAGtS,OAAO,CAACwR,QAAD,CAArB;AAExChD,QAAM,CAACyE,SAAP,GAAmB,EAAnB;;AACA,MAAI,OAAOmB,YAAY,CAACC,QAApB,KAAiC,UAArC,EAAiD;AAC7C7F,UAAM,CAACyE,SAAP,CAAiB3C,iBAAjB,GAAqC8D,YAAY,CAACC,QAAlD;AACH,GAFD,MAEO,IAAI,QAAOD,YAAY,CAACC,QAApB,MAAiC,QAArC,EAA+C;AAClD1iB,UAAM,CAACmC,IAAP,CAAYsgB,YAAY,CAACC,QAAzB,EAAmCtd,OAAnC,CAA2C,UAAA/E,GAAG,EAAI;AAC9Cwc,YAAM,CAACyE,SAAP,CAAiBjhB,GAAjB,IAAwBoiB,YAAY,CAACC,QAAb,CAAsBriB,GAAtB,CAAxB;AACH,KAFD;AAGH;;AAED,SAAOwc,MAAP;AACH,CAtBD;;AAwBA,IAAI,IAAJ,EACI/J,GAAG,GAAG6P,KAAN,CAAY,UAAAC,GAAG,EAAI;AACfjP,cAAY,CAACsN,WAAb,CAAyB;AACrBS,SAAK,EAAEkB;AADc,GAAzB;;AAGApI,SAAO,CAACkH,KAAR,CAAckB,GAAd;AACA,QAAMA,GAAN;AACH,CAND;AAQW9P,kEAAf,E;;;;;;;;;;;ACtWA;;;;;;;AAOAlI,MAAM,CAAC/M,OAAP,GAAiB;AACb;AACAglB,8BAA4B,EAAE,mCAFjB;AAGbC,uCAAqC,EACjC,6CAJS;AAKbC,uCAAqC,EACjC,6CANS;AAObC,4CAA0C,EACtC,mDARS;AASbC,oBAAkB,EAAE,uBATP;AAUbC,eAAa,EAAE,iBAVF;AAWbC,+BAA6B,EAAE,WAXlB;AAYbC,wCAAsC,EAAE,qBAZ3B;AAabC,wCAAsC,EAAE,qBAb3B;AAcbC,6CAA2C,EAAE,2BAdhC;AAebC,qBAAmB,EAAE,CACjB,CAAC,MAAD,EAAS,EAAT,CADiB,EAEjB,CAAC,MAAD,EAAS,OAAT,CAFiB,EAGjB,CAAC,UAAD,EAAa,EAAb,CAHiB,EAIjB,CAAC,gBAAD,EAAmB,EAAnB,CAJiB,EAKjB,CAAC,QAAD,EAAW,EAAX,CALiB,EAMjB,CAAC,aAAD,EAAgB,EAAhB,CANiB,EAOjB,CAAC,OAAD,EAAU,EAAV,CAPiB,EAQjB,CAAC,gBAAD,EAAmB,EAAnB,CARiB,EASjB,CAAC,QAAD,EAAW,EAAX,CATiB,EAUjB,CAAC,QAAD,EAAW,EAAX,CAViB,CAfR;AA2BbC,UAAQ,EAAE,CAAC,KAAD,EAAQ,UAAR,EAAoB,WAApB,CA3BG;AA6Bb;AACAC,mBAAiB,EAAE,eA9BN;AA+BbC,aAAW,EAAE,SA/BA;AAgCbC,qBAAmB,EAAE,oBAhCR;AAiCbC,QAAM,EAAE,SAjCK;AAmCb;AACAC,gBAAc,EAAE,WApCH;AAqCbC,6BAA2B,EAAE,2BArChB;AAsCbC,mCAAiC,EAAE,yBAtCtB;AAuCbC,iCAA+B,EAAE,+BAvCpB;AAwCbC,sCAAoC,EAAE,oCAxCzB;AAyCbC,qBAAmB,EAAE,uBAzCR;AA0CbC,kBAAgB,EAAE,oBA1CL;AA4Cb;AACApM,qBAAmB,EAAE,wBA7CR;AA8CbC,8BAA4B,EAAE,0CA9CjB;AA+CbxB,yBAAuB,EAAE,8BA/CZ;AAiDb;AACA4N,kCAAgC,EAAE,8BAlDrB;AAmDbC,kBAAgB,EAAE,gBAnDL;AAoDbC,mBAAiB,EAAE,kBApDN;AAqDbC,6BAA2B,EAAE,kCArDhB;AAuDb;AACAC,uBAAqB,EAAE,eAxDV;AA0Db;AACAvM,6BAA2B,EAAE,kBA3DhB;AA4DbwM,6BAA2B,EAAE,kBA5DhB;AA6DbhO,6BAA2B,EAAE,iBA7DhB;AA+Db;;AACA;;;;;AAKAyB,0BAAwB,EAAE,KAAK,IArElB;;AAsEb;;;;;AAKAxB,yBAAuB,EAAE,KAAK;AA3EjB,CAAjB,C;;;;;;;;;;;ACPA9L,MAAM,CAAC/M,OAAP,GAAiB4W,MAAU,GACrB,SADqB,GAErB;AACIb,uBAAqB,EAAE;AAD3B,CAFN,C;;;;;;;;;;;ACAAhJ,MAAM,CAAC/M,OAAP,GAAiB;AACb6mB,gCAA8B,EAAE,aADnB;AAEb1T,6BAA2B,EAAE,yBAFhB;AAGbC,2BAAyB,EAAE,uBAHd;AAKb;AACA0T,sBAAoB,EAAE,IANT;AAQb7V,iBAAe,EAAE;AARJ,CAAjB,C;;;;;;;;;;;ACAA;;;AAGAlE,MAAM,CAAC/M,OAAP,GAAiB;AACbmY,KAAG,EAAE,iBADQ;AAEb4O,eAAa,uCACTvjB,KAAA,GACMwjB,kBAAkB,CAACxjB,aAAD,CADxB,GAEM,SAHG;AAFA,CAAjB,C;;;;;;;;;;;ACHA;;;;;AAMAuJ,MAAM,CAAC/M,OAAP,GAAiB,CACb,QADa,CAAjB,C;;;;;;;;;;;ACNA+M,MAAM,CAAC/M,OAAP,GAAiB;AACbinB,kBAAgB,EAAE,6BADL;AAEbC,gBAAc,EAAE,2BAFH;AAIbC,uBAAqB,EAAE,gCAJV;AAMbC,YAAU,EAAE,CACR;AACA;AACA;AAHQ;AANC,CAAjB,C;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAO,IAAMC,SAAS,GAAG,mBAAlB;AACA,IAAMC,gBAAgB,GAAG,0BAAzB,C;;;;;;;;;;;;ACDP;AAAA;AAAA;;;;;;;;AAQO,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,OAGlC;AAAA,yBAFFznB,MAEE;AAAA,MAFFA,MAEE,4BAFO,EAEP;AAAA,MADF8a,OACE,QADFA,OACE;AACF,MAAM4M,SAAS,GACX5M,OAAO,IACPA,OAAO,CAACqJ,yBADR,IAEArJ,OAAO,CAACqJ,yBAAR,CAAkCrZ,KAHpB,GAIdgQ,OAAO,CAACqJ,yBAAR,CAAkCrZ,KAAlC,CAAwC4c,SAJ1B,GAIsC,IAJxD;AAMA,MAAI3F,IAAI,GAAG/hB,MAAM,CAAC+hB,IAAlB;AACA,MAAI2F,SAAJ,EAAe3F,IAAI,GAAG2F,SAAS,GAAG,GAAZ,GAAkB3F,IAAzB;AAEf,SAAOA,IAAI,IAAI,EAAf;AACH,CAdM;AAgBQ0F,uFAAf,E;;;;;;;;;;;ACxBA,IAAMtM,aAAa,GAAGvb,mBAAO,CAAC,4DAAD,CAA7B;;AAEA,IAAI+nB,OAAJ;AAEA;;;;;AAIA1a,MAAM,CAAC/M,OAAP,GAAiB,YAAM;AACnB,MAAI,CAACmB,KAAK,CAACiD,OAAN,CAAcqjB,OAAd,CAAL,EAA6B;AACzB,QAAIxM,aAAa,EAAjB,EAAqB;AACjBwM,aAAO,GAAGrX,IAAI,CAACrF,KAAL,CAAWvH,4GAAX,KAA6C,EAAvD;AACH,KAFD,MAEO;AACHikB,aAAO,GAAG,EAAV;AACH;AACJ;;AAED,SAAOA,OAAP;AACH,CAVD,C;;;;;;;;;;;ACRA,IAAMxM,aAAa,GAAGvb,mBAAO,CAAC,4DAAD,CAA7B;AAEA;;;;;;AAIAqN,MAAM,CAAC/M,OAAP,GAAiB;AAAA,SACbib,aAAa,KACP7K,IAAI,CAACrF,KAAL,CAAWvH,aAAX,KAA0C,SADnC,GAEPlC,SAHO;AAAA,CAAjB,C;;;;;;;;;;;ACNA;;;;AAIA,IAAM2Z,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxB,MAAI,CAAC7K,IAAI,CAACrF,KAAL,CAAWvH,MAAX,CAAL,EACI,OAAO,KAAP;AACJ,SAAO,IAAP;AACH,CAJD;;AAKAuJ,MAAM,CAAC/M,OAAP,GAAiBib,aAAjB,C;;;;;;;;;;;ACTA,IAAMyM,gBAAgB,GAAGhoB,mBAAO,CAAC,4EAAD,CAAhC;;AAEA,IAAIoI,MAAJ;AAEA;;;;;AAIAiF,MAAM,CAAC/M,OAAP,GAAkB,YAAM;AACpB,MAAI,CAACmB,KAAK,CAACiD,OAAN,CAAc0D,MAAd,CAAL,EAA4B;AACxBA,UAAM,GAAG4f,gBAAgB,EAAzB;AACA5f,UAAM,GAAGA,MAAM,CAACgC,GAAP,CAAW,UAAA6d,CAAC;AAAA,aAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,KAAZ,CAAT;AAEA,QAAI,CAAC7f,MAAM,CAAC7G,MAAZ,EACI6G,MAAM,GAAG,CAAC,EAAD,CAAT;AACP;;AAED,SAAOA,MAAP;AACH,CAVgB,EAAjB,C;;;;;;;;;;;;;;;;;ACRA;AACA,IAAM8f,YAAY,GAAG,EAArB;AAEA;;;;;;;AAMA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC3B,MAAI9nB,IAAJ,EAAgB;AACZ,QAAI6V,KAAJ,EAAa,EAAb,MAEO,IAAI,QAAOE,YAAP,yCAAOA,YAAP,OAAwB,QAA5B,EACH,OAAOA,YAAY,CAAC2R,OAApB;AACP;;AACD,MAAI7Q,KAAJ,EAAgB,EAIf;;AACD,SAAO,KAAP;AACH,CAbD;AAeA;;;;;;;;AAMO,IAAM6Q,OAAO,GAAI;AAAA,SAAMI,gBAAgB,MAAM,EAA5B;AAAA,CAAD,EAAhB;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAqB;AAAA,MAApBC,UAAoB,uEAAP,EAAO;AAC3C;AACA,MAAIN,OAAJ,EAAatlB,MAAM,CAACC,MAAP,CAAcqlB,OAAd,EAAuBM,UAAvB,EAF8B,CAG3C;;AACA,SAAON,OAAP;AACH,CALM;AAOQA,sEAAf,E;;;;;;;;;;;;;;;;ACvCA;AAKe,+EAAe;AAAA,MAAZja,KAAY,QAAZA,KAAY;AAC1B;AAEA,MAAI,QAAOA,KAAP,MAAiB,QAAjB,IAA6B,OAAOA,KAAK,CAACxB,QAAb,KAA0B,UAA3D,EACI;AAEJwB,OAAK,CAACvB,QAAN,CAAe+b,yDAAU,CAACxa,KAAK,CAACxB,QAAN,EAAD,CAAzB,EAN0B,CAO1B;AACA;AAEA;AACH,CAXD,E;;;;;;;;;;;;ACLA;AAAA;;;;;;;AAOe,yEAAAic,QAAQ;AAAA,SACnBA,QAAQ,CACHzG,KADL,CACW,GADX,EAEK1X,GAFL,CAES,UAAA/E,KAAK;AAAA,WAAIA,KAAK,CAACyc,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAJ;AAAA,GAFd,CADmB;AAAA,CAAvB,E;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;;;;;;AAKA,IAAM0G,SAAS,GAAG,SAAZA,SAAY,CAAC9kB,KAAD,EAAW;AACzB,MAAIihB,EAAJ,CADyB,CAGzB;;AAEA8D,oDAAkB,CAAC/T,IAAnB,CAAwB,UAAAgU,SAAS,EAAI;AACjC,QAAIA,SAAS,IAAIhlB,KAAjB,EACIihB,EAAE,GAAG+D,SAAL;AACJ,WAAO/D,EAAP;AACH,GAJD;;AAMA,MAAMgE,QAAQ,GAAG,SAAXA,QAAW,CAAChE,EAAD,EAAKlQ,QAAL,EAAesN,GAAf,EAAuB;AACpC,QAAI4C,EAAJ,EAAQ,OAAOA,EAAP;AAER,QAAMiE,GAAG,GAAGnU,QAAQ,CAACqN,KAAT,CAAeC,GAAf,CAAZ;;AAEA,QAAI,CAAC4C,EAAL,EAAS;AACL8D,wDAAkB,CAAC/T,IAAnB,CAAwB,UAAAgU,SAAS,EAAI;AACjC,YAAIA,SAAS,IAAIE,GAAG,CAAC,CAAD,CAAH,GAAS,GAAT,GAAeA,GAAG,CAACA,GAAG,CAACrnB,MAAJ,GAAa,CAAd,CAAnC,EACIojB,EAAE,GAAG+D,SAAL;AACJ,eAAO/D,EAAP;AACH,OAJD;AAKH;;AAED,QAAI,CAACA,EAAL,EAAS;AACL8D,wDAAkB,CAAC/T,IAAnB,CAAwB,UAAAgU,SAAS,EAAI;AACjC,YAAIA,SAAS,IAAIE,GAAG,CAAC,CAAD,CAApB,EACIjE,EAAE,GAAG+D,SAAL;AACJ,eAAO/D,EAAP;AACH,OAJD;AAKH;;AAED,WAAOA,EAAE,IAAI,IAAb;AACH,GAtBD;;AAwBAA,IAAE,GAAGgE,QAAQ,CAAChE,EAAD,EAAKjhB,KAAL,EAAY,GAAZ,CAAb;AAEA,SAAOihB,EAAE,IAAI,IAAb;AACH,CAtCD;AAwCA;;;;;;;;;;;AASA,IAAMkE,aAAa,GAAG,SAAhBA,aAAgB,CAACnlB,KAAD,EAAW;AAE7B;AACA;AACA,MAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,CAAC6B,OAAN,CAAc,GAAd,IAAqB,CAAC,CAAvD,EACI7B,KAAK,GAAGolB,oEAAiB,CAACplB,KAAD,CAAzB,CALyB,CAO7B;;AACA,MAAIjC,KAAK,CAACiD,OAAN,CAAchB,KAAd,CAAJ,EAA0B;AACtB,QAAIihB,EAAJ;AAEAjhB,SAAK,CAACgR,IAAN,CAAW,UAAAqU,MAAM,EAAI;AACjBpE,QAAE,GAAG6D,SAAS,CAACO,MAAD,CAAd;AACA,aAAOpE,EAAP;AACH,KAHD;AAKA,WAAOA,EAAE,IAAI8D,kDAAkB,CAAC,CAAD,CAA/B;AACH,GATD,MAWK,IAAI,CAAC/kB,KAAD,IAAU,OAAOslB,SAAP,KAAqB,WAAnC,EACD,OAAOH,aAAa,CAACG,SAAS,CAACC,SAAV,IAAuBD,SAAS,CAACE,QAAjC,IAA6CF,SAAS,CAACG,eAAvD,IAA0EH,SAAS,CAACI,cAApF,IAAsGJ,SAAS,CAACK,YAAhH,IAAgIZ,kDAAkB,CAAC,CAAD,CAAnJ,CAApB,CADC,KAGA,IAAI/kB,KAAJ,EACD,OAAO8kB,SAAS,CAAC9kB,KAAD,CAAT,IAAoB+kB,kDAAkB,CAAC,CAAD,CAA7C;;AAEJ,SAAOA,kDAAkB,CAAC,CAAD,CAAzB;AACH,CA1BD;;AA4BeI,4EAAf,E;;;;;;;;;;;;;;;;;;;;;ACtFA;AACA;CAGA;;AACA;AAEA;;;;;;;;;AAQO,IAAMS,eAAe,GAAG,SAAlBA,eAAkB,GAA0B;AAAA,MAAzBnlB,KAAyB,uEAAjB,IAAiB;AAAA,MAAXR,MAAW;;AACrD,UAAQA,MAAM,CAAC9D,IAAf;AACI,SAAK8nB,uDAAL;AACI,aAAOhkB,MAAM,CAAC8Q,QAAd;AAFR;;AAIA,SAAOtQ,KAAP;AACH,CANM,C,CASP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AAMO,IAAMmkB,UAAU,GAAG,SAAbA,UAAa,CAACnkB,KAAD,EAAW;AACjC;AAEA,MAAMsQ,QAAQ,GAAGpU,KAAU,GACrBwJ,IAAI,CAACif,oEAAiB,CACnB,QAAO3kB,KAAP,MAAiB,QAAlB,GAA8B0jB,6EAAwB,CAAC1jB,KAAD,CAAtD,GAAgEA,KAD5C,CAAlB,EAEHA,KAAK,CAACsQ,QAFH,CADiB,GAIrBtQ,SAJN,CAHiC,CASjC;;AAEA,SAAO;AACHtE,QAAI,EAAE8nB,uDADH;AAEHlT,YAAQ,EAAE,KAAKA;AAFZ,GAAP;AAIH,CAfM,C,CAiBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AAOA,IAAM5K,IAAI,GAAG,SAAPA,IAAO,GAA6B;AAAA,MAA5B0e,QAA4B,uEAAjB,EAAiB;AAAA,MAAb9T,QAAa;;AACtC,MAAIpU,IAAJ,EAAgB;AACZ;AACA,QAAI,OAAOkoB,QAAP,KAAoB,QAAxB,EACI,IAAIA,QAAQ,CAAChjB,OAAT,CAAiB,GAAjB,IAAwB,CAAC,CAA7B,EACIgjB,QAAQ,GAAGO,oEAAiB,CAACP,QAAD,CAA5B,CADJ,KAGI,OAAO1e,IAAI,CAAC,CAAC0e,QAAD,CAAD,EAAa9T,QAAb,CAAX;AAER,QAAM8U,MAAM,GAAGV,gEAAa,CAACN,QAAD,CAA5B,CARY,CASZ;AACA;;AAEA,QAAIgB,MAAJ,EAAY,OAAOA,MAAP;AACZ,WAAO9U,QAAP,CAbY,CAeZ;AACH;AACJ,CAlBD,C;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;;;;;;;;;AAQA,IAAM+U,yBAAyB,GAAG,SAA5BA,yBAA4B,OAA+C;AAAA,MAA5CzM,GAA4C,QAA5CA,GAA4C;AAAA,MAAvCtI,QAAuC,QAAvCA,QAAuC;AAC7E,MAAI,CAAC8G,uDAAa,EAAlB,EACI,OAAO,EAAP,CAFyE,CAI7E;AACA;AACA;AACA;AACA;;AAR6E,MAU/DsI,IAV+D,GAYzE9G,GAZyE,CAUzE6G,QAVyE;AAAA,MAW7DxB,MAX6D,GAYzErF,GAZyE,CAWzE0E,UAXyE;AAc7E,MAAMgI,WAAW,GAAG3lB,WAAA,KAAkC,QAAtD;AAEA,MAAI4lB,IAAI,GAAGjB,kDAAkB;AAAA,GACxBxgB,MADM,CACC,UAAA0hB,YAAY;AAAA,WAAIA,YAAY,KAAKlV,QAArB;AAAA,GADb,EAENrK,GAFM,CAEF,UAAA6d,CAAC,EAAI;AAEN,QAAI2B,QAAQ,GAAG,EAAf;;AAEA,QAAIH,WAAJ,EAAiB;AACbG,cAAQ,GAAGxH,MAAM,GACXyB,IAAI,CACDpe,OADH,CACW,IAAIC,MAAJ,YAAe0c,MAAf,EADX,EACqC,EADrC,EAEG3c,OAFH,CAEW,IAAIC,MAAJ,YAAe+O,QAAf,EAFX,EAEuCwT,CAFvC,EAGGxiB,OAHH,CAGW,IAAIC,MAAJ,aAAgB+O,QAAhB,EAHX,EAGwC,MAAMwT,CAH9C,CADN;AAKH,KAND,MAMO;AACH2B,cAAQ,GAAI,YAAM;AACd,YAAI7M,GAAG,CAAC7R,KAAJ,CAAUkc,sEAAV,MAAoC,EAAxC,EAA4C;AACxC,iBAAOvD,IAAI,CAACpe,OAAL,CACH,IAAIC,MAAJ,WAAc0hB,sEAAd,OADG,YAEAA,sEAFA,cAEwBa,CAFxB,EAAP;AAIH;;AACD,YAAI,OAAOlL,GAAG,CAAC7R,KAAJ,CAAUkc,sEAAV,CAAP,KAA2C,QAA/C,EACI,OAAOvD,IAAI,CAACpe,OAAL,CACH,IAAIC,MAAJ,WAAc0hB,sEAAd,kBADG,YAEAA,sEAFA,cAEwBa,CAFxB,EAAP;AAIJ,eAAOpE,IAAI,IAAI9G,GAAG,CAAC8M,WAAJ,SACXhG,IAAI,CAAC5a,MAAL,CAAY4a,IAAI,CAACtiB,MAAL,GAAc,CAA1B,MAAiC,GAAjC,GACM,EADN,MADO,CAAJ,aAIC6lB,sEAJD,cAIyBa,CAJzB,CAAP;AAKH,OAjBU,EAAX;AAkBH;;AAED,QAAI/R,KAAJ,EAAa0T,EAAA;AACb,wDAA0C3B,CAA1C,uBAAsD2B,QAAtD;AACH,GAnCM,EAoCNxS,IApCM,CAoCD,EApCC,CAAX;;AAsCA,MAAIqS,WAAJ,EAAiB;AACbC,QAAI,4BAAoBjV,QAApB,QAAJ;AACH;;AAED,SAAOiV,IAAP;AACH,CA3DD;;AA6DeF,wFAAf,E;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;AAKA,IAAMM,cAAc,GAAG,SAAjBA,cAAiB,CAAC/M,GAAD,EAAS;AAC5B,MAAI,CAACxB,kDAAa,EAAlB,EACI,OAAO,EAAP,CAFwB,CAI5B;AAEA;;AACA,MAAIzX,KAAJ,EAAgD,iBAAhD,MAMO;AACH,QAAIiZ,GAAG,CAAC7R,KAAJ,CAAUkc,sEAAV,CAAJ,EAAqC;AACjC,UAAIqB,kDAAkB,CAACjM,QAAnB,CAA4BO,GAAG,CAAC7R,KAAJ,CAAUkc,sEAAV,CAA5B,CAAJ,EACI,OAAOrK,GAAG,CAAC7R,KAAJ,CAAUkc,sEAAV,CAAP;AACJrK,SAAG,CAACsH,QAAJ,CAAatH,GAAG,CAACyF,GAAJ,CACR/c,OADQ,CACA,IAAIC,MAAJ,kBAAqB0hB,sEAArB,YADA,EACoD,EADpD,EAER3hB,OAFQ,CAEA,IAAIC,MAAJ,kBAAqB0hB,sEAArB,YAFA,EAEoD,EAFpD,CAAb;AAIA,aAAOqB,kDAAkB,CAAC,CAAD,CAAzB;AACH;AACJ,GAvB2B,CAyB5B;AACA;AACA;AACA;;;AACA,MAAMsB,WAAW,GAAGhN,GAAG,CAAC2E,OAAJ,CAAYtQ,GAAZ,CAAgBtN,YAAhB,CAApB;;AACA,MAAIimB,WAAW,IAAItB,kDAAkB,CAACjM,QAAnB,CAA4BuN,WAA5B,CAAnB,EAA6D;AACzD,WAAOA,WAAP;AACH,GAhC2B,CAkC5B;AACA;;;AACA,MAAIhN,GAAG,CAACiN,MAAJ,CAAW,iBAAX,CAAJ,EAAmC;AAC/B;AACA;AACA;AACA;AACA;AACA,QAAMvV,QAAQ,GAAGoU,gEAAa,CAAC9L,GAAG,CAACiN,MAAJ,CAAW,iBAAX,CAAD,CAA9B;AACA,QAAIvV,QAAJ,EACI,OAAOwV,SAAS,CAACxV,QAAD,EAAWsI,GAAX,CAAhB;AACP,GA7C2B,CA+C5B;;;AACA,SAAOkN,SAAS,CAACxB,kDAAkB,CAAC,CAAD,CAAnB,EAAwB1L,GAAxB,CAAhB;AACH,CAjDD;;AAmDe+M,6EAAf;AAEA;;;;;AAIA,IAAMG,SAAS,GAAG,SAAZA,SAAY,CAACxV,QAAD,EAAWsI,GAAX,EAAmB;AACjCmN,oDAAS,CAACzV,QAAD,EAAWsI,GAAX,CAAT;AACA,SAAOtI,QAAP;AACH,CAHD,C;;;;;;;;;;;;;;;ACrEA;;AAEA;;;;AAIA,IAAM0V,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB,MAAI,KAAJ,EAAiB;AACjB,MAAIjU,KAAJ,EACI;AAUJ,MAAI,QAAOE,YAAP,yCAAOA,YAAP,OAAwB,QAA5B,EAAsC,OAAO,EAAP;AAEtC,SAAO;AACH3B,YAAQ,EAAE2B,YAAY,CAACkM,QADpB;AAEHyF,WAAO,EACHrX,IAAI,CAACrF,KAAL,CAAWvH,aAAX,MAA2C,OAA3C,GACMsS,YAAY,CAAC2R,OAAb,CAAqB3R,YAAY,CAACkM,QAAlC,KAA+C,EADrD,GAEM;AALP,GAAP;AAOH,CAtBD;;AAuBe6H,0EAAf,E;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;;;;;;;AAMA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACrN,GAAD,EAAS;AAC/B,MAAI,CAACxB,kDAAa,EAAlB,EACI,OAAO,KAAP;AAEJ,MAAIzX,IAAJ,EACI,OAAO,KAAP;AAEJ,MAAIE,QAAQ,GAAG+Y,GAAG,CAAChZ,IAAnB;AACA,MAAIC,QAAQ,CAACiF,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,MAA0B,GAA9B,EAAmCjF,QAAQ,GAAGA,QAAQ,CAACiF,MAAT,CAAgB,CAAhB,CAAX;AACnCjF,UAAQ,GAAGA,QAAQ,CAAC8d,KAAT,CAAe,GAAf,CAAX;;AAEA,MAAI,CAAC2G,kDAAkB,CAACjM,QAAnB,CAA4BxY,QAAQ,CAAC,CAAD,CAApC,CAAL,EAA+C;AAC3C,QAAMyQ,QAAQ,GAAGqV,kEAAc,CAAC/M,GAAD,CAA/B,CAD2C,CAG3C;AACA;;AAEA/Y,YAAQ,CAACuS,OAAT,CAAiB9B,QAAjB;AACAzQ,YAAQ,GAAG,MAAMA,QAAQ,CAACoT,IAAT,CAAc,GAAd,CAAjB,CAP2C,CAS3C;;AACA,QAAMiT,OAAO,GAAGtN,GAAG,CAAC0E,UAAJ,GACV1E,GAAG,CAAC6G,QAAJ,CACGne,OADH,CACW,IAAIC,MAAJ,YAAeqX,GAAG,CAAC0E,UAAnB,EADX,EAC6C,EAD7C,EAEGhc,OAFH,CAEW,IAAIC,MAAJ,YAAeqX,GAAG,CAAChZ,IAAnB,EAFX,EAEuCC,QAFvC,CADN,CAV2C,CAe3C;;AACAkmB,sDAAS,CAACzV,QAAD,EAAWsI,GAAX,CAAT;AACA,WAAOA,GAAG,CAACsH,QAAJ,CAAagG,OAAb,CAAP;AACH;;AAED,SAAO,KAAP;AACH,CAhCD;;AAkCeD,gFAAf,E;;;;;;;;;;;;;;;;;AC7CA;;;;;AAKA/c,MAAM,CAAC/M,OAAP,GAAiB,UAACmU,QAAD,EAAWsI,GAAX,EAAmB;AAEhC,MAAMuN,OAAO,GAAG,GAAhB;AACA,MAAM3jB,OAAO,GAAG,EAAhB;;AACA,MAAI,OAAO7C,OAAO,CAACgV,GAAR,CAAYyR,uBAAnB,KAA+C,QAA/C,IACAzmB,OAAO,CAACgV,GAAR,CAAYyR,uBADhB,EACyC;AACrC5jB,WAAO,CAAC6jB,MAAR,GAAiB1mB,OAAO,CAACgV,GAAR,CAAYyR,uBAA7B;AACH;;AAED,MAAIrT,KAAJ,EAAgB,EAWf;;AAED,MAAI7W,IAAJ,EAAgB,CACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;AACJ,CAlCD,C;;;;;;;;;;;;;;;;;;;;ACLA;AAEA;AACA;AAEO,IAAI4nB,CAAC,GAAI,YAAM;AAClB,MAAI5nB,IAAJ,EAAgB;AACZ,QAAI6V,KAAJ,EAAwD,EAD5C,CAMZ;;;AACA,QAAI,QAAO6R,gDAAP,MAAmB,QAAvB,EAAiC,OAAOA,gDAAO,CAACtT,0CAAD,CAAd;AACjC,WAAO,EAAP;AACH;;AACD,MAAI/D,IAAI,CAACrF,KAAL,CAAWvH,aAAX,MAA2C,OAA/C,EAAwD,OAAOikB,gDAAP;AACxD,SAAO,KAAP;AACH,CAbc,EAAR;AAeP;;;;;;;;;;AASA,IAAM0C,SAAS,GAAG,SAAZA,SAAY,GAAa;AAAA,oCAATjpB,IAAS;AAATA,QAAS;AAAA;;AAC3B,MAAIsB,GAAG,GAAG,EAAV;AACA,MAAIif,GAAJ;AACA,MAAIpb,OAAO,GAAG,EAAd;AACA,MAAM/B,IAAI,GAAG,EAAb;AAEA,MAAIvE,KAAJ,EAA2B4nB,EAAA;AAE3BzmB,MAAI,CAACqG,OAAL,CAAa,UAACxC,KAAD,EAAQL,KAAR,EAAkB;AAC3B;AACA,QACIA,KAAK,KAAKxD,IAAI,CAACD,MAAL,GAAc,CAAxB,IACA,QAAO8D,KAAP,MAAiB,QADjB,IAEA,CAAC5D,KAAK,CAACiD,OAAN,CAAcW,KAAd,CAHL,EAIE;AACEsB,aAAO,GAAGtB,KAAV;AACA;AACH;;AACD,QAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,CAACmX,QAAN,CAAe,GAAf,CAAjC,EAAsD;AAClDnX,WAAK,CAACyc,KAAN,CAAY,GAAZ,EAAiBja,OAAjB,CAAyB,UAAAxC,KAAK;AAAA,eAAIT,IAAI,CAACoD,IAAL,CAAU3C,KAAV,CAAJ;AAAA,OAA9B;AACA;AACH;;AACDT,QAAI,CAACoD,IAAL,CAAU3C,KAAV;AACH,GAfD;AAiBA,MAAM9D,MAAM,GAAGqD,IAAI,CAACrD,MAApB;;AAEA,MAAIC,IAAI,CAACD,MAAL,KAAgB,CAAhB,IAAqB,QAAOC,IAAI,CAAC,CAAD,CAAX,MAAmB,QAA5C,EAAsD;AAClD;;;AAGA,WAAOA,IAAI,CAAC,CAAD,CAAX;AACH;;AAED,MAAI,QAAOoD,IAAI,CAAC,CAAD,CAAX,MAAmB,QAAvB,EAAiC;AAC7B;;;AAGA9B,OAAG,GAAG8B,IAAI,CAAC,CAAD,CAAV;AACA,QAAI8lB,YAAY,GAAG,KAAnB;;AACA,SAAK,IAAI9nB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,MAApB,EAA4BqB,CAAC,EAA7B,EAAiC;AAC7B;AACA,UAAMyC,KAAK,GAAGvC,GAAG,CAAC8B,IAAI,CAAChC,CAAD,CAAL,CAAjB,CAF6B,CAG7B;;AACA,UAAI,OAAOyC,KAAP,KAAiB,WAArB,EAAkC;AAC9BqlB,oBAAY,GAAG,IAAf;AACA;AACH,OAHD,MAGO;AACH5nB,WAAG,GAAGuC,KAAN;AACH,OAT4B,CAU7B;;AACH;;AACD,QAAIqlB,YAAJ,EAAkB5nB,GAAG,GAAG8B,IAAI,CAACrD,MAAM,GAAG,CAAV,CAAV;AACrB,GAnBD,MAmBO,IAAIA,MAAM,KAAK,CAAf,EAAkB;AACrBuB,OAAG,GAAG8B,IAAI,CAAC,CAAD,CAAV;AACH,GAFM,MAEA;AACH,SAAK,IAAIhC,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGrB,MAApB,EAA4BqB,EAAC,EAA7B,EAAiC;AAC7B,UAAI,QAAOqlB,CAAP,MAAa,QAAjB,EAA2B;AACvB,YAAIrjB,IAAI,CAAChC,EAAD,CAAJ,KAAY,EAAhB,EAAoBE,GAAG,eAAQ4N,IAAI,CAACvF,SAAL,CAAevG,IAAI,CAAChC,EAAD,CAAnB,CAAR,MAAH;AACvB,OAFD,MAEO;AACHE,WAAG,IAAI,CAACF,EAAC,GAAG,GAAH,GAAS,EAAX,IAAiBgC,IAAI,CAAChC,EAAD,CAA5B;AACH;AACJ;AACJ,GA/D0B,CAiE3B;AACA;AACA;AACA;AACA;;;AAEA,MAAI,OAAOqlB,CAAP,KAAa,WAAjB,EAA8B;AAC1BlG,OAAG,GAAGjf,GAAN;AACH,GAFD,MAEO,IAAI,QAAOmlB,CAAP,MAAa,QAAjB,EAA2B;AAC9B;AACAlG,OAAG,GAAG3Q,iDAAG,CAAC6W,CAAD,EAAInlB,GAAJ,CAAT;AACH,GA5E0B,CA6E3B;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAI,OAAOif,GAAP,KAAe,WAAnB,EAAgCA,GAAG,GAAGjf,GAAN;AAEhC,MAAI,OAAOif,GAAP,KAAe,QAAnB,EACI,OAAOA,GAAG,CAACtc,OAAJ,CAAY,gBAAZ,EAA8B,UAACE,KAAD,EAAQ4K,CAAR;AAAA,WACjC,OAAO5J,OAAO,CAAC4J,CAAD,CAAd,KAAsB,WAAtB,GAAoCA,CAApC,GAAwC5J,OAAO,CAAC4J,CAAD,CADd;AAAA,GAA9B,CAAP;AAIJ,SAAOwR,GAAP;AACH,CA9FD;;AA+Fe0I,wEAAf,E;;;;;;;;;;;;AC5HA;AAAA;AAAA;AAAA;AAEA;;;;;;AAKA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,GAAiB;AAAA,MAAhBlL,MAAgB,uEAAP,EAAO;AACpC,MAAI,CAAClE,kDAAa,EAAlB,EACI,OAAOkE,MAAP;;AAEJ,MAAI3b,KAAJ,EAAgD,EAG/C;;AAED,SAAO2b,MAAP;AACH,CAVD;;AAYekL,6EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBA;;;;;;;CAUA;;AAEA;;;;;AAIA;;IAEQ5c,W,GAAwC6c,wD;IAAxB3c,mB,4BAAwB2c,yC;;AAChD;AAEA;;;;;CAMA;;AAEO,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC7B,MAAI3T,KAAJ,EAAgB;;AAChB,MAAI7W,IAAJ,EAAgB;AACZ,QAAI6V,KAAJ,EAAa;AACb,QAAI,OAAOqM,iBAAP,KAA6B,WAAjC,EAA8C,OAAO,EAAP;AAC9C,WAAOA,iBAAiB,IAAI,EAA5B;AACH;AACJ,CAPM;AAQA,IAAMuI,aAAa,GAAG,SAAhBA,aAAgB;AAAA,SAAOrW,QAAQ,GAAGoW,WAAW,EAA7B;AAAA,CAAtB;AACA,IAAIpW,QAAQ,GAAI;AAAA,SAAMoW,WAAW,EAAjB;AAAA,CAAD,EAAf,C,CAEP;;AAEO,IAAMhV,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAC1B,MAAIqB,KAAJ,EAAgB;;AAChB,MAAI7W,IAAJ,EAAgB;AACZ,QAAI6V,KAAJ,EAAa;AACb,QAAI,OAAO6U,cAAP,KAA0B,WAA9B,EAA2C,OAAO,EAAP;AAC3C,WAAOA,cAAP;AACH;AACJ,CAPM;AAQA,IAAMtO,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAO3O,KAAK,GAAG+H,QAAQ,EAAvB;AAAA,CAAnB;AACA,IAAI/H,KAAK,GAAI;AAAA,SAAM+H,QAAQ,EAAd;AAAA,CAAD,EAAZ,C,CAEP;;AAEO,IAAMmV,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC5B,MAAI9T,KAAJ,EAAgB;;AAChB,MAAI7W,IAAJ,EAAgB;AACZ,QAAI6V,KAAJ,EAAa;AACb,QAAI,OAAO+U,gBAAP,KAA4B,WAAhC,EAA6C,OAAO,EAAP;AAC7C,WAAOA,gBAAP;AACH;AACJ,CAPM;AAQA,IAAM9H,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAOnZ,OAAO,GAAGghB,UAAU,EAA3B;AAAA,CAArB;AACA,IAAIhhB,OAAO,GAAI;AAAA,SAAMghB,UAAU,EAAhB;AAAA,CAAD,EAAd,C,CAEP;;AAEO,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAAAzW,QAAQ,EAAI;AAChC,MAAI,CAACL,4DAAY,EAAjB,EAAqB,OAAO,EAAP;;AACrB,MAAI8C,KAAJ,EAAgB,EAIf;;AACD,MAAI7W,IAAJ,EAAgB;AACZ,QAAM4V,GAAG,GAAGC,MAAO,GAAGC,SAAH,GAAyBC,YAA5C;AACA,QAAM+U,KAAK,GAAGlV,GAAG,CAACmV,WAAlB;AACA,QAAI,CAACD,KAAL,EAAY,OAAO,EAAP;AACZ,QAAI1W,QAAQ,KAAK,IAAjB,EAAuB,OAAO0W,KAAK,CAAC/Z,GAAN,CAAUyZ,WAAW,EAArB,CAAP;AACvB,QAAIpW,QAAJ,EAAc,OAAO0W,KAAK,CAAC/Z,GAAN,CAAUqD,QAAV,KAAuB,EAA9B;AACd,WAAO0W,KAAK,CAAC/Z,GAAN,CAAU,IAAV,CAAP;AACH;AACJ,CAfM,C,CAiBP;;AAEO,IAAMia,MAAM,GAAG,SAATA,MAAS,GAAM;AACxB,MAAInU,KAAJ,EAAgB;AAChB,MAAIhB,KAAJ,EAAa;AACb,MAAI,OAAOoV,YAAP,KAAwB,WAA5B,EAAyC,OAAO1pB,SAAP;AACzC,SAAO0pB,YAAP;AACH,CALM,C,CAOP;;AAEA,IAAIpV,KAAJ,EAAa,E;;;;;;;;;;;AChGb;;;;;AAKA,IAAMqJ,QAAQ,GAAG,SAAXA,QAAW,CAAC1f,IAAD,EAAO0rB,GAAP,EAAe;AAC5B,MAAI,OAAO1rB,IAAP,KAAgB,QAAhB,IAA4B,OAAO0rB,GAAP,KAAe,QAA/C,EACI,iBAAU1rB,IAAV,eAAmB0rB,GAAnB;AACJ,SAAO1rB,IAAP;AACH,CAJD;;AAMAwN,MAAM,CAAC/M,OAAP,GAAiBif,QAAjB,C;;;;;;;;;;;;;;;;;;;;;ACXA,IAAMiM,cAAc,GAAG,CAAC,UAAD,EAAa,kBAAb,EAAiC,SAAjC,EAA4C,QAA5C,CAAvB;AAEA;;;;;;;;;;;;;AAYA,IAAMvjB,MAAM,GAAG,SAATA,MAAS,CAAAwjB,QAAQ;AAAA,SACnBD,cAAc,CAAChiB,MAAf,CAAsB,UAACrF,KAAD,EAAQY,IAAR,EAAiB;AAAA,QACnB2mB,CADmB,GACJvnB,KADI,CAC1BY,IAD0B;AAAA,QACb4mB,IADa,4BACJxnB,KADI,GAC1BY,IAD0B;;AAEnC,WAAO4mB,IAAP;AACH,GAHD,EAGGF,QAHH,CADmB;AAAA,CAAvB;;AAMApe,MAAM,CAAC/M,OAAP,GAAiB2H,MAAjB,C;;;;;;;;;;;ACpBA,IAAMlE,IAAI,GAAG/D,mBAAO,CAAC,kBAAD,CAApB;;AACA,IAAM4rB,MAAM,GAAG5rB,mBAAO,CAAC,8DAAD,CAAtB;AAEA;;;;;;;;AAMAqN,MAAM,CAAC/M,OAAP,GAAiB;AAAA,MAACurB,GAAD,uEAAOD,MAAM,EAAb;AAAA,MAAiB/rB,IAAjB,uEAAwB,EAAxB;AAAA,SAA+BkE,IAAI,CAACmJ,OAAL,CAC5C2e,GAD4C,EACvC,UADuC,EAC3BhsB,IAAI,cAAOA,IAAP,IAAgB,EADO,CAA/B;AAAA,CAAjB,C;;;;;;;;;;;ACTA;;;;AAIAwN,MAAM,CAAC/M,OAAP,GAAiB;AAAA,SAAMwD,MAAA,GAA2C,SAA3C,WAAN;AAAA,CAAjB,C;;;;;;;;;;;ACJA,IAAMC,IAAI,GAAG/D,mBAAO,CAAC,kBAAD,CAApB;;AAEA,IAAM8rB,0BAA0B,GAAG9rB,mBAAO,CAAC,oGAAD,CAA1C;AAEA;;;;;;;;;AAOAqN,MAAM,CAAC/M,OAAP,GAAiB,UAACyrB,IAAD,EAAOC,kBAAP,EAA8B;AAC3C,MAAI,CAAC5jB,MAAL,EAAa;AACT,QAAM6jB,IAAI,GAAGloB,IAAI,CAACmJ,OAAL,CAAa6e,IAAb,EAAmBD,0BAA0B,EAA7C,CAAb;;AACA,QAAIhoB,IAAJ,EAA8C;AAC1C;AACA;AACA;AACA;AACA;AACAsE,YAAM,GAAGrE,IAAI,CAACmJ,OAAL,CAAa+e,IAAb,EAAmBnoB,oBAAnB,CAAT;AACH,KAPD,MAOO,EAON;AACJ;;AAED,SAAOsE,MAAP;AACH,CArBD;;AAuBA,IAAIA,MAAJ,C;;;;;;;;;;;AClCA,IAAM8jB,KAAK,GAAGlsB,mBAAO,CAAC,oBAAD,CAArB;AAEA;;;;;;AAIG;;;;;;;AAKD;;;;;;;;;AAOF,IAAMmsB,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAOvsB,IAAP,EAAa8U,OAAb,EAAyB;AAC5C,MAAI,OAAOyX,IAAP,KAAgB,WAAhB,IAA+B,OAAOvsB,IAAP,KAAgB,WAA/C,IAA8D,OAAO8U,OAAP,KAAmB,WAArF,EACI,OAAOwX,cAAc,CAAC,EAAD,EAAK,EAAL,EAASC,IAAT,CAArB;AACJ,MAAI,OAAOvsB,IAAP,KAAgB,WAAhB,IAA+B,OAAO8U,OAAP,KAAmB,WAAtD,EACI,OAAOwX,cAAc,CAACC,IAAD,EAAO,EAAP,EAAWvsB,IAAX,CAArB;AAEJ,MAAIwsB,SAAS,GAAG,MAAhB;AACA,MAAID,IAAI,KAAK,KAAb,EAAoBA,IAAI,GAAG,EAAP;;AACpB,UAAQA,IAAI,CAAC1hB,WAAL,EAAR;AACI,SAAK,GAAL;AACA,SAAK,GAAL;AACA,SAAK,IAAL;AACA,SAAK,OAAL;AAAc;AACV0hB,YAAI,GAAG,IAAP;AACAC,iBAAS,GAAG,WAAZ;AACA;AACH;;AACD,SAAK,SAAL;AAAgB;AACZD,YAAI,GAAG,IAAP;AACAC,iBAAS,GAAG,OAAZ;AACA;AACH;;AACD,SAAK,IAAL;AACA,SAAK,UAAL;AAAiB;AACbD,YAAI,GAAG,IAAP;AACAC,iBAAS,GAAG,MAAZ;AACA;AACH;;AACD,SAAK,SAAL;AAAgB;AACZD,YAAI,GAAG,IAAP;AACAC,iBAAS,GAAG,cAAZ;AACA;AACH;;AACD,SAAK,EAAL;AAAS;AACL;AACH;;AACD;AAAS;AACLD,YAAI,GAAG,IAAP;AACH;AA9BL;;AAiCA,MAAME,SAAS,GAAI,YAAM;AACrB,YAAQzsB,IAAR;AACI;AAAS,eAAO,cAAP;AADb;AAGH,GAJiB,EAAlB;;AAMA,SAAO,CAACusB,IAAI,KAAK,EAAT,GAAc,EAAd,GAAmBF,KAAK,CAACG,SAAD,CAAL,CAAiBD,IAAjB,CAApB,IACDF,KAAK,CAACI,SAAD,CAAL,gBAAyBzsB,IAAI,cAAOA,IAAP,IAAgB,EAA7C,QADC,GAED8U,OAFN;AAGH,CAlDD;;AAoDAtH,MAAM,CAAC/M,OAAP,GAAiB6rB,cAAjB,C;;;;;;;;;;;ACtEA;;;;;AAKA,IAAM5S,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,MAACpV,KAAD,uEAAS,EAAT;AAAA,SACtB,+CACuBmjB,kBAAkB,CAAC5W,IAAI,CAACvF,SAAL,CAAehH,KAAf,CAAD,CADzC,SADsB;AAAA,CAA1B;;AAIAkJ,MAAM,CAAC/M,OAAP,GAAiBiZ,iBAAjB,C;;;;;;;;;;;ACTA;;AACA;;;;;;AAII;;;;;;;AAKA;;;;;;;AAOJlM,MAAM,CAAC/M,OAAP,GAAiB,YAAa;AAC1B2c,SAAO,CAACC,GAAR,CAAYld,mBAAO,CAAC,8DAAD,CAAP,yBAAZ;AACH,CAFD,C;;;;;;;;;;;;;ACjBA,IAAM+D,IAAI,GAAG/D,mBAAO,CAAC,kBAAD,CAApB;AAEA;;;;;;;;AAMAqN,MAAM,CAAC/M,OAAP,GAAiB,UAACuZ,WAAD,EAAc0S,WAAd,EAA8B;AAC3C,MAAI,QAAO1S,WAAP,MAAuB,QAA3B,EAAqC,OAAOjY,SAAP;AAErC,MAAM2c,OAAO,GAAG,EAAhB;AACA,MAAMiO,KAAK,GAAG3S,WAAW,CAAC4S,QAAZ,EAAd;;AAJ2C,6BAMlC9H,EANkC;AAOvC,QAAM+H,CAAC,GAAGF,KAAK,CAAC3S,WAAN,CAAkB8S,MAAlB,CAAyBhI,EAAzB,CAAV;AACA,QAAI,OAAO+H,CAAC,CAAC9sB,IAAT,KAAkB,WAAlB,IAAiC8sB,CAAC,CAAC9sB,IAAF,KAAW,IAAhD,EAAsD;;AACtD,QAAI6B,KAAK,CAACiD,OAAN,CAAcgoB,CAAC,CAACE,KAAhB,CAAJ,EAA4B;AACxBF,OAAC,CAACE,KAAF,CACK3kB,MADL,CACY,UAAA+R,QAAQ;AAAA,eAAI,CAAC,oBAAoB1B,IAApB,CAAyB0B,QAAzB,CAAL;AAAA,OADpB,EAEKnS,OAFL,CAEa,UAAAmS,QAAQ,EAAI;AACjB,YAAMK,OAAO,GAAGtW,IAAI,CAACsW,OAAL,CAAaL,QAAb,CAAhB;AACA,YAAMI,IAAI,GAAGsS,CAAC,CAAC9sB,IAAF,GAASya,OAAtB;AACA,YAAI,OAAOkE,OAAO,CAACnE,IAAD,CAAd,KAAyB,QAA7B,EACImE,OAAO,CAACnE,IAAD,CAAP,GAAgBtW,MAAA,GACVkW,SADU,GAEV,CAACuS,WAAW,GAAGA,WAAW,GAAG,GAAjB,GAAuB,EAAnC,IAAyCvS,QAF/C;AAGP,OATL;AAUH;AApBsC;;AAM3C,OAAK,IAAI2K,EAAT,IAAe6H,KAAK,CAAC3S,WAAN,CAAkB8S,MAAjC,EAAyC;AAAA,qBAAhChI,EAAgC;;AAAA,6BAEiB;AAazD;;AAED,SAAOpG,OAAP;AACH,CAxBD,C;;;;;;;;;;;ACRA,IAAMxa,IAAI,GAAG/D,mBAAO,CAAC,kBAAD,CAApB;;AACA,IAAM6sB,WAAW,GAAG7sB,mBAAO,CAAC,mEAAD,CAA3B;;AACA,IAAM8sB,YAAY,GAAG9sB,mBAAO,CAAC,4EAAD,CAA5B;AAEA;;;;;;;AAKAqN,MAAM,CAAC/M,OAAP,GAAiB,YAA0B;AAAA,MAAzByrB,IAAyB,uEAAlBc,WAAW,EAAO;AACvC,MAAI/oB,KAAJ,EACI;AACJ,SAAOC,IAAI,CAACmJ,OAAL,CAAa6e,IAAb,EAAmB,uBAAnB,CAAP;AACH,CAJD,C;;;;;;;;;;;;;ACTA,IAAMvT,EAAE,GAAGxY,mBAAO,CAAC,0BAAD,CAAlB;;AAEA,IAAM+sB,gBAAgB,GAAG/sB,mBAAO,CAAC,kEAAD,CAAhC;;AACA,IAAMgtB,WAAW,GAAGhtB,mBAAO,CAAC,8DAAD,CAA3B;;AACA,IAAMitB,eAAe,GAAGjtB,mBAAO,CAAC,2EAAD,CAA/B;;AACA,IAAM6sB,WAAW,GAAG7sB,mBAAO,CAAC,mEAAD,CAA3B;;AAEA,IAAIktB,cAAJ;AAEA;;;;;;;;AAOA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC1Y,QAAD,EAAqC;AAAA,MAA1B2Y,aAA0B,uEAAV,KAAU;AACrD,MAAI3Y,QAAQ,KAAK,IAAjB,EAAuB,OAAO0Y,WAAW,CAACC,aAAa,IAAIxrB,SAAlB,EAA6B,IAA7B,CAAlB;AAEvB,MAAM2Z,aAAa,GAAGwR,gBAAgB,EAAtC;;AAEA,MAAIxR,aAAa,IAAI,OAAO9G,QAAP,KAAoB,WAAzC,EAAsD;AAClD,QAAI;AACAA,cAAQ,GAAGzU,mBAAO,CAAC,8CAAD,CAAP,CAAoByU,QAA/B;AACH,KAFD,CAEE,OAAOuI,CAAP,EAAU,CAAE;AACjB;;AAED,MAAMqQ,QAAQ,GAAGL,WAAW,EAA5B;AACA,MAAMM,aAAa,GAAG/R,aAAa,IAAI8R,QAAQ,KAAK,SAApD;;AAEA,MAAME,QAAQ,GAAI,YAAM;AACpB,QAAIL,cAAJ,EAAoB,OAAOA,cAAP;AAEpB,QAAIK,QAAJ;AAEA,QAAI,QAAOpX,MAAM,CAACoX,QAAd,MAA2B,QAA/B,EAAyCA,QAAQ,GAAGpX,MAAM,CAACoX,QAAlB;;AACzC,QAAI;AACAA,cAAQ,GAAG7c,IAAI,CAACrF,KAAL,CAAWvH,qmDAAX,CAAX;AACH,KAFD,CAEE,OAAOkZ,CAAP,EAAU;AACRuQ,cAAQ,GAAG,KAAX;AACH;;AACD,QAAI,QAAOA,QAAP,MAAoB,QAApB,IAAgC,OAAOV,WAAW,EAAlB,KAAyB,QAA7D,EAAuE;AACnEU,cAAQ,GAAG/U,EAAE,CAACgV,YAAH,CAAgBP,eAAe,EAA/B,CAAX;AACA,UAAInpB,OAAO,CAACgV,GAAR,CAAY2U,mBAAZ,KAAoC,QAAxC,EACItX,MAAM,CAACoX,QAAP,GAAkBA,QAAlB;AACP;;AAED,QAAIzpB,IAAJ,EAA8CopB,cAAc,GAAGK,QAAjB;AAE9C,WAAOA,QAAP;AACH,GApBgB,EAAjB;;AAsBA,MAAI,QAAOA,QAAP,MAAoB,QAAxB,EAAkC;AAC9B;AACA,QAAIH,aAAJ,EAAmB,OAAOG,QAAQ,IAAI,EAAnB;AACnB,QAAIhS,aAAa,IAAI+R,aAArB,EACI,OAAOC,QAAQ,YAAK9Y,QAAL,EAAR,IAA4B,EAAnC;AACP;;AAED,SAAO8Y,QAAQ,IAAI,EAAnB;AACH,CA5CD;;AA8CAlgB,MAAM,CAAC/M,OAAP,GAAiB6sB,WAAjB,C;;;;;;;;;;;;;AC9DA,IAAM3U,EAAE,GAAGxY,mBAAO,CAAC,0BAAD,CAAlB;;AACA,IAAM+D,IAAI,GAAG/D,mBAAO,CAAC,kBAAD,CAApB;;AAEA,IAAMgtB,WAAW,GAAGhtB,mBAAO,CAAC,8DAAD,CAA3B;;AACA,IAAM0tB,aAAa,GAAG1tB,mBAAO,CAAC,qEAAD,CAA7B;;AACA,IAAMmtB,WAAW,GAAGntB,mBAAO,CAAC,iEAAD,CAA3B;AAEA;;;;;;;;;AAOA,IAAM2tB,WAAW,GAAG,SAAdA,WAAc,CAAC3T,QAAD,EAAWvF,QAAX,EAA4C;AAAA,MAAvBmZ,UAAuB,uEAAV,KAAU;AAC5D;AACA,MAAI5T,QAAQ,KAAK,IAAjB,EACI,OAAO2T,WAAW,CAAClZ,QAAD,EAAWmZ,UAAU,IAAIhsB,SAAzB,EAAoC,IAApC,CAAlB;;AAEJ,MAAI,OAAO6S,QAAP,KAAoB,WAAxB,EAAqC;AACjC,QAAI;AACAA,cAAQ,GAAGzU,mBAAO,CAAC,8CAAD,CAAP,CAAoByU,QAA/B;AACH,KAFD,CAEE,OAAOuI,CAAP,EAAU,CAAE;AACjB;;AAED,MAAM6Q,UAAU,GAAGH,aAAa,EAAhC;AAEA,MAAML,QAAQ,GAAGL,WAAW,EAA5B;AACA,MAAMM,aAAa,GAAGD,QAAQ,KAAK,SAAnC;AACA,MAAMtT,KAAK,GACPjW,MAAA,IACC,SAAkCoS,KAFvC,CAf4D,CAkB5D;AAEA;;AACA,MAAI0X,UAAJ,EACI,OACIC,UAAU,GACV7T,QAAQ,CAACvU,OAAT,CACI,IAAIC,MAAJ,CACI,0BACK5B,KAAA,aACQA,oBADR,WAEK,SAHV,CADJ,CADJ,EAOI,EAPJ,CAFJ;AAaJ,MAAMypB,QAAQ,GAAGJ,WAAW,CAAC1Y,QAAD,CAA5B;AACA,MAAMqZ,aAAa,GAAGP,QAAQ,CAAC,SAAD,CAAR,GAChB,IAAI7nB,MAAJ,sBAAyB6nB,QAAQ,CAAC,SAAD,CAAjC,EADgB,GAEhB,mBAFN;AAIA;;;;;;AAMA;;;;;;AAKA,MAAMQ,iBAAiB,GAAG,SAApBA,iBAAoB,CAAA/pB,QAAQ;AAAA,WAC9B6pB,UAAU,GAAG7pB,QAAQ,CAACyB,OAAT,CAAiBqoB,aAAjB,EAAgC,EAAhC,CADiB;AAAA,GAAlC;AAGA;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAMA;AACA;;;AACA,MACI,QAAOP,QAAP,MAAoB,QAApB,IACA,QAAOA,QAAQ,CAAC,QAAD,CAAf,MAA8B,QAD9B,IAEA,OAAOA,QAAQ,CAAC,QAAD,CAAR,CAAmBvT,QAAnB,CAAP,KAAwC,QAH5C,EAIE;AACE,WAAO+T,iBAAiB,CAACR,QAAQ,CAAC,QAAD,CAAR,CAAmBvT,QAAnB,CAAD,CAAxB;AACH;;AACD,MAAID,KAAJ,EAAW;AACP,QAAMnU,MAAM,GAAGioB,UAAU,IAAIP,aAAa,GAAG7Y,QAAH,GAAc,EAA/B,CAAzB;AACA,QACI,QAAO8Y,QAAQ,CAAC,QAAD,CAAf,MAA8B,QAA9B,IACA,OAAOA,QAAQ,CAAC,QAAD,CAAR,CAAmBvT,QAAnB,CAAP,KAAwC,QAF5C,EAII,OAAOpU,MAAM,GAAG2nB,QAAQ,CAAC,QAAD,CAAR,CAAmBvT,QAAnB,CAAhB;AACJ,WAAOpU,MAAM,cAAOoU,QAAP,CAAb;AACH;AAED;;;AACA,MAAMK,OAAO,GAAGtW,IAAI,CAACsW,OAAL,CAAaL,QAAb,CAAhB;AACA;;AACA,MAAM3T,QAAQ,GAAGtC,IAAI,CAACsC,QAAL,CAAc2T,QAAd,EAAwBK,OAAxB,CAAjB,CArG4D,CAuG5D;AACA;AACA;;AACA,MAAI5Y,KAAK,CAACiD,OAAN,CAAc6oB,QAAQ,CAAC,cAAD,CAAR,CAAyBlnB,QAAzB,CAAd,CAAJ,EAAuD;AACnD,QAAMumB,KAAK,GAAGW,QAAQ,CAAC,cAAD,CAAR,CAAyBlnB,QAAzB,EAAmC4B,MAAnC,CACV,UAAAmS,IAAI;AAAA,aAAIrW,IAAI,CAACsW,OAAL,CAAaD,IAAb,MAAuBC,OAA3B;AAAA,KADM,CAAd;AAGA,QAAIuS,KAAK,CAACrrB,MAAN,KAAiB,CAArB,EAAwB,OAAOwsB,iBAAiB,CAACnB,KAAK,CAAC,CAAD,CAAN,CAAxB,CAAxB,KACK,IAAIA,KAAK,CAACrrB,MAAV,EACD,OAAOqrB,KAAK,CAACxiB,GAAN,CAAU,UAAAgQ,IAAI;AAAA,aAAI2T,iBAAiB,CAAC3T,IAAD,CAArB;AAAA,KAAd,CAAP;AACP,GAjH2D,CAmH5D;AACA;;;AACA,MAAI,QAAOmT,QAAP,MAAoB,QAAxB,EAAkC;AAC9B,QAAInlB,MAAJ;;AACA,QAAI3G,KAAK,CAACiD,OAAN,CAAc6oB,QAAQ,CAAClnB,QAAD,CAAtB,CAAJ,EAAuC;AACnCknB,cAAQ,CAAClnB,QAAD,CAAR,CAAmBqO,IAAnB,CAAwB,UAAArP,KAAK,EAAI;AAC7B,YAAItB,IAAI,CAACsW,OAAL,CAAahV,KAAb,MAAwBgV,OAA5B,EAAqC;AACjCjS,gBAAM,GAAG/C,KAAT;AACA,iBAAO,IAAP;AACH;;AACD,eAAO,KAAP;AACH,OAND;AAOH;;AACD,QAAI+C,MAAJ,EAAY,OAAO2lB,iBAAiB,CAAC3lB,MAAD,CAAxB;AACf,GAjI2D,CAmI5D;;;AACA,MAAIoQ,EAAE,CAACQ,UAAH,CAAcjV,IAAI,CAACmJ,OAAL,CAAa2gB,UAAb,EAAyB7T,QAAzB,CAAd,CAAJ,EAAuD;AACnD,WAAO,MAAMA,QAAb;AACH;;AAEDiD,SAAO,CAAC+Q,IAAR,CACI,qBACKV,aAAa,cAAO7Y,QAAP,UAAsB,EADxC,eAEQuF,QAFR,CADJ;AAMA,SAAO,EAAP,CA9I4D,CAgJ5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CAxJD;;AA0JA3M,MAAM,CAAC/M,OAAP,GAAiBqtB,WAAjB,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;;;;;;;;;;;ACtLA;;;;AAIAtgB,MAAM,CAAC/M,OAAP,GAAiB,YAAM;AACnB;AACA;AACA,SAAO,OAAOwD,OAAO,CAACgV,GAAR,CAAYmV,QAAnB,KAAgC,QAAhC,GACDnqB,OAAO,CAACgV,GAAR,CAAYmV,QADX,GAEDnqB,OAAO,CAAC+nB,GAAR,EAFN;AAGH,CAND,C;;;;;;;;;;;ACJA,IAAMrT,EAAE,GAAGxY,mBAAO,CAAC,0BAAD,CAAlB;;AACA,IAAM+D,IAAI,GAAG/D,mBAAO,CAAC,kBAAD,CAApB;;AACA,IAAM4rB,MAAM,GAAG5rB,mBAAO,CAAC,uDAAD,CAAtB;;AAEA,IAAIuQ,CAAJ;AAEA;;;;;AAIAlD,MAAM,CAAC/M,OAAP,GAAiB,YAAM;AACnB;AACA,MAAI,OAAOiQ,CAAP,KAAa,QAAjB,EAA2B;AACvBA,KAAC,GACG,OAAO4F,MAAM,CAAC+X,aAAd,KAAgC,QAAhC,GACM/X,MAAM,CAAC+X,aADb,GAEO,YAAM;AACH,UAAIrC,GAAG,GAAGD,MAAM,EAAhB;AACA,UAAIuC,MAAM,GAAGpqB,IAAI,CAACmJ,OAAL,CAAa2e,GAAb,EAAkB,IAAlB,CAAb;AACA,UAAIzjB,MAAM,GAAGrE,IAAI,CAACmJ,OAAL,CAAa2e,GAAb,EAAkB/nB,uBAAlB,CAAb;;AACA,aAAO,CAAC0U,EAAE,CAACQ,UAAH,CAAc5Q,MAAd,CAAD,IAA0ByjB,GAAG,KAAKsC,MAAzC,EAAiD;AAC7CtC,WAAG,GAAGsC,MAAN;AACAA,cAAM,GAAGpqB,IAAI,CAACmJ,OAAL,CAAa2e,GAAb,EAAkB,IAAlB,CAAT;AACAzjB,cAAM,GAAGrE,IAAI,CAACmJ,OAAL,CAAa2e,GAAb,EAAkB/nB,uBAAlB,CAAT;AACH;;AACD,UAAI0U,EAAE,CAACQ,UAAH,CAAc5Q,MAAd,CAAJ,EAA2B,OAAOA,MAAP;AAC3B,aAAOrE,IAAI,CAACmJ,OAAL,CAAa2e,GAAb,EAAkB/nB,uBAAlB,CAAP;AACH,KAXD,EAHV;AAeH;;AACD,SAAOyM,CAAP;AACH,CApBD,C;;;;;;;;;;;;;ACVA;;AAEA;;;;;;AAMAlD,MAAM,CAAC/M,OAAP,GAAiB,UAAC8tB,IAAD,EAA+C;AAAA,MAAxCtV,GAAwC,uEAAlChV,MAAkC;AAC5D,MAAMuqB,WAAW,GAAG,OAAOvqB,OAAO,CAACgV,GAAR,CAAYwV,WAAnB,KAAmC,WAAnC,IAAkD,aAA2B,WAA7E,GACdC,MADc,GAEdzqB,OAAO,CAACgV,GAAR,CAAYwV,WAFlB;;AAIA,MAAI,QAAOF,IAAP,MAAgB,QAApB,EAA8B;AAC1B,QAAI,CAACtV,GAAL,EAAUA,GAAG,GAAG,MAAN;AACV,QAAI,OAAOsV,IAAI,CAACtV,GAAD,CAAX,KAAqB,WAAzB,EACI,OAAOsV,IAAI,CAACtV,GAAD,CAAX;AACJ,WAAOuV,WAAP;AACH;;AAED,MAAI,OAAOD,IAAP,KAAgB,WAAhB,IAA+B,OAAOA,IAAP,KAAgB,SAAnD,EACI,OAAOA,IAAP;AAEJ,SAAOC,WAAP;AACH,CAhBD,C;;;;;;;;;;;ACRA,IAAMG,UAAU,GAAGxuB,mBAAO,CAAC,+FAAD,CAA1B;AAEA;;;;;;AAIAqN,MAAM,CAAC/M,OAAP,GAAiB,YAAM;AACnB,MAAMyZ,KAAK,GAAGjW,MAAA,IAA4C,SAAkCoS,KAA5F;;AAEA,MAAIpS,KAAJ,EAA8C,EAM7C;;AAED,MAAIiW,KAAJ,EAAW;AACP,QAAMqU,IAAI,GAAGI,UAAU,EAAvB;AACA,QAAMpM,MAAM,GAAG,OAAOjM,MAAM,CAACsY,YAAd,KAA+B,QAA/B,GACTtY,MAAM,CAACsY,YAAP,CAAoB3M,KAApB,CAA0B,GAA1B,EAA+Bla,KAA/B,CAAqC,CAArC,EAAwC,CAAxC,EAA2CwP,IAA3C,CAAgD,GAAhD,CADS,GAET,kBAFN;AAGA,qBAAUgL,MAAV,cAAoBgM,IAApB;AACH;;AAED,SAAO,GAAP;AACH,CApBD,C;;;;;;;;;;;ACNA;;;;AAIA/gB,MAAM,CAAC/M,OAAP,GAAiB,YAAM;AACnB;AACA,SAAOwD,MAAA,IAAuC,KAA9C;AACH,CAHD,C;;;;;;;;;;;;;ACJA,IAAM0U,EAAE,GAAGxY,mBAAO,CAAC,0BAAD,CAAlB;;AACA,IAAM+D,IAAI,GAAG/D,mBAAO,CAAC,kBAAD,CAApB;;AACA,IAAM0uB,KAAK,GAAG1uB,mBAAO,CAAC,sBAAD,CAArB;;AAEA,IAAM2tB,WAAW,GAAG3tB,mBAAO,CAAC,iFAAD,CAA3B;;AACA,IAAM2uB,eAAe,GAAG3uB,mBAAO,CAAC,2GAAD,CAA/B;;AACA,IAAM6sB,WAAW,GAAG7sB,mBAAO,CAAC,mEAAD,CAA3B;;AACA,IAAM4uB,OAAO,GAAG5uB,mBAAO,CAAC,yDAAD,CAAvB;;AACA,IAAM6uB,gBAAgB,GAAG7uB,mBAAO,CAAC,oFAAD,CAAhC;AAEA;;;;;;;;;;AAQA,IAAMqZ,cAAc,GAAG,SAAjBA,cAAiB,CACnBW,QADmB,EAEnBvF,QAFmB,EAGnBoF,WAHmB,EAKlB;AAAA,MADD+T,UACC,uEADY,KACZ;AACD;AACA,MAAI5T,QAAQ,KAAK,IAAjB,EACI,OAAOX,cAAc,CACjB5E,QADiB,EAEjBoF,WAAW,IAAIjY,SAFE,EAGjBgsB,UAAU,IAAIhsB,SAHG,EAIjB,IAJiB,CAArB,CAHH,CAUD;;AACA,MAAI,QAAOiY,WAAP,MAAuB,QAA3B,EAAqC;AACjC,QAAM0E,OAAO,GAAGoQ,eAAe,CAAC9U,WAAD,CAA/B;;AACA,QAAI,QAAO0E,OAAP,MAAmB,QAAvB,EAAiC;AAC7B;AACA;AACA;AACA;AACA;AACA;AAEA,UACI,OAAOA,OAAO,CAACvE,QAAD,CAAd,KAA6B,QAA7B,IACA,OAAOH,WAAW,CAACiV,MAAZ,CAAmBvQ,OAAO,CAACvE,QAAD,CAA1B,CAAP,KAAiD,WAFrD,EAGE;AACE,YAAM+U,KAAK,GAAGlV,WAAW,CAACiV,MAAZ,CAAmBvQ,OAAO,CAACvE,QAAD,CAA1B,CAAd,CADF,CAEE;AACA;AACA;AACA;AACA;;AACA,YAAI,OAAO+U,KAAK,CAAClsB,MAAb,KAAwB,UAA5B,EAAwC,OAAOksB,KAAK,CAAClsB,MAAN,EAAP;AACxC,YAAI,OAAOksB,KAAK,CAACC,MAAb,KAAwB,WAA5B,EAAyC,OAAOD,KAAK,CAACC,MAAb;AACzC,YAAI,OAAOD,KAAK,CAACE,aAAb,KAA+B,WAAnC,EACI,OAAOF,KAAK,CAACE,aAAb,CAVN,CAWE;AACH;AACJ;AACJ,GAtCA,CAwCD;;;AACA,MAAI1U,SAAS,GAAGoT,WAAW,CAAC3T,QAAD,EAAWvF,QAAX,EAAqBmZ,UAArB,CAA3B;AACA,MAAI,CAACnsB,KAAK,CAACiD,OAAN,CAAc6V,SAAd,CAAL,EAA+BA,SAAS,GAAG,CAACA,SAAD,CAAZ;AAE/B,MAAM2U,OAAO,GAAG3U,SAAS,CAACnQ,GAAV,CAAc,UAAApG,QAAQ,EAAI;AACtC,QAAI0qB,KAAK,CAAC1qB,QAAD,CAAT,EAAqB;AACjB,UAAIkS,KAAJ,EAAa,oBAAb,MAIO;AACH,qDAAsC8D,QAAtC;AACH;AACJ;;AAED,QACIlW,KADJ,EAGE,EAID;;AAED,WAAO0U,EAAE,CAAC2W,YAAH,CACHprB,IAAI,CAACmJ,OAAL,CACI2hB,gBAAgB,CAAChC,WAAW,EAAZ,CADpB,EAEI7oB,QAAQ,CAACyB,OAAT,CAAiB,KAAjB,EAAwB,EAAxB,CAFJ,CADG,EAKH,OALG,CAAP;AAOH,GA3Be,CAAhB;AA6BA,SAAOypB,OAAO,CAAC9X,IAAR,CAAa,MAAb,CAAP;AACH,CA/ED;;AAiFA/J,MAAM,CAAC/M,OAAP,GAAiB+Y,cAAjB,C;;;;;;;;;;;ACnGA,IAAI+V,SAAS,GAAGpvB,mBAAO,CAAC,yDAAD,CAAvB;AAAA,IACIqvB,UAAU,GAAGrvB,mBAAO,CAAC,2DAAD,CADxB;AAAA,IAEIsvB,OAAO,GAAGtvB,mBAAO,CAAC,qDAAD,CAFrB;AAAA,IAGIuvB,OAAO,GAAGvvB,mBAAO,CAAC,qDAAD,CAHrB;AAAA,IAIIwvB,OAAO,GAAGxvB,mBAAO,CAAC,qDAAD,CAJrB;AAMA;;;;;;;;;AAOA,SAASyvB,IAAT,CAAcnmB,OAAd,EAAuB;AACrB,MAAItE,KAAK,GAAG,CAAC,CAAb;AAAA,MACIzD,MAAM,GAAG+H,OAAO,IAAI,IAAX,GAAkB,CAAlB,GAAsBA,OAAO,CAAC/H,MAD3C;AAGA,OAAKmuB,KAAL;;AACA,SAAO,EAAE1qB,KAAF,GAAUzD,MAAjB,EAAyB;AACvB,QAAIgI,KAAK,GAAGD,OAAO,CAACtE,KAAD,CAAnB;AACA,SAAKqM,GAAL,CAAS9H,KAAK,CAAC,CAAD,CAAd,EAAmBA,KAAK,CAAC,CAAD,CAAxB;AACD;AACF,C,CAED;;;AACAkmB,IAAI,CAACltB,SAAL,CAAemtB,KAAf,GAAuBN,SAAvB;AACAK,IAAI,CAACltB,SAAL,CAAe,QAAf,IAA2B8sB,UAA3B;AACAI,IAAI,CAACltB,SAAL,CAAe6O,GAAf,GAAqBke,OAArB;AACAG,IAAI,CAACltB,SAAL,CAAeotB,GAAf,GAAqBJ,OAArB;AACAE,IAAI,CAACltB,SAAL,CAAe8O,GAAf,GAAqBme,OAArB;AAEAniB,MAAM,CAAC/M,OAAP,GAAiBmvB,IAAjB,C;;;;;;;;;;;AC/BA,IAAIG,cAAc,GAAG5vB,mBAAO,CAAC,mEAAD,CAA5B;AAAA,IACI6vB,eAAe,GAAG7vB,mBAAO,CAAC,qEAAD,CAD7B;AAAA,IAEI8vB,YAAY,GAAG9vB,mBAAO,CAAC,+DAAD,CAF1B;AAAA,IAGI+vB,YAAY,GAAG/vB,mBAAO,CAAC,+DAAD,CAH1B;AAAA,IAIIgwB,YAAY,GAAGhwB,mBAAO,CAAC,+DAAD,CAJ1B;AAMA;;;;;;;;;AAOA,SAASiwB,SAAT,CAAmB3mB,OAAnB,EAA4B;AAC1B,MAAItE,KAAK,GAAG,CAAC,CAAb;AAAA,MACIzD,MAAM,GAAG+H,OAAO,IAAI,IAAX,GAAkB,CAAlB,GAAsBA,OAAO,CAAC/H,MAD3C;AAGA,OAAKmuB,KAAL;;AACA,SAAO,EAAE1qB,KAAF,GAAUzD,MAAjB,EAAyB;AACvB,QAAIgI,KAAK,GAAGD,OAAO,CAACtE,KAAD,CAAnB;AACA,SAAKqM,GAAL,CAAS9H,KAAK,CAAC,CAAD,CAAd,EAAmBA,KAAK,CAAC,CAAD,CAAxB;AACD;AACF,C,CAED;;;AACA0mB,SAAS,CAAC1tB,SAAV,CAAoBmtB,KAApB,GAA4BE,cAA5B;AACAK,SAAS,CAAC1tB,SAAV,CAAoB,QAApB,IAAgCstB,eAAhC;AACAI,SAAS,CAAC1tB,SAAV,CAAoB6O,GAApB,GAA0B0e,YAA1B;AACAG,SAAS,CAAC1tB,SAAV,CAAoBotB,GAApB,GAA0BI,YAA1B;AACAE,SAAS,CAAC1tB,SAAV,CAAoB8O,GAApB,GAA0B2e,YAA1B;AAEA3iB,MAAM,CAAC/M,OAAP,GAAiB2vB,SAAjB,C;;;;;;;;;;;AC/BA,IAAIC,SAAS,GAAGlwB,mBAAO,CAAC,yDAAD,CAAvB;AAAA,IACImwB,IAAI,GAAGnwB,mBAAO,CAAC,+CAAD,CADlB;AAGA;;;AACA,IAAIowB,GAAG,GAAGF,SAAS,CAACC,IAAD,EAAO,KAAP,CAAnB;AAEA9iB,MAAM,CAAC/M,OAAP,GAAiB8vB,GAAjB,C;;;;;;;;;;;ACNA,IAAIC,aAAa,GAAGrwB,mBAAO,CAAC,iEAAD,CAA3B;AAAA,IACIswB,cAAc,GAAGtwB,mBAAO,CAAC,mEAAD,CAD5B;AAAA,IAEIuwB,WAAW,GAAGvwB,mBAAO,CAAC,6DAAD,CAFzB;AAAA,IAGIwwB,WAAW,GAAGxwB,mBAAO,CAAC,6DAAD,CAHzB;AAAA,IAIIywB,WAAW,GAAGzwB,mBAAO,CAAC,6DAAD,CAJzB;AAMA;;;;;;;;;AAOA,SAAS0wB,QAAT,CAAkBpnB,OAAlB,EAA2B;AACzB,MAAItE,KAAK,GAAG,CAAC,CAAb;AAAA,MACIzD,MAAM,GAAG+H,OAAO,IAAI,IAAX,GAAkB,CAAlB,GAAsBA,OAAO,CAAC/H,MAD3C;AAGA,OAAKmuB,KAAL;;AACA,SAAO,EAAE1qB,KAAF,GAAUzD,MAAjB,EAAyB;AACvB,QAAIgI,KAAK,GAAGD,OAAO,CAACtE,KAAD,CAAnB;AACA,SAAKqM,GAAL,CAAS9H,KAAK,CAAC,CAAD,CAAd,EAAmBA,KAAK,CAAC,CAAD,CAAxB;AACD;AACF,C,CAED;;;AACAmnB,QAAQ,CAACnuB,SAAT,CAAmBmtB,KAAnB,GAA2BW,aAA3B;AACAK,QAAQ,CAACnuB,SAAT,CAAmB,QAAnB,IAA+B+tB,cAA/B;AACAI,QAAQ,CAACnuB,SAAT,CAAmB6O,GAAnB,GAAyBmf,WAAzB;AACAG,QAAQ,CAACnuB,SAAT,CAAmBotB,GAAnB,GAAyBa,WAAzB;AACAE,QAAQ,CAACnuB,SAAT,CAAmB8O,GAAnB,GAAyBof,WAAzB;AAEApjB,MAAM,CAAC/M,OAAP,GAAiBowB,QAAjB,C;;;;;;;;;;;AC/BA,IAAIT,SAAS,GAAGjwB,mBAAO,CAAC,yDAAD,CAAvB;AAAA,IACI2wB,UAAU,GAAG3wB,mBAAO,CAAC,2DAAD,CADxB;AAAA,IAEI4wB,WAAW,GAAG5wB,mBAAO,CAAC,6DAAD,CAFzB;AAAA,IAGI6wB,QAAQ,GAAG7wB,mBAAO,CAAC,uDAAD,CAHtB;AAAA,IAII8wB,QAAQ,GAAG9wB,mBAAO,CAAC,uDAAD,CAJtB;AAAA,IAKI+wB,QAAQ,GAAG/wB,mBAAO,CAAC,uDAAD,CALtB;AAOA;;;;;;;;;AAOA,SAASgxB,KAAT,CAAe1nB,OAAf,EAAwB;AACtB,MAAIgH,IAAI,GAAG,KAAK2gB,QAAL,GAAgB,IAAIhB,SAAJ,CAAc3mB,OAAd,CAA3B;AACA,OAAK4nB,IAAL,GAAY5gB,IAAI,CAAC4gB,IAAjB;AACD,C,CAED;;;AACAF,KAAK,CAACzuB,SAAN,CAAgBmtB,KAAhB,GAAwBiB,UAAxB;AACAK,KAAK,CAACzuB,SAAN,CAAgB,QAAhB,IAA4BquB,WAA5B;AACAI,KAAK,CAACzuB,SAAN,CAAgB6O,GAAhB,GAAsByf,QAAtB;AACAG,KAAK,CAACzuB,SAAN,CAAgBotB,GAAhB,GAAsBmB,QAAtB;AACAE,KAAK,CAACzuB,SAAN,CAAgB8O,GAAhB,GAAsB0f,QAAtB;AAEA1jB,MAAM,CAAC/M,OAAP,GAAiB0wB,KAAjB,C;;;;;;;;;;;AC1BA,IAAIb,IAAI,GAAGnwB,mBAAO,CAAC,+CAAD,CAAlB;AAEA;;;AACA,IAAImC,OAAM,GAAGguB,IAAI,CAAChuB,MAAlB;AAEAkL,MAAM,CAAC/M,OAAP,GAAiB6B,OAAjB,C;;;;;;;;;;;ACLA,IAAIguB,IAAI,GAAGnwB,mBAAO,CAAC,+CAAD,CAAlB;AAEA;;;AACA,IAAImxB,UAAU,GAAGhB,IAAI,CAACgB,UAAtB;AAEA9jB,MAAM,CAAC/M,OAAP,GAAiB6wB,UAAjB,C;;;;;;;;;;;ACLA;;;;;;;;;;AAUA,SAASxvB,KAAT,CAAeyvB,IAAf,EAAqBC,OAArB,EAA8B7vB,IAA9B,EAAoC;AAClC,UAAQA,IAAI,CAACD,MAAb;AACE,SAAK,CAAL;AAAQ,aAAO6vB,IAAI,CAACpuB,IAAL,CAAUquB,OAAV,CAAP;;AACR,SAAK,CAAL;AAAQ,aAAOD,IAAI,CAACpuB,IAAL,CAAUquB,OAAV,EAAmB7vB,IAAI,CAAC,CAAD,CAAvB,CAAP;;AACR,SAAK,CAAL;AAAQ,aAAO4vB,IAAI,CAACpuB,IAAL,CAAUquB,OAAV,EAAmB7vB,IAAI,CAAC,CAAD,CAAvB,EAA4BA,IAAI,CAAC,CAAD,CAAhC,CAAP;;AACR,SAAK,CAAL;AAAQ,aAAO4vB,IAAI,CAACpuB,IAAL,CAAUquB,OAAV,EAAmB7vB,IAAI,CAAC,CAAD,CAAvB,EAA4BA,IAAI,CAAC,CAAD,CAAhC,EAAqCA,IAAI,CAAC,CAAD,CAAzC,CAAP;AAJV;;AAMA,SAAO4vB,IAAI,CAACzvB,KAAL,CAAW0vB,OAAX,EAAoB7vB,IAApB,CAAP;AACD;;AAED6L,MAAM,CAAC/M,OAAP,GAAiBqB,KAAjB,C;;;;;;;;;;;ACpBA,IAAI2vB,SAAS,GAAGtxB,mBAAO,CAAC,yDAAD,CAAvB;AAAA,IACIuxB,WAAW,GAAGvxB,mBAAO,CAAC,2DAAD,CADzB;AAAA,IAEI0E,OAAO,GAAG1E,mBAAO,CAAC,mDAAD,CAFrB;AAAA,IAGIwxB,QAAQ,GAAGxxB,mBAAO,CAAC,qDAAD,CAHtB;AAAA,IAII8f,OAAO,GAAG9f,mBAAO,CAAC,qDAAD,CAJrB;AAAA,IAKIyxB,YAAY,GAAGzxB,mBAAO,CAAC,6DAAD,CAL1B;AAOA;;;AACA,IAAI0xB,WAAW,GAAGjvB,MAAM,CAACF,SAAzB;AAEA;;AACA,IAAIQ,cAAc,GAAG2uB,WAAW,CAAC3uB,cAAjC;AAEA;;;;;;;;;AAQA,SAAS4uB,aAAT,CAAuBtsB,KAAvB,EAA8BusB,SAA9B,EAAyC;AACvC,MAAIC,KAAK,GAAGntB,OAAO,CAACW,KAAD,CAAnB;AAAA,MACIysB,KAAK,GAAG,CAACD,KAAD,IAAUN,WAAW,CAAClsB,KAAD,CADjC;AAAA,MAEI0sB,MAAM,GAAG,CAACF,KAAD,IAAU,CAACC,KAAX,IAAoBN,QAAQ,CAACnsB,KAAD,CAFzC;AAAA,MAGI2sB,MAAM,GAAG,CAACH,KAAD,IAAU,CAACC,KAAX,IAAoB,CAACC,MAArB,IAA+BN,YAAY,CAACpsB,KAAD,CAHxD;AAAA,MAII4sB,WAAW,GAAGJ,KAAK,IAAIC,KAAT,IAAkBC,MAAlB,IAA4BC,MAJ9C;AAAA,MAKI5pB,MAAM,GAAG6pB,WAAW,GAAGX,SAAS,CAACjsB,KAAK,CAAC9D,MAAP,EAAe2wB,MAAf,CAAZ,GAAqC,EAL7D;AAAA,MAMI3wB,MAAM,GAAG6G,MAAM,CAAC7G,MANpB;;AAQA,OAAK,IAAIuB,GAAT,IAAgBuC,KAAhB,EAAuB;AACrB,QAAI,CAACusB,SAAS,IAAI7uB,cAAc,CAACC,IAAf,CAAoBqC,KAApB,EAA2BvC,GAA3B,CAAd,KACA,EAAEmvB,WAAW,MACV;AACAnvB,OAAG,IAAI,QAAP,IACA;AACCivB,UAAM,KAAKjvB,GAAG,IAAI,QAAP,IAAmBA,GAAG,IAAI,QAA/B,CAFP,IAGA;AACCkvB,UAAM,KAAKlvB,GAAG,IAAI,QAAP,IAAmBA,GAAG,IAAI,YAA1B,IAA0CA,GAAG,IAAI,YAAtD,CAJP,IAKA;AACAgd,WAAO,CAAChd,GAAD,EAAMvB,MAAN,CARG,CAAb,CADJ,EAUQ;AACN6G,YAAM,CAACJ,IAAP,CAAYlF,GAAZ;AACD;AACF;;AACD,SAAOsF,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiBqxB,aAAjB,C;;;;;;;;;;;AChDA;;;;;;;;;AASA,SAASQ,QAAT,CAAkBC,KAAlB,EAAyBC,QAAzB,EAAmC;AACjC,MAAIrtB,KAAK,GAAG,CAAC,CAAb;AAAA,MACIzD,MAAM,GAAG6wB,KAAK,IAAI,IAAT,GAAgB,CAAhB,GAAoBA,KAAK,CAAC7wB,MADvC;AAAA,MAEI6G,MAAM,GAAG3G,KAAK,CAACF,MAAD,CAFlB;;AAIA,SAAO,EAAEyD,KAAF,GAAUzD,MAAjB,EAAyB;AACvB6G,UAAM,CAACpD,KAAD,CAAN,GAAgBqtB,QAAQ,CAACD,KAAK,CAACptB,KAAD,CAAN,EAAeA,KAAf,EAAsBotB,KAAtB,CAAxB;AACD;;AACD,SAAOhqB,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiB6xB,QAAjB,C;;;;;;;;;;;ACpBA,IAAIG,eAAe,GAAGtyB,mBAAO,CAAC,qEAAD,CAA7B;AAAA,IACIuyB,EAAE,GAAGvyB,mBAAO,CAAC,yCAAD,CADhB;AAGA;;;;;;;;;;;AASA,SAASwyB,gBAAT,CAA0B5uB,MAA1B,EAAkCd,GAAlC,EAAuCuC,KAAvC,EAA8C;AAC5C,MAAKA,KAAK,KAAKzD,SAAV,IAAuB,CAAC2wB,EAAE,CAAC3uB,MAAM,CAACd,GAAD,CAAP,EAAcuC,KAAd,CAA3B,IACCA,KAAK,KAAKzD,SAAV,IAAuB,EAAEkB,GAAG,IAAIc,MAAT,CAD5B,EAC+C;AAC7C0uB,mBAAe,CAAC1uB,MAAD,EAASd,GAAT,EAAcuC,KAAd,CAAf;AACD;AACF;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBkyB,gBAAjB,C;;;;;;;;;;;ACnBA,IAAIF,eAAe,GAAGtyB,mBAAO,CAAC,qEAAD,CAA7B;AAAA,IACIuyB,EAAE,GAAGvyB,mBAAO,CAAC,yCAAD,CADhB;AAGA;;;AACA,IAAI0xB,WAAW,GAAGjvB,MAAM,CAACF,SAAzB;AAEA;;AACA,IAAIQ,cAAc,GAAG2uB,WAAW,CAAC3uB,cAAjC;AAEA;;;;;;;;;;;AAUA,SAAS0vB,WAAT,CAAqB7uB,MAArB,EAA6Bd,GAA7B,EAAkCuC,KAAlC,EAAyC;AACvC,MAAIqtB,QAAQ,GAAG9uB,MAAM,CAACd,GAAD,CAArB;;AACA,MAAI,EAAEC,cAAc,CAACC,IAAf,CAAoBY,MAApB,EAA4Bd,GAA5B,KAAoCyvB,EAAE,CAACG,QAAD,EAAWrtB,KAAX,CAAxC,KACCA,KAAK,KAAKzD,SAAV,IAAuB,EAAEkB,GAAG,IAAIc,MAAT,CAD5B,EAC+C;AAC7C0uB,mBAAe,CAAC1uB,MAAD,EAASd,GAAT,EAAcuC,KAAd,CAAf;AACD;AACF;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBmyB,WAAjB,C;;;;;;;;;;;AC3BA,IAAIF,EAAE,GAAGvyB,mBAAO,CAAC,yCAAD,CAAhB;AAEA;;;;;;;;;;AAQA,SAAS2yB,YAAT,CAAsBP,KAAtB,EAA6BtvB,GAA7B,EAAkC;AAChC,MAAIvB,MAAM,GAAG6wB,KAAK,CAAC7wB,MAAnB;;AACA,SAAOA,MAAM,EAAb,EAAiB;AACf,QAAIgxB,EAAE,CAACH,KAAK,CAAC7wB,MAAD,CAAL,CAAc,CAAd,CAAD,EAAmBuB,GAAnB,CAAN,EAA+B;AAC7B,aAAOvB,MAAP;AACD;AACF;;AACD,SAAO,CAAC,CAAR;AACD;;AAED8L,MAAM,CAAC/M,OAAP,GAAiBqyB,YAAjB,C;;;;;;;;;;;ACpBA,IAAIC,cAAc,GAAG5yB,mBAAO,CAAC,mEAAD,CAA5B;AAEA;;;;;;;;;;;AASA,SAASsyB,eAAT,CAAyB1uB,MAAzB,EAAiCd,GAAjC,EAAsCuC,KAAtC,EAA6C;AAC3C,MAAIvC,GAAG,IAAI,WAAP,IAAsB8vB,cAA1B,EAA0C;AACxCA,kBAAc,CAAChvB,MAAD,EAASd,GAAT,EAAc;AAC1B,sBAAgB,IADU;AAE1B,oBAAc,IAFY;AAG1B,eAASuC,KAHiB;AAI1B,kBAAY;AAJc,KAAd,CAAd;AAMD,GAPD,MAOO;AACLzB,UAAM,CAACd,GAAD,CAAN,GAAcuC,KAAd;AACD;AACF;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBgyB,eAAjB,C;;;;;;;;;;;ACxBA,IAAItmB,QAAQ,GAAGhM,mBAAO,CAAC,qDAAD,CAAtB;AAEA;;;AACA,IAAI6yB,YAAY,GAAGpwB,MAAM,CAACgB,MAA1B;AAEA;;;;;;;;;AAQA,IAAIqvB,UAAU,GAAI,YAAW;AAC3B,WAASlvB,MAAT,GAAkB,CAAE;;AACpB,SAAO,UAASmvB,KAAT,EAAgB;AACrB,QAAI,CAAC/mB,QAAQ,CAAC+mB,KAAD,CAAb,EAAsB;AACpB,aAAO,EAAP;AACD;;AACD,QAAIF,YAAJ,EAAkB;AAChB,aAAOA,YAAY,CAACE,KAAD,CAAnB;AACD;;AACDnvB,UAAM,CAACrB,SAAP,GAAmBwwB,KAAnB;AACA,QAAI3qB,MAAM,GAAG,IAAIxE,MAAJ,EAAb;AACAA,UAAM,CAACrB,SAAP,GAAmBX,SAAnB;AACA,WAAOwG,MAAP;AACD,GAXD;AAYD,CAdiB,EAAlB;;AAgBAiF,MAAM,CAAC/M,OAAP,GAAiBwyB,UAAjB,C;;;;;;;;;;;AC7BA,IAAIE,aAAa,GAAGhzB,mBAAO,CAAC,iEAAD,CAA3B;AAEA;;;;;;;;;;;;;AAWA,IAAIizB,OAAO,GAAGD,aAAa,EAA3B;AAEA3lB,MAAM,CAAC/M,OAAP,GAAiB2yB,OAAjB,C;;;;;;;;;;;ACfA,IAAIC,QAAQ,GAAGlzB,mBAAO,CAAC,uDAAD,CAAtB;AAAA,IACImzB,KAAK,GAAGnzB,mBAAO,CAAC,iDAAD,CADnB;AAGA;;;;;;;;;;AAQA,SAASozB,OAAT,CAAiBxvB,MAAjB,EAAyBG,IAAzB,EAA+B;AAC7BA,MAAI,GAAGmvB,QAAQ,CAACnvB,IAAD,EAAOH,MAAP,CAAf;AAEA,MAAIoB,KAAK,GAAG,CAAZ;AAAA,MACIzD,MAAM,GAAGwC,IAAI,CAACxC,MADlB;;AAGA,SAAOqC,MAAM,IAAI,IAAV,IAAkBoB,KAAK,GAAGzD,MAAjC,EAAyC;AACvCqC,UAAM,GAAGA,MAAM,CAACuvB,KAAK,CAACpvB,IAAI,CAACiB,KAAK,EAAN,CAAL,CAAN,CAAf;AACD;;AACD,SAAQA,KAAK,IAAIA,KAAK,IAAIzD,MAAnB,GAA6BqC,MAA7B,GAAsChC,SAA7C;AACD;;AAEDyL,MAAM,CAAC/M,OAAP,GAAiB8yB,OAAjB,C;;;;;;;;;;;ACvBA,IAAIjxB,OAAM,GAAGnC,mBAAO,CAAC,mDAAD,CAApB;AAAA,IACIqzB,SAAS,GAAGrzB,mBAAO,CAAC,yDAAD,CADvB;AAAA,IAEIszB,cAAc,GAAGtzB,mBAAO,CAAC,mEAAD,CAF5B;AAIA;;;AACA,IAAIuzB,OAAO,GAAG,eAAd;AAAA,IACIC,YAAY,GAAG,oBADnB;AAGA;;AACA,IAAIC,cAAc,GAAGtxB,OAAM,GAAGA,OAAM,CAACuxB,WAAV,GAAwB9xB,SAAnD;AAEA;;;;;;;;AAOA,SAAS+xB,UAAT,CAAoBtuB,KAApB,EAA2B;AACzB,MAAIA,KAAK,IAAI,IAAb,EAAmB;AACjB,WAAOA,KAAK,KAAKzD,SAAV,GAAsB4xB,YAAtB,GAAqCD,OAA5C;AACD;;AACD,SAAQE,cAAc,IAAIA,cAAc,IAAIhxB,MAAM,CAAC4C,KAAD,CAA3C,GACHguB,SAAS,CAAChuB,KAAD,CADN,GAEHiuB,cAAc,CAACjuB,KAAD,CAFlB;AAGD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBqzB,UAAjB,C;;;;;;;;;;;AC3BA,IAAIA,UAAU,GAAG3zB,mBAAO,CAAC,2DAAD,CAAxB;AAAA,IACI4zB,YAAY,GAAG5zB,mBAAO,CAAC,6DAAD,CAD1B;AAGA;;;AACA,IAAI6zB,OAAO,GAAG,oBAAd;AAEA;;;;;;;;AAOA,SAASC,eAAT,CAAyBzuB,KAAzB,EAAgC;AAC9B,SAAOuuB,YAAY,CAACvuB,KAAD,CAAZ,IAAuBsuB,UAAU,CAACtuB,KAAD,CAAV,IAAqBwuB,OAAnD;AACD;;AAEDxmB,MAAM,CAAC/M,OAAP,GAAiBwzB,eAAjB,C;;;;;;;;;;;ACjBA,IAAI1kB,UAAU,GAAGpP,mBAAO,CAAC,yDAAD,CAAxB;AAAA,IACI+zB,QAAQ,GAAG/zB,mBAAO,CAAC,uDAAD,CADtB;AAAA,IAEIgM,QAAQ,GAAGhM,mBAAO,CAAC,qDAAD,CAFtB;AAAA,IAGIg0B,QAAQ,GAAGh0B,mBAAO,CAAC,uDAAD,CAHtB;AAKA;;;;;;AAIA,IAAIi0B,YAAY,GAAG,qBAAnB;AAEA;;AACA,IAAIC,YAAY,GAAG,6BAAnB;AAEA;;AACA,IAAIC,SAAS,GAAGC,QAAQ,CAAC7xB,SAAzB;AAAA,IACImvB,WAAW,GAAGjvB,MAAM,CAACF,SADzB;AAGA;;AACA,IAAI8xB,YAAY,GAAGF,SAAS,CAAC9vB,QAA7B;AAEA;;AACA,IAAItB,cAAc,GAAG2uB,WAAW,CAAC3uB,cAAjC;AAEA;;AACA,IAAIuxB,UAAU,GAAG5uB,MAAM,CAAC,MACtB2uB,YAAY,CAACrxB,IAAb,CAAkBD,cAAlB,EAAkC0C,OAAlC,CAA0CwuB,YAA1C,EAAwD,MAAxD,EACCxuB,OADD,CACS,wDADT,EACmE,OADnE,CADsB,GAEwD,GAFzD,CAAvB;AAKA;;;;;;;;;AAQA,SAAS8uB,YAAT,CAAsBlvB,KAAtB,EAA6B;AAC3B,MAAI,CAAC2G,QAAQ,CAAC3G,KAAD,CAAT,IAAoB0uB,QAAQ,CAAC1uB,KAAD,CAAhC,EAAyC;AACvC,WAAO,KAAP;AACD;;AACD,MAAImvB,OAAO,GAAGplB,UAAU,CAAC/J,KAAD,CAAV,GAAoBivB,UAApB,GAAiCJ,YAA/C;AACA,SAAOM,OAAO,CAAClc,IAAR,CAAa0b,QAAQ,CAAC3uB,KAAD,CAArB,CAAP;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBi0B,YAAjB,C;;;;;;;;;;;AC9CA,IAAIZ,UAAU,GAAG3zB,mBAAO,CAAC,2DAAD,CAAxB;AAAA,IACIy0B,QAAQ,GAAGz0B,mBAAO,CAAC,qDAAD,CADtB;AAAA,IAEI4zB,YAAY,GAAG5zB,mBAAO,CAAC,6DAAD,CAF1B;AAIA;;;AACA,IAAI6zB,OAAO,GAAG,oBAAd;AAAA,IACIa,QAAQ,GAAG,gBADf;AAAA,IAEIC,OAAO,GAAG,kBAFd;AAAA,IAGIC,OAAO,GAAG,eAHd;AAAA,IAIIC,QAAQ,GAAG,gBAJf;AAAA,IAKIC,OAAO,GAAG,mBALd;AAAA,IAMIC,MAAM,GAAG,cANb;AAAA,IAOIC,SAAS,GAAG,iBAPhB;AAAA,IAQIC,SAAS,GAAG,iBARhB;AAAA,IASIC,SAAS,GAAG,iBAThB;AAAA,IAUIC,MAAM,GAAG,cAVb;AAAA,IAWIC,SAAS,GAAG,iBAXhB;AAAA,IAYIC,UAAU,GAAG,kBAZjB;AAcA,IAAIC,cAAc,GAAG,sBAArB;AAAA,IACIC,WAAW,GAAG,mBADlB;AAAA,IAEIC,UAAU,GAAG,uBAFjB;AAAA,IAGIC,UAAU,GAAG,uBAHjB;AAAA,IAIIC,OAAO,GAAG,oBAJd;AAAA,IAKIC,QAAQ,GAAG,qBALf;AAAA,IAMIC,QAAQ,GAAG,qBANf;AAAA,IAOIC,QAAQ,GAAG,qBAPf;AAAA,IAQIC,eAAe,GAAG,4BARtB;AAAA,IASIC,SAAS,GAAG,sBAThB;AAAA,IAUIC,SAAS,GAAG,sBAVhB;AAYA;;AACA,IAAIC,cAAc,GAAG,EAArB;AACAA,cAAc,CAACT,UAAD,CAAd,GAA6BS,cAAc,CAACR,UAAD,CAAd,GAC7BQ,cAAc,CAACP,OAAD,CAAd,GAA0BO,cAAc,CAACN,QAAD,CAAd,GAC1BM,cAAc,CAACL,QAAD,CAAd,GAA2BK,cAAc,CAACJ,QAAD,CAAd,GAC3BI,cAAc,CAACH,eAAD,CAAd,GAAkCG,cAAc,CAACF,SAAD,CAAd,GAClCE,cAAc,CAACD,SAAD,CAAd,GAA4B,IAJ5B;AAKAC,cAAc,CAACpC,OAAD,CAAd,GAA0BoC,cAAc,CAACvB,QAAD,CAAd,GAC1BuB,cAAc,CAACX,cAAD,CAAd,GAAiCW,cAAc,CAACtB,OAAD,CAAd,GACjCsB,cAAc,CAACV,WAAD,CAAd,GAA8BU,cAAc,CAACrB,OAAD,CAAd,GAC9BqB,cAAc,CAACpB,QAAD,CAAd,GAA2BoB,cAAc,CAACnB,OAAD,CAAd,GAC3BmB,cAAc,CAAClB,MAAD,CAAd,GAAyBkB,cAAc,CAACjB,SAAD,CAAd,GACzBiB,cAAc,CAAChB,SAAD,CAAd,GAA4BgB,cAAc,CAACf,SAAD,CAAd,GAC5Be,cAAc,CAACd,MAAD,CAAd,GAAyBc,cAAc,CAACb,SAAD,CAAd,GACzBa,cAAc,CAACZ,UAAD,CAAd,GAA6B,KAP7B;AASA;;;;;;;;AAOA,SAASa,gBAAT,CAA0B7wB,KAA1B,EAAiC;AAC/B,SAAOuuB,YAAY,CAACvuB,KAAD,CAAZ,IACLovB,QAAQ,CAACpvB,KAAK,CAAC9D,MAAP,CADH,IACqB,CAAC,CAAC00B,cAAc,CAACtC,UAAU,CAACtuB,KAAD,CAAX,CAD5C;AAED;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiB41B,gBAAjB,C;;;;;;;;;;;AC3DA,IAAIlqB,QAAQ,GAAGhM,mBAAO,CAAC,qDAAD,CAAtB;AAAA,IACIm2B,WAAW,GAAGn2B,mBAAO,CAAC,6DAAD,CADzB;AAAA,IAEIo2B,YAAY,GAAGp2B,mBAAO,CAAC,+DAAD,CAF1B;AAIA;;;AACA,IAAI0xB,WAAW,GAAGjvB,MAAM,CAACF,SAAzB;AAEA;;AACA,IAAIQ,cAAc,GAAG2uB,WAAW,CAAC3uB,cAAjC;AAEA;;;;;;;;AAOA,SAASszB,UAAT,CAAoBzyB,MAApB,EAA4B;AAC1B,MAAI,CAACoI,QAAQ,CAACpI,MAAD,CAAb,EAAuB;AACrB,WAAOwyB,YAAY,CAACxyB,MAAD,CAAnB;AACD;;AACD,MAAI0yB,OAAO,GAAGH,WAAW,CAACvyB,MAAD,CAAzB;AAAA,MACIwE,MAAM,GAAG,EADb;;AAGA,OAAK,IAAItF,GAAT,IAAgBc,MAAhB,EAAwB;AACtB,QAAI,EAAEd,GAAG,IAAI,aAAP,KAAyBwzB,OAAO,IAAI,CAACvzB,cAAc,CAACC,IAAf,CAAoBY,MAApB,EAA4Bd,GAA5B,CAArC,CAAF,CAAJ,EAA+E;AAC7EsF,YAAM,CAACJ,IAAP,CAAYlF,GAAZ;AACD;AACF;;AACD,SAAOsF,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiB+1B,UAAjB,C;;;;;;;;;;;AChCA,IAAIrF,KAAK,GAAGhxB,mBAAO,CAAC,iDAAD,CAAnB;AAAA,IACIwyB,gBAAgB,GAAGxyB,mBAAO,CAAC,uEAAD,CAD9B;AAAA,IAEIizB,OAAO,GAAGjzB,mBAAO,CAAC,qDAAD,CAFrB;AAAA,IAGIu2B,aAAa,GAAGv2B,mBAAO,CAAC,iEAAD,CAH3B;AAAA,IAIIgM,QAAQ,GAAGhM,mBAAO,CAAC,qDAAD,CAJtB;AAAA,IAKIw2B,MAAM,GAAGx2B,mBAAO,CAAC,iDAAD,CALpB;AAAA,IAMIy2B,OAAO,GAAGz2B,mBAAO,CAAC,qDAAD,CANrB;AAQA;;;;;;;;;;;;;AAWA,SAAS02B,SAAT,CAAmB9yB,MAAnB,EAA2Bf,MAA3B,EAAmC8zB,QAAnC,EAA6CC,UAA7C,EAAyDC,KAAzD,EAAgE;AAC9D,MAAIjzB,MAAM,KAAKf,MAAf,EAAuB;AACrB;AACD;;AACDowB,SAAO,CAACpwB,MAAD,EAAS,UAASi0B,QAAT,EAAmBh0B,GAAnB,EAAwB;AACtC+zB,SAAK,KAAKA,KAAK,GAAG,IAAI7F,KAAJ,EAAb,CAAL;;AACA,QAAIhlB,QAAQ,CAAC8qB,QAAD,CAAZ,EAAwB;AACtBP,mBAAa,CAAC3yB,MAAD,EAASf,MAAT,EAAiBC,GAAjB,EAAsB6zB,QAAtB,EAAgCD,SAAhC,EAA2CE,UAA3C,EAAuDC,KAAvD,CAAb;AACD,KAFD,MAGK;AACH,UAAIE,QAAQ,GAAGH,UAAU,GACrBA,UAAU,CAACH,OAAO,CAAC7yB,MAAD,EAASd,GAAT,CAAR,EAAuBg0B,QAAvB,EAAkCh0B,GAAG,GAAG,EAAxC,EAA6Cc,MAA7C,EAAqDf,MAArD,EAA6Dg0B,KAA7D,CADW,GAErBj1B,SAFJ;;AAIA,UAAIm1B,QAAQ,KAAKn1B,SAAjB,EAA4B;AAC1Bm1B,gBAAQ,GAAGD,QAAX;AACD;;AACDtE,sBAAgB,CAAC5uB,MAAD,EAASd,GAAT,EAAci0B,QAAd,CAAhB;AACD;AACF,GAfM,EAeJP,MAfI,CAAP;AAgBD;;AAEDnpB,MAAM,CAAC/M,OAAP,GAAiBo2B,SAAjB,C;;;;;;;;;;;ACzCA,IAAIlE,gBAAgB,GAAGxyB,mBAAO,CAAC,uEAAD,CAA9B;AAAA,IACIg3B,WAAW,GAAGh3B,mBAAO,CAAC,6DAAD,CADzB;AAAA,IAEIi3B,eAAe,GAAGj3B,mBAAO,CAAC,qEAAD,CAF7B;AAAA,IAGIk3B,SAAS,GAAGl3B,mBAAO,CAAC,yDAAD,CAHvB;AAAA,IAIIm3B,eAAe,GAAGn3B,mBAAO,CAAC,qEAAD,CAJ7B;AAAA,IAKIuxB,WAAW,GAAGvxB,mBAAO,CAAC,2DAAD,CALzB;AAAA,IAMI0E,OAAO,GAAG1E,mBAAO,CAAC,mDAAD,CANrB;AAAA,IAOIo3B,iBAAiB,GAAGp3B,mBAAO,CAAC,uEAAD,CAP/B;AAAA,IAQIwxB,QAAQ,GAAGxxB,mBAAO,CAAC,qDAAD,CARtB;AAAA,IASIoP,UAAU,GAAGpP,mBAAO,CAAC,yDAAD,CATxB;AAAA,IAUIgM,QAAQ,GAAGhM,mBAAO,CAAC,qDAAD,CAVtB;AAAA,IAWIq3B,aAAa,GAAGr3B,mBAAO,CAAC,+DAAD,CAX3B;AAAA,IAYIyxB,YAAY,GAAGzxB,mBAAO,CAAC,6DAAD,CAZ1B;AAAA,IAaIy2B,OAAO,GAAGz2B,mBAAO,CAAC,qDAAD,CAbrB;AAAA,IAcIs3B,aAAa,GAAGt3B,mBAAO,CAAC,+DAAD,CAd3B;AAgBA;;;;;;;;;;;;;;;;;AAeA,SAASu2B,aAAT,CAAuB3yB,MAAvB,EAA+Bf,MAA/B,EAAuCC,GAAvC,EAA4C6zB,QAA5C,EAAsDY,SAAtD,EAAiEX,UAAjE,EAA6EC,KAA7E,EAAoF;AAClF,MAAInE,QAAQ,GAAG+D,OAAO,CAAC7yB,MAAD,EAASd,GAAT,CAAtB;AAAA,MACIg0B,QAAQ,GAAGL,OAAO,CAAC5zB,MAAD,EAASC,GAAT,CADtB;AAAA,MAEI00B,OAAO,GAAGX,KAAK,CAACzlB,GAAN,CAAU0lB,QAAV,CAFd;;AAIA,MAAIU,OAAJ,EAAa;AACXhF,oBAAgB,CAAC5uB,MAAD,EAASd,GAAT,EAAc00B,OAAd,CAAhB;AACA;AACD;;AACD,MAAIT,QAAQ,GAAGH,UAAU,GACrBA,UAAU,CAAClE,QAAD,EAAWoE,QAAX,EAAsBh0B,GAAG,GAAG,EAA5B,EAAiCc,MAAjC,EAAyCf,MAAzC,EAAiDg0B,KAAjD,CADW,GAErBj1B,SAFJ;AAIA,MAAI61B,QAAQ,GAAGV,QAAQ,KAAKn1B,SAA5B;;AAEA,MAAI61B,QAAJ,EAAc;AACZ,QAAI5F,KAAK,GAAGntB,OAAO,CAACoyB,QAAD,CAAnB;AAAA,QACI/E,MAAM,GAAG,CAACF,KAAD,IAAUL,QAAQ,CAACsF,QAAD,CAD/B;AAAA,QAEIY,OAAO,GAAG,CAAC7F,KAAD,IAAU,CAACE,MAAX,IAAqBN,YAAY,CAACqF,QAAD,CAF/C;AAIAC,YAAQ,GAAGD,QAAX;;AACA,QAAIjF,KAAK,IAAIE,MAAT,IAAmB2F,OAAvB,EAAgC;AAC9B,UAAIhzB,OAAO,CAACguB,QAAD,CAAX,EAAuB;AACrBqE,gBAAQ,GAAGrE,QAAX;AACD,OAFD,MAGK,IAAI0E,iBAAiB,CAAC1E,QAAD,CAArB,EAAiC;AACpCqE,gBAAQ,GAAGG,SAAS,CAACxE,QAAD,CAApB;AACD,OAFI,MAGA,IAAIX,MAAJ,EAAY;AACf0F,gBAAQ,GAAG,KAAX;AACAV,gBAAQ,GAAGC,WAAW,CAACF,QAAD,EAAW,IAAX,CAAtB;AACD,OAHI,MAIA,IAAIY,OAAJ,EAAa;AAChBD,gBAAQ,GAAG,KAAX;AACAV,gBAAQ,GAAGE,eAAe,CAACH,QAAD,EAAW,IAAX,CAA1B;AACD,OAHI,MAIA;AACHC,gBAAQ,GAAG,EAAX;AACD;AACF,KAlBD,MAmBK,IAAIM,aAAa,CAACP,QAAD,CAAb,IAA2BvF,WAAW,CAACuF,QAAD,CAA1C,EAAsD;AACzDC,cAAQ,GAAGrE,QAAX;;AACA,UAAInB,WAAW,CAACmB,QAAD,CAAf,EAA2B;AACzBqE,gBAAQ,GAAGO,aAAa,CAAC5E,QAAD,CAAxB;AACD,OAFD,MAGK,IAAI,CAAC1mB,QAAQ,CAAC0mB,QAAD,CAAT,IAAuBtjB,UAAU,CAACsjB,QAAD,CAArC,EAAiD;AACpDqE,gBAAQ,GAAGI,eAAe,CAACL,QAAD,CAA1B;AACD;AACF,KARI,MASA;AACHW,cAAQ,GAAG,KAAX;AACD;AACF;;AACD,MAAIA,QAAJ,EAAc;AACZ;AACAZ,SAAK,CAACxlB,GAAN,CAAUylB,QAAV,EAAoBC,QAApB;AACAQ,aAAS,CAACR,QAAD,EAAWD,QAAX,EAAqBH,QAArB,EAA+BC,UAA/B,EAA2CC,KAA3C,CAAT;AACAA,SAAK,CAAC,QAAD,CAAL,CAAgBC,QAAhB;AACD;;AACDtE,kBAAgB,CAAC5uB,MAAD,EAASd,GAAT,EAAci0B,QAAd,CAAhB;AACD;;AAED1pB,MAAM,CAAC/M,OAAP,GAAiBi2B,aAAjB,C;;;;;;;;;;;AC7FA,IAAIoB,QAAQ,GAAG33B,mBAAO,CAAC,qDAAD,CAAtB;AAAA,IACI43B,QAAQ,GAAG53B,mBAAO,CAAC,uDAAD,CADtB;AAAA,IAEI63B,WAAW,GAAG73B,mBAAO,CAAC,6DAAD,CAFzB;AAIA;;;;;;;;;;AAQA,SAAS83B,QAAT,CAAkB1G,IAAlB,EAAwB2G,KAAxB,EAA+B;AAC7B,SAAOF,WAAW,CAACD,QAAQ,CAACxG,IAAD,EAAO2G,KAAP,EAAcJ,QAAd,CAAT,EAAkCvG,IAAI,GAAG,EAAzC,CAAlB;AACD;;AAED/jB,MAAM,CAAC/M,OAAP,GAAiBw3B,QAAjB,C;;;;;;;;;;;AChBA,IAAIrF,WAAW,GAAGzyB,mBAAO,CAAC,6DAAD,CAAzB;AAAA,IACIkzB,QAAQ,GAAGlzB,mBAAO,CAAC,uDAAD,CADtB;AAAA,IAEI8f,OAAO,GAAG9f,mBAAO,CAAC,qDAAD,CAFrB;AAAA,IAGIgM,QAAQ,GAAGhM,mBAAO,CAAC,qDAAD,CAHtB;AAAA,IAIImzB,KAAK,GAAGnzB,mBAAO,CAAC,iDAAD,CAJnB;AAMA;;;;;;;;;;;;AAUA,SAASg4B,OAAT,CAAiBp0B,MAAjB,EAAyBG,IAAzB,EAA+BsB,KAA/B,EAAsCuxB,UAAtC,EAAkD;AAChD,MAAI,CAAC5qB,QAAQ,CAACpI,MAAD,CAAb,EAAuB;AACrB,WAAOA,MAAP;AACD;;AACDG,MAAI,GAAGmvB,QAAQ,CAACnvB,IAAD,EAAOH,MAAP,CAAf;AAEA,MAAIoB,KAAK,GAAG,CAAC,CAAb;AAAA,MACIzD,MAAM,GAAGwC,IAAI,CAACxC,MADlB;AAAA,MAEI02B,SAAS,GAAG12B,MAAM,GAAG,CAFzB;AAAA,MAGI22B,MAAM,GAAGt0B,MAHb;;AAKA,SAAOs0B,MAAM,IAAI,IAAV,IAAkB,EAAElzB,KAAF,GAAUzD,MAAnC,EAA2C;AACzC,QAAIuB,GAAG,GAAGqwB,KAAK,CAACpvB,IAAI,CAACiB,KAAD,CAAL,CAAf;AAAA,QACI+xB,QAAQ,GAAG1xB,KADf;;AAGA,QAAIL,KAAK,IAAIizB,SAAb,EAAwB;AACtB,UAAIvF,QAAQ,GAAGwF,MAAM,CAACp1B,GAAD,CAArB;AACAi0B,cAAQ,GAAGH,UAAU,GAAGA,UAAU,CAAClE,QAAD,EAAW5vB,GAAX,EAAgBo1B,MAAhB,CAAb,GAAuCt2B,SAA5D;;AACA,UAAIm1B,QAAQ,KAAKn1B,SAAjB,EAA4B;AAC1Bm1B,gBAAQ,GAAG/qB,QAAQ,CAAC0mB,QAAD,CAAR,GACPA,QADO,GAEN5S,OAAO,CAAC/b,IAAI,CAACiB,KAAK,GAAG,CAAT,CAAL,CAAP,GAA2B,EAA3B,GAAgC,EAFrC;AAGD;AACF;;AACDytB,eAAW,CAACyF,MAAD,EAASp1B,GAAT,EAAci0B,QAAd,CAAX;AACAmB,UAAM,GAAGA,MAAM,CAACp1B,GAAD,CAAf;AACD;;AACD,SAAOc,MAAP;AACD;;AAEDyJ,MAAM,CAAC/M,OAAP,GAAiB03B,OAAjB,C;;;;;;;;;;;AC9CA,IAAIG,QAAQ,GAAGn4B,mBAAO,CAAC,qDAAD,CAAtB;AAAA,IACI4yB,cAAc,GAAG5yB,mBAAO,CAAC,mEAAD,CAD5B;AAAA,IAEI23B,QAAQ,GAAG33B,mBAAO,CAAC,qDAAD,CAFtB;AAIA;;;;;;;;;;AAQA,IAAIo4B,eAAe,GAAG,CAACxF,cAAD,GAAkB+E,QAAlB,GAA6B,UAASvG,IAAT,EAAeprB,MAAf,EAAuB;AACxE,SAAO4sB,cAAc,CAACxB,IAAD,EAAO,UAAP,EAAmB;AACtC,oBAAgB,IADsB;AAEtC,kBAAc,KAFwB;AAGtC,aAAS+G,QAAQ,CAACnyB,MAAD,CAHqB;AAItC,gBAAY;AAJ0B,GAAnB,CAArB;AAMD,CAPD;AASAqH,MAAM,CAAC/M,OAAP,GAAiB83B,eAAjB,C;;;;;;;;;;;ACrBA;;;;;;;;;AASA,SAAS9G,SAAT,CAAmBvnB,CAAnB,EAAsBsoB,QAAtB,EAAgC;AAC9B,MAAIrtB,KAAK,GAAG,CAAC,CAAb;AAAA,MACIoD,MAAM,GAAG3G,KAAK,CAACsI,CAAD,CADlB;;AAGA,SAAO,EAAE/E,KAAF,GAAU+E,CAAjB,EAAoB;AAClB3B,UAAM,CAACpD,KAAD,CAAN,GAAgBqtB,QAAQ,CAACrtB,KAAD,CAAxB;AACD;;AACD,SAAOoD,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiBgxB,SAAjB,C;;;;;;;;;;;ACnBA,IAAInvB,OAAM,GAAGnC,mBAAO,CAAC,mDAAD,CAApB;AAAA,IACImyB,QAAQ,GAAGnyB,mBAAO,CAAC,uDAAD,CADtB;AAAA,IAEI0E,OAAO,GAAG1E,mBAAO,CAAC,mDAAD,CAFrB;AAAA,IAGIq4B,QAAQ,GAAGr4B,mBAAO,CAAC,qDAAD,CAHtB;AAKA;;;AACA,IAAIs4B,QAAQ,GAAG,IAAI,CAAnB;AAEA;;AACA,IAAIC,WAAW,GAAGp2B,OAAM,GAAGA,OAAM,CAACI,SAAV,GAAsBX,SAA9C;AAAA,IACI42B,cAAc,GAAGD,WAAW,GAAGA,WAAW,CAACl0B,QAAf,GAA0BzC,SAD1D;AAGA;;;;;;;;;AAQA,SAAS62B,YAAT,CAAsBpzB,KAAtB,EAA6B;AAC3B;AACA,MAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;AAC5B,WAAOA,KAAP;AACD;;AACD,MAAIX,OAAO,CAACW,KAAD,CAAX,EAAoB;AAClB;AACA,WAAO8sB,QAAQ,CAAC9sB,KAAD,EAAQozB,YAAR,CAAR,GAAgC,EAAvC;AACD;;AACD,MAAIJ,QAAQ,CAAChzB,KAAD,CAAZ,EAAqB;AACnB,WAAOmzB,cAAc,GAAGA,cAAc,CAACx1B,IAAf,CAAoBqC,KAApB,CAAH,GAAgC,EAArD;AACD;;AACD,MAAI+C,MAAM,GAAI/C,KAAK,GAAG,EAAtB;AACA,SAAQ+C,MAAM,IAAI,GAAV,IAAkB,IAAI/C,KAAL,IAAe,CAACizB,QAAlC,GAA8C,IAA9C,GAAqDlwB,MAA5D;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiBm4B,YAAjB,C;;;;;;;;;;;ACpCA;;;;;;;AAOA,SAASC,SAAT,CAAmBtH,IAAnB,EAAyB;AACvB,SAAO,UAAS/rB,KAAT,EAAgB;AACrB,WAAO+rB,IAAI,CAAC/rB,KAAD,CAAX;AACD,GAFD;AAGD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBo4B,SAAjB,C;;;;;;;;;;;ACbA,IAAIh0B,OAAO,GAAG1E,mBAAO,CAAC,mDAAD,CAArB;AAAA,IACI24B,KAAK,GAAG34B,mBAAO,CAAC,iDAAD,CADnB;AAAA,IAEI44B,YAAY,GAAG54B,mBAAO,CAAC,+DAAD,CAF1B;AAAA,IAGIqE,QAAQ,GAAGrE,mBAAO,CAAC,qDAAD,CAHtB;AAKA;;;;;;;;;;AAQA,SAASkzB,QAAT,CAAkB7tB,KAAlB,EAAyBzB,MAAzB,EAAiC;AAC/B,MAAIc,OAAO,CAACW,KAAD,CAAX,EAAoB;AAClB,WAAOA,KAAP;AACD;;AACD,SAAOszB,KAAK,CAACtzB,KAAD,EAAQzB,MAAR,CAAL,GAAuB,CAACyB,KAAD,CAAvB,GAAiCuzB,YAAY,CAACv0B,QAAQ,CAACgB,KAAD,CAAT,CAApD;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiB4yB,QAAjB,C;;;;;;;;;;;ACpBA,IAAI/B,UAAU,GAAGnxB,mBAAO,CAAC,2DAAD,CAAxB;AAEA;;;;;;;;;AAOA,SAAS64B,gBAAT,CAA0BC,WAA1B,EAAuC;AACrC,MAAI1wB,MAAM,GAAG,IAAI0wB,WAAW,CAACx2B,WAAhB,CAA4Bw2B,WAAW,CAACC,UAAxC,CAAb;AACA,MAAI5H,UAAJ,CAAe/oB,MAAf,EAAuBiJ,GAAvB,CAA2B,IAAI8f,UAAJ,CAAe2H,WAAf,CAA3B;AACA,SAAO1wB,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiBu4B,gBAAjB,C;;;;;;;;;;;;;ACfA,IAAI1I,IAAI,GAAGnwB,mBAAO,CAAC,+CAAD,CAAlB;AAEA;;;AACA,IAAIg5B,WAAW,GAAG,8BAAO14B,OAAP,MAAkB,QAAlB,IAA8BA,OAA9B,IAAyC,CAACA,OAAO,CAACgT,QAAlD,IAA8DhT,OAAhF;AAEA;;AACA,IAAI24B,UAAU,GAAGD,WAAW,IAAI,8BAAO3rB,MAAP,MAAiB,QAAhC,IAA4CA,MAA5C,IAAsD,CAACA,MAAM,CAACiG,QAA9D,IAA0EjG,MAA3F;AAEA;;AACA,IAAI6rB,aAAa,GAAGD,UAAU,IAAIA,UAAU,CAAC34B,OAAX,KAAuB04B,WAAzD;AAEA;;AACA,IAAIG,MAAM,GAAGD,aAAa,GAAG/I,IAAI,CAACgJ,MAAR,GAAiBv3B,SAA3C;AAAA,IACIw3B,WAAW,GAAGD,MAAM,GAAGA,MAAM,CAACC,WAAV,GAAwBx3B,SADhD;AAGA;;;;;;;;;AAQA,SAASo1B,WAAT,CAAqBqC,MAArB,EAA6BC,MAA7B,EAAqC;AACnC,MAAIA,MAAJ,EAAY;AACV,WAAOD,MAAM,CAACzxB,KAAP,EAAP;AACD;;AACD,MAAIrG,MAAM,GAAG83B,MAAM,CAAC93B,MAApB;AAAA,MACI6G,MAAM,GAAGgxB,WAAW,GAAGA,WAAW,CAAC73B,MAAD,CAAd,GAAyB,IAAI83B,MAAM,CAAC/2B,WAAX,CAAuBf,MAAvB,CADjD;AAGA83B,QAAM,CAACE,IAAP,CAAYnxB,MAAZ;AACA,SAAOA,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiB02B,WAAjB,C;;;;;;;;;;;;AClCA,IAAI6B,gBAAgB,GAAG74B,mBAAO,CAAC,uEAAD,CAA9B;AAEA;;;;;;;;;;AAQA,SAASi3B,eAAT,CAAyBuC,UAAzB,EAAqCF,MAArC,EAA6C;AAC3C,MAAID,MAAM,GAAGC,MAAM,GAAGT,gBAAgB,CAACW,UAAU,CAACH,MAAZ,CAAnB,GAAyCG,UAAU,CAACH,MAAvE;AACA,SAAO,IAAIG,UAAU,CAACl3B,WAAf,CAA2B+2B,MAA3B,EAAmCG,UAAU,CAACC,UAA9C,EAA0DD,UAAU,CAACj4B,MAArE,CAAP;AACD;;AAED8L,MAAM,CAAC/M,OAAP,GAAiB22B,eAAjB,C;;;;;;;;;;;ACfA;;;;;;;;AAQA,SAASC,SAAT,CAAmBr0B,MAAnB,EAA2BuvB,KAA3B,EAAkC;AAChC,MAAIptB,KAAK,GAAG,CAAC,CAAb;AAAA,MACIzD,MAAM,GAAGsB,MAAM,CAACtB,MADpB;AAGA6wB,OAAK,KAAKA,KAAK,GAAG3wB,KAAK,CAACF,MAAD,CAAlB,CAAL;;AACA,SAAO,EAAEyD,KAAF,GAAUzD,MAAjB,EAAyB;AACvB6wB,SAAK,CAACptB,KAAD,CAAL,GAAenC,MAAM,CAACmC,KAAD,CAArB;AACD;;AACD,SAAOotB,KAAP;AACD;;AAED/kB,MAAM,CAAC/M,OAAP,GAAiB42B,SAAjB,C;;;;;;;;;;;ACnBA,IAAIzE,WAAW,GAAGzyB,mBAAO,CAAC,6DAAD,CAAzB;AAAA,IACIsyB,eAAe,GAAGtyB,mBAAO,CAAC,qEAAD,CAD7B;AAGA;;;;;;;;;;;;AAUA,SAAS05B,UAAT,CAAoB72B,MAApB,EAA4BW,KAA5B,EAAmCI,MAAnC,EAA2CgzB,UAA3C,EAAuD;AACrD,MAAI+C,KAAK,GAAG,CAAC/1B,MAAb;AACAA,QAAM,KAAKA,MAAM,GAAG,EAAd,CAAN;AAEA,MAAIoB,KAAK,GAAG,CAAC,CAAb;AAAA,MACIzD,MAAM,GAAGiC,KAAK,CAACjC,MADnB;;AAGA,SAAO,EAAEyD,KAAF,GAAUzD,MAAjB,EAAyB;AACvB,QAAIuB,GAAG,GAAGU,KAAK,CAACwB,KAAD,CAAf;AAEA,QAAI+xB,QAAQ,GAAGH,UAAU,GACrBA,UAAU,CAAChzB,MAAM,CAACd,GAAD,CAAP,EAAcD,MAAM,CAACC,GAAD,CAApB,EAA2BA,GAA3B,EAAgCc,MAAhC,EAAwCf,MAAxC,CADW,GAErBjB,SAFJ;;AAIA,QAAIm1B,QAAQ,KAAKn1B,SAAjB,EAA4B;AAC1Bm1B,cAAQ,GAAGl0B,MAAM,CAACC,GAAD,CAAjB;AACD;;AACD,QAAI62B,KAAJ,EAAW;AACTrH,qBAAe,CAAC1uB,MAAD,EAASd,GAAT,EAAci0B,QAAd,CAAf;AACD,KAFD,MAEO;AACLtE,iBAAW,CAAC7uB,MAAD,EAASd,GAAT,EAAci0B,QAAd,CAAX;AACD;AACF;;AACD,SAAOnzB,MAAP;AACD;;AAEDyJ,MAAM,CAAC/M,OAAP,GAAiBo5B,UAAjB,C;;;;;;;;;;;ACvCA,IAAIvJ,IAAI,GAAGnwB,mBAAO,CAAC,+CAAD,CAAlB;AAEA;;;AACA,IAAI45B,UAAU,GAAGzJ,IAAI,CAAC,oBAAD,CAArB;AAEA9iB,MAAM,CAAC/M,OAAP,GAAiBs5B,UAAjB,C;;;;;;;;;;;ACLA,IAAI9B,QAAQ,GAAG93B,mBAAO,CAAC,uDAAD,CAAtB;AAAA,IACI65B,cAAc,GAAG75B,mBAAO,CAAC,mEAAD,CAD5B;AAGA;;;;;;;;;AAOA,SAAS85B,cAAT,CAAwBC,QAAxB,EAAkC;AAChC,SAAOjC,QAAQ,CAAC,UAASl0B,MAAT,EAAiBo2B,OAAjB,EAA0B;AACxC,QAAIh1B,KAAK,GAAG,CAAC,CAAb;AAAA,QACIzD,MAAM,GAAGy4B,OAAO,CAACz4B,MADrB;AAAA,QAEIq1B,UAAU,GAAGr1B,MAAM,GAAG,CAAT,GAAay4B,OAAO,CAACz4B,MAAM,GAAG,CAAV,CAApB,GAAmCK,SAFpD;AAAA,QAGIq4B,KAAK,GAAG14B,MAAM,GAAG,CAAT,GAAay4B,OAAO,CAAC,CAAD,CAApB,GAA0Bp4B,SAHtC;AAKAg1B,cAAU,GAAImD,QAAQ,CAACx4B,MAAT,GAAkB,CAAlB,IAAuB,OAAOq1B,UAAP,IAAqB,UAA7C,IACRr1B,MAAM,IAAIq1B,UADF,IAETh1B,SAFJ;;AAIA,QAAIq4B,KAAK,IAAIJ,cAAc,CAACG,OAAO,CAAC,CAAD,CAAR,EAAaA,OAAO,CAAC,CAAD,CAApB,EAAyBC,KAAzB,CAA3B,EAA4D;AAC1DrD,gBAAU,GAAGr1B,MAAM,GAAG,CAAT,GAAaK,SAAb,GAAyBg1B,UAAtC;AACAr1B,YAAM,GAAG,CAAT;AACD;;AACDqC,UAAM,GAAGnB,MAAM,CAACmB,MAAD,CAAf;;AACA,WAAO,EAAEoB,KAAF,GAAUzD,MAAjB,EAAyB;AACvB,UAAIsB,MAAM,GAAGm3B,OAAO,CAACh1B,KAAD,CAApB;;AACA,UAAInC,MAAJ,EAAY;AACVk3B,gBAAQ,CAACn2B,MAAD,EAASf,MAAT,EAAiBmC,KAAjB,EAAwB4xB,UAAxB,CAAR;AACD;AACF;;AACD,WAAOhzB,MAAP;AACD,GAtBc,CAAf;AAuBD;;AAEDyJ,MAAM,CAAC/M,OAAP,GAAiBw5B,cAAjB,C;;;;;;;;;;;ACpCA;;;;;;;AAOA,SAAS9G,aAAT,CAAuBkH,SAAvB,EAAkC;AAChC,SAAO,UAASt2B,MAAT,EAAiByuB,QAAjB,EAA2B8H,QAA3B,EAAqC;AAC1C,QAAIn1B,KAAK,GAAG,CAAC,CAAb;AAAA,QACIo1B,QAAQ,GAAG33B,MAAM,CAACmB,MAAD,CADrB;AAAA,QAEIJ,KAAK,GAAG22B,QAAQ,CAACv2B,MAAD,CAFpB;AAAA,QAGIrC,MAAM,GAAGiC,KAAK,CAACjC,MAHnB;;AAKA,WAAOA,MAAM,EAAb,EAAiB;AACf,UAAIuB,GAAG,GAAGU,KAAK,CAAC02B,SAAS,GAAG34B,MAAH,GAAY,EAAEyD,KAAxB,CAAf;;AACA,UAAIqtB,QAAQ,CAAC+H,QAAQ,CAACt3B,GAAD,CAAT,EAAgBA,GAAhB,EAAqBs3B,QAArB,CAAR,KAA2C,KAA/C,EAAsD;AACpD;AACD;AACF;;AACD,WAAOx2B,MAAP;AACD,GAbD;AAcD;;AAEDyJ,MAAM,CAAC/M,OAAP,GAAiB0yB,aAAjB,C;;;;;;;;;;;ACxBA,IAAI9C,SAAS,GAAGlwB,mBAAO,CAAC,yDAAD,CAAvB;;AAEA,IAAI4yB,cAAc,GAAI,YAAW;AAC/B,MAAI;AACF,QAAIxB,IAAI,GAAGlB,SAAS,CAACztB,MAAD,EAAS,gBAAT,CAApB;AACA2uB,QAAI,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAJ;AACA,WAAOA,IAAP;AACD,GAJD,CAIE,OAAOpU,CAAP,EAAU,CAAE;AACf,CANqB,EAAtB;;AAQA3P,MAAM,CAAC/M,OAAP,GAAiBsyB,cAAjB,C;;;;;;;;;;;;;ACVA;AACA,IAAIyH,UAAU,GAAG,QAAOlkB,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,MAA7B,IAAuCA,MAAM,CAAC1T,MAAP,KAAkBA,MAAzD,IAAmE0T,MAApF;AAEA9I,MAAM,CAAC/M,OAAP,GAAiB+5B,UAAjB,C;;;;;;;;;;;ACHA,IAAIC,SAAS,GAAGt6B,mBAAO,CAAC,yDAAD,CAAvB;AAEA;;;;;;;;;;AAQA,SAASu6B,UAAT,CAAoBnwB,GAApB,EAAyBtH,GAAzB,EAA8B;AAC5B,MAAIwN,IAAI,GAAGlG,GAAG,CAAC6mB,QAAf;AACA,SAAOqJ,SAAS,CAACx3B,GAAD,CAAT,GACHwN,IAAI,CAAC,OAAOxN,GAAP,IAAc,QAAd,GAAyB,QAAzB,GAAoC,MAArC,CADD,GAEHwN,IAAI,CAAClG,GAFT;AAGD;;AAEDiD,MAAM,CAAC/M,OAAP,GAAiBi6B,UAAjB,C;;;;;;;;;;;ACjBA,IAAIhG,YAAY,GAAGv0B,mBAAO,CAAC,+DAAD,CAA1B;AAAA,IACIw6B,QAAQ,GAAGx6B,mBAAO,CAAC,uDAAD,CADtB;AAGA;;;;;;;;;;AAQA,SAASkwB,SAAT,CAAmBtsB,MAAnB,EAA2Bd,GAA3B,EAAgC;AAC9B,MAAIuC,KAAK,GAAGm1B,QAAQ,CAAC52B,MAAD,EAASd,GAAT,CAApB;AACA,SAAOyxB,YAAY,CAAClvB,KAAD,CAAZ,GAAsBA,KAAtB,GAA8BzD,SAArC;AACD;;AAEDyL,MAAM,CAAC/M,OAAP,GAAiB4vB,SAAjB,C;;;;;;;;;;;AChBA,IAAIuK,OAAO,GAAGz6B,mBAAO,CAAC,qDAAD,CAArB;AAEA;;;AACA,IAAI06B,YAAY,GAAGD,OAAO,CAACh4B,MAAM,CAACk4B,cAAR,EAAwBl4B,MAAxB,CAA1B;AAEA4K,MAAM,CAAC/M,OAAP,GAAiBo6B,YAAjB,C;;;;;;;;;;;ACLA,IAAIv4B,OAAM,GAAGnC,mBAAO,CAAC,mDAAD,CAApB;AAEA;;;AACA,IAAI0xB,WAAW,GAAGjvB,MAAM,CAACF,SAAzB;AAEA;;AACA,IAAIQ,cAAc,GAAG2uB,WAAW,CAAC3uB,cAAjC;AAEA;;;;;;AAKA,IAAI63B,oBAAoB,GAAGlJ,WAAW,CAACrtB,QAAvC;AAEA;;AACA,IAAIovB,cAAc,GAAGtxB,OAAM,GAAGA,OAAM,CAACuxB,WAAV,GAAwB9xB,SAAnD;AAEA;;;;;;;;AAOA,SAASyxB,SAAT,CAAmBhuB,KAAnB,EAA0B;AACxB,MAAIw1B,KAAK,GAAG93B,cAAc,CAACC,IAAf,CAAoBqC,KAApB,EAA2BouB,cAA3B,CAAZ;AAAA,MACIqH,GAAG,GAAGz1B,KAAK,CAACouB,cAAD,CADf;;AAGA,MAAI;AACFpuB,SAAK,CAACouB,cAAD,CAAL,GAAwB7xB,SAAxB;AACA,QAAIm5B,QAAQ,GAAG,IAAf;AACD,GAHD,CAGE,OAAO/d,CAAP,EAAU,CAAE;;AAEd,MAAI5U,MAAM,GAAGwyB,oBAAoB,CAAC53B,IAArB,CAA0BqC,KAA1B,CAAb;;AACA,MAAI01B,QAAJ,EAAc;AACZ,QAAIF,KAAJ,EAAW;AACTx1B,WAAK,CAACouB,cAAD,CAAL,GAAwBqH,GAAxB;AACD,KAFD,MAEO;AACL,aAAOz1B,KAAK,CAACouB,cAAD,CAAZ;AACD;AACF;;AACD,SAAOrrB,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiB+yB,SAAjB,C;;;;;;;;;;;AC7CA;;;;;;;;AAQA,SAASmH,QAAT,CAAkB52B,MAAlB,EAA0Bd,GAA1B,EAA+B;AAC7B,SAAOc,MAAM,IAAI,IAAV,GAAiBhC,SAAjB,GAA6BgC,MAAM,CAACd,GAAD,CAA1C;AACD;;AAEDuK,MAAM,CAAC/M,OAAP,GAAiBk6B,QAAjB,C;;;;;;;;;;;ACZA,IAAIQ,YAAY,GAAGh7B,mBAAO,CAAC,+DAAD,CAA1B;AAEA;;;;;;;;;AAOA,SAASovB,SAAT,GAAqB;AACnB,OAAK6B,QAAL,GAAgB+J,YAAY,GAAGA,YAAY,CAAC,IAAD,CAAf,GAAwB,EAApD;AACA,OAAK9J,IAAL,GAAY,CAAZ;AACD;;AAED7jB,MAAM,CAAC/M,OAAP,GAAiB8uB,SAAjB,C;;;;;;;;;;;ACdA;;;;;;;;;;AAUA,SAASC,UAAT,CAAoBvsB,GAApB,EAAyB;AACvB,MAAIsF,MAAM,GAAG,KAAKunB,GAAL,CAAS7sB,GAAT,KAAiB,OAAO,KAAKmuB,QAAL,CAAcnuB,GAAd,CAArC;AACA,OAAKouB,IAAL,IAAa9oB,MAAM,GAAG,CAAH,GAAO,CAA1B;AACA,SAAOA,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiB+uB,UAAjB,C;;;;;;;;;;;AChBA,IAAI2L,YAAY,GAAGh7B,mBAAO,CAAC,+DAAD,CAA1B;AAEA;;;AACA,IAAIi7B,cAAc,GAAG,2BAArB;AAEA;;AACA,IAAIvJ,WAAW,GAAGjvB,MAAM,CAACF,SAAzB;AAEA;;AACA,IAAIQ,cAAc,GAAG2uB,WAAW,CAAC3uB,cAAjC;AAEA;;;;;;;;;;AASA,SAASusB,OAAT,CAAiBxsB,GAAjB,EAAsB;AACpB,MAAIwN,IAAI,GAAG,KAAK2gB,QAAhB;;AACA,MAAI+J,YAAJ,EAAkB;AAChB,QAAI5yB,MAAM,GAAGkI,IAAI,CAACxN,GAAD,CAAjB;AACA,WAAOsF,MAAM,KAAK6yB,cAAX,GAA4Br5B,SAA5B,GAAwCwG,MAA/C;AACD;;AACD,SAAOrF,cAAc,CAACC,IAAf,CAAoBsN,IAApB,EAA0BxN,GAA1B,IAAiCwN,IAAI,CAACxN,GAAD,CAArC,GAA6ClB,SAApD;AACD;;AAEDyL,MAAM,CAAC/M,OAAP,GAAiBgvB,OAAjB,C;;;;;;;;;;;AC7BA,IAAI0L,YAAY,GAAGh7B,mBAAO,CAAC,+DAAD,CAA1B;AAEA;;;AACA,IAAI0xB,WAAW,GAAGjvB,MAAM,CAACF,SAAzB;AAEA;;AACA,IAAIQ,cAAc,GAAG2uB,WAAW,CAAC3uB,cAAjC;AAEA;;;;;;;;;;AASA,SAASwsB,OAAT,CAAiBzsB,GAAjB,EAAsB;AACpB,MAAIwN,IAAI,GAAG,KAAK2gB,QAAhB;AACA,SAAO+J,YAAY,GAAI1qB,IAAI,CAACxN,GAAD,CAAJ,KAAclB,SAAlB,GAA+BmB,cAAc,CAACC,IAAf,CAAoBsN,IAApB,EAA0BxN,GAA1B,CAAlD;AACD;;AAEDuK,MAAM,CAAC/M,OAAP,GAAiBivB,OAAjB,C;;;;;;;;;;;ACtBA,IAAIyL,YAAY,GAAGh7B,mBAAO,CAAC,+DAAD,CAA1B;AAEA;;;AACA,IAAIi7B,cAAc,GAAG,2BAArB;AAEA;;;;;;;;;;;AAUA,SAASzL,OAAT,CAAiB1sB,GAAjB,EAAsBuC,KAAtB,EAA6B;AAC3B,MAAIiL,IAAI,GAAG,KAAK2gB,QAAhB;AACA,OAAKC,IAAL,IAAa,KAAKvB,GAAL,CAAS7sB,GAAT,IAAgB,CAAhB,GAAoB,CAAjC;AACAwN,MAAI,CAACxN,GAAD,CAAJ,GAAak4B,YAAY,IAAI31B,KAAK,KAAKzD,SAA3B,GAAwCq5B,cAAxC,GAAyD51B,KAArE;AACA,SAAO,IAAP;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBkvB,OAAjB,C;;;;;;;;;;;ACtBA,IAAIsD,UAAU,GAAG9yB,mBAAO,CAAC,2DAAD,CAAxB;AAAA,IACI06B,YAAY,GAAG16B,mBAAO,CAAC,+DAAD,CAD1B;AAAA,IAEIm2B,WAAW,GAAGn2B,mBAAO,CAAC,6DAAD,CAFzB;AAIA;;;;;;;;;AAOA,SAASm3B,eAAT,CAAyBvzB,MAAzB,EAAiC;AAC/B,SAAQ,OAAOA,MAAM,CAACtB,WAAd,IAA6B,UAA7B,IAA2C,CAAC6zB,WAAW,CAACvyB,MAAD,CAAxD,GACHkvB,UAAU,CAAC4H,YAAY,CAAC92B,MAAD,CAAb,CADP,GAEH,EAFJ;AAGD;;AAEDyJ,MAAM,CAAC/M,OAAP,GAAiB62B,eAAjB,C;;;;;;;;;;;;;ACjBA;AACA,IAAI+D,gBAAgB,GAAG,gBAAvB;AAEA;;AACA,IAAIC,QAAQ,GAAG,kBAAf;AAEA;;;;;;;;;AAQA,SAASrb,OAAT,CAAiBza,KAAjB,EAAwB9D,MAAxB,EAAgC;AAC9B,MAAI1B,IAAI,WAAUwF,KAAV,CAAR;;AACA9D,QAAM,GAAGA,MAAM,IAAI,IAAV,GAAiB25B,gBAAjB,GAAoC35B,MAA7C;AAEA,SAAO,CAAC,CAACA,MAAF,KACJ1B,IAAI,IAAI,QAAR,IACEA,IAAI,IAAI,QAAR,IAAoBs7B,QAAQ,CAAC7iB,IAAT,CAAcjT,KAAd,CAFlB,KAGAA,KAAK,GAAG,CAAC,CAAT,IAAcA,KAAK,GAAG,CAAR,IAAa,CAA3B,IAAgCA,KAAK,GAAG9D,MAH/C;AAID;;AAED8L,MAAM,CAAC/M,OAAP,GAAiBwf,OAAjB,C;;;;;;;;;;;;;ACxBA,IAAIyS,EAAE,GAAGvyB,mBAAO,CAAC,yCAAD,CAAhB;AAAA,IACIo7B,WAAW,GAAGp7B,mBAAO,CAAC,2DAAD,CADzB;AAAA,IAEI8f,OAAO,GAAG9f,mBAAO,CAAC,qDAAD,CAFrB;AAAA,IAGIgM,QAAQ,GAAGhM,mBAAO,CAAC,qDAAD,CAHtB;AAKA;;;;;;;;;;;;AAUA,SAAS65B,cAAT,CAAwBx0B,KAAxB,EAA+BL,KAA/B,EAAsCpB,MAAtC,EAA8C;AAC5C,MAAI,CAACoI,QAAQ,CAACpI,MAAD,CAAb,EAAuB;AACrB,WAAO,KAAP;AACD;;AACD,MAAI/D,IAAI,WAAUmF,KAAV,CAAR;;AACA,MAAInF,IAAI,IAAI,QAAR,GACKu7B,WAAW,CAACx3B,MAAD,CAAX,IAAuBkc,OAAO,CAAC9a,KAAD,EAAQpB,MAAM,CAACrC,MAAf,CADnC,GAEK1B,IAAI,IAAI,QAAR,IAAoBmF,KAAK,IAAIpB,MAFtC,EAGM;AACJ,WAAO2uB,EAAE,CAAC3uB,MAAM,CAACoB,KAAD,CAAP,EAAgBK,KAAhB,CAAT;AACD;;AACD,SAAO,KAAP;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBu5B,cAAjB,C;;;;;;;;;;;;;AC7BA,IAAIn1B,OAAO,GAAG1E,mBAAO,CAAC,mDAAD,CAArB;AAAA,IACIq4B,QAAQ,GAAGr4B,mBAAO,CAAC,qDAAD,CADtB;AAGA;;;AACA,IAAIq7B,YAAY,GAAG,kDAAnB;AAAA,IACIC,aAAa,GAAG,OADpB;AAGA;;;;;;;;;AAQA,SAAS3C,KAAT,CAAetzB,KAAf,EAAsBzB,MAAtB,EAA8B;AAC5B,MAAIc,OAAO,CAACW,KAAD,CAAX,EAAoB;AAClB,WAAO,KAAP;AACD;;AACD,MAAIxF,IAAI,WAAUwF,KAAV,CAAR;;AACA,MAAIxF,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,QAA5B,IAAwCA,IAAI,IAAI,SAAhD,IACAwF,KAAK,IAAI,IADT,IACiBgzB,QAAQ,CAAChzB,KAAD,CAD7B,EACsC;AACpC,WAAO,IAAP;AACD;;AACD,SAAOi2B,aAAa,CAAChjB,IAAd,CAAmBjT,KAAnB,KAA6B,CAACg2B,YAAY,CAAC/iB,IAAb,CAAkBjT,KAAlB,CAA9B,IACJzB,MAAM,IAAI,IAAV,IAAkByB,KAAK,IAAI5C,MAAM,CAACmB,MAAD,CADpC;AAED;;AAEDyJ,MAAM,CAAC/M,OAAP,GAAiBq4B,KAAjB,C;;;;;;;;;;;;;AC5BA;;;;;;;AAOA,SAAS2B,SAAT,CAAmBj1B,KAAnB,EAA0B;AACxB,MAAIxF,IAAI,WAAUwF,KAAV,CAAR;;AACA,SAAQxF,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,QAA5B,IAAwCA,IAAI,IAAI,QAAhD,IAA4DA,IAAI,IAAI,SAArE,GACFwF,KAAK,KAAK,WADR,GAEFA,KAAK,KAAK,IAFf;AAGD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBg6B,SAAjB,C;;;;;;;;;;;ACdA,IAAIV,UAAU,GAAG55B,mBAAO,CAAC,2DAAD,CAAxB;AAEA;;;AACA,IAAIu7B,UAAU,GAAI,YAAW;AAC3B,MAAIC,GAAG,GAAG,SAASC,IAAT,CAAc7B,UAAU,IAAIA,UAAU,CAACh1B,IAAzB,IAAiCg1B,UAAU,CAACh1B,IAAX,CAAgB82B,QAAjD,IAA6D,EAA3E,CAAV;AACA,SAAOF,GAAG,GAAI,mBAAmBA,GAAvB,GAA8B,EAAxC;AACD,CAHiB,EAAlB;AAKA;;;;;;;;;AAOA,SAASzH,QAAT,CAAkB3C,IAAlB,EAAwB;AACtB,SAAO,CAAC,CAACmK,UAAF,IAAiBA,UAAU,IAAInK,IAAtC;AACD;;AAED/jB,MAAM,CAAC/M,OAAP,GAAiByzB,QAAjB,C;;;;;;;;;;;ACnBA;AACA,IAAIrC,WAAW,GAAGjvB,MAAM,CAACF,SAAzB;AAEA;;;;;;;;AAOA,SAAS4zB,WAAT,CAAqB9wB,KAArB,EAA4B;AAC1B,MAAIs2B,IAAI,GAAGt2B,KAAK,IAAIA,KAAK,CAAC/C,WAA1B;AAAA,MACIywB,KAAK,GAAI,OAAO4I,IAAP,IAAe,UAAf,IAA6BA,IAAI,CAACp5B,SAAnC,IAAiDmvB,WAD7D;AAGA,SAAOrsB,KAAK,KAAK0tB,KAAjB;AACD;;AAED1lB,MAAM,CAAC/M,OAAP,GAAiB61B,WAAjB,C;;;;;;;;;;;ACjBA;;;;;;;AAOA,SAASvG,cAAT,GAA0B;AACxB,OAAKqB,QAAL,GAAgB,EAAhB;AACA,OAAKC,IAAL,GAAY,CAAZ;AACD;;AAED7jB,MAAM,CAAC/M,OAAP,GAAiBsvB,cAAjB,C;;;;;;;;;;;ACZA,IAAI+C,YAAY,GAAG3yB,mBAAO,CAAC,+DAAD,CAA1B;AAEA;;;AACA,IAAI47B,UAAU,GAAGn6B,KAAK,CAACc,SAAvB;AAEA;;AACA,IAAI0H,MAAM,GAAG2xB,UAAU,CAAC3xB,MAAxB;AAEA;;;;;;;;;;AASA,SAAS4lB,eAAT,CAAyB/sB,GAAzB,EAA8B;AAC5B,MAAIwN,IAAI,GAAG,KAAK2gB,QAAhB;AAAA,MACIjsB,KAAK,GAAG2tB,YAAY,CAACriB,IAAD,EAAOxN,GAAP,CADxB;;AAGA,MAAIkC,KAAK,GAAG,CAAZ,EAAe;AACb,WAAO,KAAP;AACD;;AACD,MAAIizB,SAAS,GAAG3nB,IAAI,CAAC/O,MAAL,GAAc,CAA9B;;AACA,MAAIyD,KAAK,IAAIizB,SAAb,EAAwB;AACtB3nB,QAAI,CAACurB,GAAL;AACD,GAFD,MAEO;AACL5xB,UAAM,CAACjH,IAAP,CAAYsN,IAAZ,EAAkBtL,KAAlB,EAAyB,CAAzB;AACD;;AACD,IAAE,KAAKksB,IAAP;AACA,SAAO,IAAP;AACD;;AAED7jB,MAAM,CAAC/M,OAAP,GAAiBuvB,eAAjB,C;;;;;;;;;;;AClCA,IAAI8C,YAAY,GAAG3yB,mBAAO,CAAC,+DAAD,CAA1B;AAEA;;;;;;;;;;;AASA,SAAS8vB,YAAT,CAAsBhtB,GAAtB,EAA2B;AACzB,MAAIwN,IAAI,GAAG,KAAK2gB,QAAhB;AAAA,MACIjsB,KAAK,GAAG2tB,YAAY,CAACriB,IAAD,EAAOxN,GAAP,CADxB;AAGA,SAAOkC,KAAK,GAAG,CAAR,GAAYpD,SAAZ,GAAwB0O,IAAI,CAACtL,KAAD,CAAJ,CAAY,CAAZ,CAA/B;AACD;;AAEDqI,MAAM,CAAC/M,OAAP,GAAiBwvB,YAAjB,C;;;;;;;;;;;AClBA,IAAI6C,YAAY,GAAG3yB,mBAAO,CAAC,+DAAD,CAA1B;AAEA;;;;;;;;;;;AASA,SAAS+vB,YAAT,CAAsBjtB,GAAtB,EAA2B;AACzB,SAAO6vB,YAAY,CAAC,KAAK1B,QAAN,EAAgBnuB,GAAhB,CAAZ,GAAmC,CAAC,CAA3C;AACD;;AAEDuK,MAAM,CAAC/M,OAAP,GAAiByvB,YAAjB,C;;;;;;;;;;;ACfA,IAAI4C,YAAY,GAAG3yB,mBAAO,CAAC,+DAAD,CAA1B;AAEA;;;;;;;;;;;;AAUA,SAASgwB,YAAT,CAAsBltB,GAAtB,EAA2BuC,KAA3B,EAAkC;AAChC,MAAIiL,IAAI,GAAG,KAAK2gB,QAAhB;AAAA,MACIjsB,KAAK,GAAG2tB,YAAY,CAACriB,IAAD,EAAOxN,GAAP,CADxB;;AAGA,MAAIkC,KAAK,GAAG,CAAZ,EAAe;AACb,MAAE,KAAKksB,IAAP;AACA5gB,QAAI,CAACtI,IAAL,CAAU,CAAClF,GAAD,EAAMuC,KAAN,CAAV;AACD,GAHD,MAGO;AACLiL,QAAI,CAACtL,KAAD,CAAJ,CAAY,CAAZ,IAAiBK,KAAjB;AACD;;AACD,SAAO,IAAP;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiB0vB,YAAjB,C;;;;;;;;;;;ACzBA,IAAIP,IAAI,GAAGzvB,mBAAO,CAAC,+CAAD,CAAlB;AAAA,IACIiwB,SAAS,GAAGjwB,mBAAO,CAAC,yDAAD,CADvB;AAAA,IAEIowB,GAAG,GAAGpwB,mBAAO,CAAC,6CAAD,CAFjB;AAIA;;;;;;;;;AAOA,SAASqwB,aAAT,GAAyB;AACvB,OAAKa,IAAL,GAAY,CAAZ;AACA,OAAKD,QAAL,GAAgB;AACd,YAAQ,IAAIxB,IAAJ,EADM;AAEd,WAAO,KAAKW,GAAG,IAAIH,SAAZ,GAFO;AAGd,cAAU,IAAIR,IAAJ;AAHI,GAAhB;AAKD;;AAEDpiB,MAAM,CAAC/M,OAAP,GAAiB+vB,aAAjB,C;;;;;;;;;;;ACpBA,IAAIkK,UAAU,GAAGv6B,mBAAO,CAAC,2DAAD,CAAxB;AAEA;;;;;;;;;;;AASA,SAASswB,cAAT,CAAwBxtB,GAAxB,EAA6B;AAC3B,MAAIsF,MAAM,GAAGmyB,UAAU,CAAC,IAAD,EAAOz3B,GAAP,CAAV,CAAsB,QAAtB,EAAgCA,GAAhC,CAAb;AACA,OAAKouB,IAAL,IAAa9oB,MAAM,GAAG,CAAH,GAAO,CAA1B;AACA,SAAOA,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiBgwB,cAAjB,C;;;;;;;;;;;ACjBA,IAAIiK,UAAU,GAAGv6B,mBAAO,CAAC,2DAAD,CAAxB;AAEA;;;;;;;;;;;AASA,SAASuwB,WAAT,CAAqBztB,GAArB,EAA0B;AACxB,SAAOy3B,UAAU,CAAC,IAAD,EAAOz3B,GAAP,CAAV,CAAsBsO,GAAtB,CAA0BtO,GAA1B,CAAP;AACD;;AAEDuK,MAAM,CAAC/M,OAAP,GAAiBiwB,WAAjB,C;;;;;;;;;;;ACfA,IAAIgK,UAAU,GAAGv6B,mBAAO,CAAC,2DAAD,CAAxB;AAEA;;;;;;;;;;;AASA,SAASwwB,WAAT,CAAqB1tB,GAArB,EAA0B;AACxB,SAAOy3B,UAAU,CAAC,IAAD,EAAOz3B,GAAP,CAAV,CAAsB6sB,GAAtB,CAA0B7sB,GAA1B,CAAP;AACD;;AAEDuK,MAAM,CAAC/M,OAAP,GAAiBkwB,WAAjB,C;;;;;;;;;;;ACfA,IAAI+J,UAAU,GAAGv6B,mBAAO,CAAC,2DAAD,CAAxB;AAEA;;;;;;;;;;;;AAUA,SAASywB,WAAT,CAAqB3tB,GAArB,EAA0BuC,KAA1B,EAAiC;AAC/B,MAAIiL,IAAI,GAAGiqB,UAAU,CAAC,IAAD,EAAOz3B,GAAP,CAArB;AAAA,MACIouB,IAAI,GAAG5gB,IAAI,CAAC4gB,IADhB;AAGA5gB,MAAI,CAACe,GAAL,CAASvO,GAAT,EAAcuC,KAAd;AACA,OAAK6rB,IAAL,IAAa5gB,IAAI,CAAC4gB,IAAL,IAAaA,IAAb,GAAoB,CAApB,GAAwB,CAArC;AACA,SAAO,IAAP;AACD;;AAED7jB,MAAM,CAAC/M,OAAP,GAAiBmwB,WAAjB,C;;;;;;;;;;;ACrBA,IAAIqL,OAAO,GAAG97B,mBAAO,CAAC,mDAAD,CAArB;AAEA;;;AACA,IAAI+7B,gBAAgB,GAAG,GAAvB;AAEA;;;;;;;;;AAQA,SAASC,aAAT,CAAuB5K,IAAvB,EAA6B;AAC3B,MAAIhpB,MAAM,GAAG0zB,OAAO,CAAC1K,IAAD,EAAO,UAAStuB,GAAT,EAAc;AACvC,QAAIqoB,KAAK,CAAC+F,IAAN,KAAe6K,gBAAnB,EAAqC;AACnC5Q,WAAK,CAACuE,KAAN;AACD;;AACD,WAAO5sB,GAAP;AACD,GALmB,CAApB;AAOA,MAAIqoB,KAAK,GAAG/iB,MAAM,CAAC+iB,KAAnB;AACA,SAAO/iB,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiB07B,aAAjB,C;;;;;;;;;;;ACzBA,IAAI9L,SAAS,GAAGlwB,mBAAO,CAAC,yDAAD,CAAvB;AAEA;;;AACA,IAAIg7B,YAAY,GAAG9K,SAAS,CAACztB,MAAD,EAAS,QAAT,CAA5B;AAEA4K,MAAM,CAAC/M,OAAP,GAAiB06B,YAAjB,C;;;;;;;;;;;ACLA;;;;;;;;;AASA,SAAS5E,YAAT,CAAsBxyB,MAAtB,EAA8B;AAC5B,MAAIwE,MAAM,GAAG,EAAb;;AACA,MAAIxE,MAAM,IAAI,IAAd,EAAoB;AAClB,SAAK,IAAId,GAAT,IAAgBL,MAAM,CAACmB,MAAD,CAAtB,EAAgC;AAC9BwE,YAAM,CAACJ,IAAP,CAAYlF,GAAZ;AACD;AACF;;AACD,SAAOsF,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiB81B,YAAjB,C;;;;;;;;;;;;;ACnBA,IAAIiE,UAAU,GAAGr6B,mBAAO,CAAC,2DAAD,CAAxB;AAEA;;;AACA,IAAIg5B,WAAW,GAAG,8BAAO14B,OAAP,MAAkB,QAAlB,IAA8BA,OAA9B,IAAyC,CAACA,OAAO,CAACgT,QAAlD,IAA8DhT,OAAhF;AAEA;;AACA,IAAI24B,UAAU,GAAGD,WAAW,IAAI,8BAAO3rB,MAAP,MAAiB,QAAhC,IAA4CA,MAA5C,IAAsD,CAACA,MAAM,CAACiG,QAA9D,IAA0EjG,MAA3F;AAEA;;AACA,IAAI6rB,aAAa,GAAGD,UAAU,IAAIA,UAAU,CAAC34B,OAAX,KAAuB04B,WAAzD;AAEA;;AACA,IAAIiD,WAAW,GAAG/C,aAAa,IAAImB,UAAU,CAACv2B,OAA9C;AAEA;;AACA,IAAIo4B,QAAQ,GAAI,YAAW;AACzB,MAAI;AACF;AACA,QAAIC,KAAK,GAAGlD,UAAU,IAAIA,UAAU,CAACj5B,OAAzB,IAAoCi5B,UAAU,CAACj5B,OAAX,CAAmB,MAAnB,EAA2Bm8B,KAA3E;;AAEA,QAAIA,KAAJ,EAAW;AACT,aAAOA,KAAP;AACD,KANC,CAQF;;;AACA,WAAOF,WAAW,IAAIA,WAAW,CAACG,OAA3B,IAAsCH,WAAW,CAACG,OAAZ,CAAoB,MAApB,CAA7C;AACD,GAVD,CAUE,OAAOpf,CAAP,EAAU,CAAE;AACf,CAZe,EAAhB;;AAcA3P,MAAM,CAAC/M,OAAP,GAAiB47B,QAAjB,C;;;;;;;;;;;;AC7BA;AACA,IAAIxK,WAAW,GAAGjvB,MAAM,CAACF,SAAzB;AAEA;;;;;;AAKA,IAAIq4B,oBAAoB,GAAGlJ,WAAW,CAACrtB,QAAvC;AAEA;;;;;;;;AAOA,SAASivB,cAAT,CAAwBjuB,KAAxB,EAA+B;AAC7B,SAAOu1B,oBAAoB,CAAC53B,IAArB,CAA0BqC,KAA1B,CAAP;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBgzB,cAAjB,C;;;;;;;;;;;ACrBA;;;;;;;;AAQA,SAASmH,OAAT,CAAiBrJ,IAAjB,EAAuBiL,SAAvB,EAAkC;AAChC,SAAO,UAASC,GAAT,EAAc;AACnB,WAAOlL,IAAI,CAACiL,SAAS,CAACC,GAAD,CAAV,CAAX;AACD,GAFD;AAGD;;AAEDjvB,MAAM,CAAC/M,OAAP,GAAiBm6B,OAAjB,C;;;;;;;;;;;ACdA,IAAI94B,KAAK,GAAG3B,mBAAO,CAAC,iDAAD,CAAnB;AAEA;;;AACA,IAAIu8B,SAAS,GAAGxzB,IAAI,CAACyzB,GAArB;AAEA;;;;;;;;;;AASA,SAAS5E,QAAT,CAAkBxG,IAAlB,EAAwB2G,KAAxB,EAA+BsE,SAA/B,EAA0C;AACxCtE,OAAK,GAAGwE,SAAS,CAACxE,KAAK,KAAKn2B,SAAV,GAAuBwvB,IAAI,CAAC7vB,MAAL,GAAc,CAArC,GAA0Cw2B,KAA3C,EAAkD,CAAlD,CAAjB;AACA,SAAO,YAAW;AAChB,QAAIv2B,IAAI,GAAGF,SAAX;AAAA,QACI0D,KAAK,GAAG,CAAC,CADb;AAAA,QAEIzD,MAAM,GAAGg7B,SAAS,CAAC/6B,IAAI,CAACD,MAAL,GAAcw2B,KAAf,EAAsB,CAAtB,CAFtB;AAAA,QAGI3F,KAAK,GAAG3wB,KAAK,CAACF,MAAD,CAHjB;;AAKA,WAAO,EAAEyD,KAAF,GAAUzD,MAAjB,EAAyB;AACvB6wB,WAAK,CAACptB,KAAD,CAAL,GAAexD,IAAI,CAACu2B,KAAK,GAAG/yB,KAAT,CAAnB;AACD;;AACDA,SAAK,GAAG,CAAC,CAAT;AACA,QAAIy3B,SAAS,GAAGh7B,KAAK,CAACs2B,KAAK,GAAG,CAAT,CAArB;;AACA,WAAO,EAAE/yB,KAAF,GAAU+yB,KAAjB,EAAwB;AACtB0E,eAAS,CAACz3B,KAAD,CAAT,GAAmBxD,IAAI,CAACwD,KAAD,CAAvB;AACD;;AACDy3B,aAAS,CAAC1E,KAAD,CAAT,GAAmBsE,SAAS,CAACjK,KAAD,CAA5B;AACA,WAAOzwB,KAAK,CAACyvB,IAAD,EAAO,IAAP,EAAaqL,SAAb,CAAZ;AACD,GAhBD;AAiBD;;AAEDpvB,MAAM,CAAC/M,OAAP,GAAiBs3B,QAAjB,C;;;;;;;;;;;;;ACnCA,IAAIyC,UAAU,GAAGr6B,mBAAO,CAAC,2DAAD,CAAxB;AAEA;;;AACA,IAAI08B,QAAQ,GAAG,QAAOC,IAAP,yCAAOA,IAAP,MAAe,QAAf,IAA2BA,IAA3B,IAAmCA,IAAI,CAACl6B,MAAL,KAAgBA,MAAnD,IAA6Dk6B,IAA5E;AAEA;;AACA,IAAIxM,IAAI,GAAGkK,UAAU,IAAIqC,QAAd,IAA0BtI,QAAQ,CAAC,aAAD,CAAR,EAArC;AAEA/mB,MAAM,CAAC/M,OAAP,GAAiB6vB,IAAjB,C;;;;;;;;;;;ACRA;;;;;;;;AAQA,SAASsG,OAAT,CAAiB7yB,MAAjB,EAAyBd,GAAzB,EAA8B;AAC5B,MAAIA,GAAG,KAAK,aAAR,IAAyB,OAAOc,MAAM,CAACd,GAAD,CAAb,KAAuB,UAApD,EAAgE;AAC9D;AACD;;AAED,MAAIA,GAAG,IAAI,WAAX,EAAwB;AACtB;AACD;;AAED,SAAOc,MAAM,CAACd,GAAD,CAAb;AACD;;AAEDuK,MAAM,CAAC/M,OAAP,GAAiBm2B,OAAjB,C;;;;;;;;;;;ACpBA,IAAI2B,eAAe,GAAGp4B,mBAAO,CAAC,qEAAD,CAA7B;AAAA,IACI48B,QAAQ,GAAG58B,mBAAO,CAAC,uDAAD,CADtB;AAGA;;;;;;;;;;AAQA,IAAI63B,WAAW,GAAG+E,QAAQ,CAACxE,eAAD,CAA1B;AAEA/qB,MAAM,CAAC/M,OAAP,GAAiBu3B,WAAjB,C;;;;;;;;;;;ACbA;AACA,IAAIgF,SAAS,GAAG,GAAhB;AAAA,IACIC,QAAQ,GAAG,EADf;AAGA;;AACA,IAAIC,SAAS,GAAGC,IAAI,CAACC,GAArB;AAEA;;;;;;;;;;AASA,SAASL,QAAT,CAAkBxL,IAAlB,EAAwB;AACtB,MAAIxT,KAAK,GAAG,CAAZ;AAAA,MACIsf,UAAU,GAAG,CADjB;AAGA,SAAO,YAAW;AAChB,QAAIC,KAAK,GAAGJ,SAAS,EAArB;AAAA,QACIK,SAAS,GAAGN,QAAQ,IAAIK,KAAK,GAAGD,UAAZ,CADxB;AAGAA,cAAU,GAAGC,KAAb;;AACA,QAAIC,SAAS,GAAG,CAAhB,EAAmB;AACjB,UAAI,EAAExf,KAAF,IAAWif,SAAf,EAA0B;AACxB,eAAOv7B,SAAS,CAAC,CAAD,CAAhB;AACD;AACF,KAJD,MAIO;AACLsc,WAAK,GAAG,CAAR;AACD;;AACD,WAAOwT,IAAI,CAACzvB,KAAL,CAAWC,SAAX,EAAsBN,SAAtB,CAAP;AACD,GAbD;AAcD;;AAED+L,MAAM,CAAC/M,OAAP,GAAiBs8B,QAAjB,C;;;;;;;;;;;ACpCA,IAAI3M,SAAS,GAAGjwB,mBAAO,CAAC,yDAAD,CAAvB;AAEA;;;;;;;;;AAOA,SAAS2wB,UAAT,GAAsB;AACpB,OAAKM,QAAL,GAAgB,IAAIhB,SAAJ,EAAhB;AACA,OAAKiB,IAAL,GAAY,CAAZ;AACD;;AAED7jB,MAAM,CAAC/M,OAAP,GAAiBqwB,UAAjB,C;;;;;;;;;;;ACdA;;;;;;;;;AASA,SAASC,WAAT,CAAqB9tB,GAArB,EAA0B;AACxB,MAAIwN,IAAI,GAAG,KAAK2gB,QAAhB;AAAA,MACI7oB,MAAM,GAAGkI,IAAI,CAAC,QAAD,CAAJ,CAAexN,GAAf,CADb;AAGA,OAAKouB,IAAL,GAAY5gB,IAAI,CAAC4gB,IAAjB;AACA,SAAO9oB,MAAP;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiBswB,WAAjB,C;;;;;;;;;;;ACjBA;;;;;;;;;AASA,SAASC,QAAT,CAAkB/tB,GAAlB,EAAuB;AACrB,SAAO,KAAKmuB,QAAL,CAAc7f,GAAd,CAAkBtO,GAAlB,CAAP;AACD;;AAEDuK,MAAM,CAAC/M,OAAP,GAAiBuwB,QAAjB,C;;;;;;;;;;;ACbA;;;;;;;;;AASA,SAASC,QAAT,CAAkBhuB,GAAlB,EAAuB;AACrB,SAAO,KAAKmuB,QAAL,CAActB,GAAd,CAAkB7sB,GAAlB,CAAP;AACD;;AAEDuK,MAAM,CAAC/M,OAAP,GAAiBwwB,QAAjB,C;;;;;;;;;;;ACbA,IAAIb,SAAS,GAAGjwB,mBAAO,CAAC,yDAAD,CAAvB;AAAA,IACIowB,GAAG,GAAGpwB,mBAAO,CAAC,6CAAD,CADjB;AAAA,IAEI0wB,QAAQ,GAAG1wB,mBAAO,CAAC,uDAAD,CAFtB;AAIA;;;AACA,IAAIq9B,gBAAgB,GAAG,GAAvB;AAEA;;;;;;;;;;;AAUA,SAAStM,QAAT,CAAkBjuB,GAAlB,EAAuBuC,KAAvB,EAA8B;AAC5B,MAAIiL,IAAI,GAAG,KAAK2gB,QAAhB;;AACA,MAAI3gB,IAAI,YAAY2f,SAApB,EAA+B;AAC7B,QAAIqN,KAAK,GAAGhtB,IAAI,CAAC2gB,QAAjB;;AACA,QAAI,CAACb,GAAD,IAASkN,KAAK,CAAC/7B,MAAN,GAAe87B,gBAAgB,GAAG,CAA/C,EAAmD;AACjDC,WAAK,CAACt1B,IAAN,CAAW,CAAClF,GAAD,EAAMuC,KAAN,CAAX;AACA,WAAK6rB,IAAL,GAAY,EAAE5gB,IAAI,CAAC4gB,IAAnB;AACA,aAAO,IAAP;AACD;;AACD5gB,QAAI,GAAG,KAAK2gB,QAAL,GAAgB,IAAIP,QAAJ,CAAa4M,KAAb,CAAvB;AACD;;AACDhtB,MAAI,CAACe,GAAL,CAASvO,GAAT,EAAcuC,KAAd;AACA,OAAK6rB,IAAL,GAAY5gB,IAAI,CAAC4gB,IAAjB;AACA,SAAO,IAAP;AACD;;AAED7jB,MAAM,CAAC/M,OAAP,GAAiBywB,QAAjB,C;;;;;;;;;;;ACjCA,IAAIiL,aAAa,GAAGh8B,mBAAO,CAAC,iEAAD,CAA3B;AAEA;;;AACA,IAAIu9B,UAAU,GAAG,kGAAjB;AAEA;;AACA,IAAIC,YAAY,GAAG,UAAnB;AAEA;;;;;;;;AAOA,IAAI5E,YAAY,GAAGoD,aAAa,CAAC,UAASh2B,MAAT,EAAiB;AAChD,MAAIoC,MAAM,GAAG,EAAb;;AACA,MAAIpC,MAAM,CAACy3B,UAAP,CAAkB,CAAlB,MAAyB;AAAG;AAAhC,IAAyC;AACvCr1B,YAAM,CAACJ,IAAP,CAAY,EAAZ;AACD;;AACDhC,QAAM,CAACP,OAAP,CAAe83B,UAAf,EAA2B,UAAS53B,KAAT,EAAgB+3B,MAAhB,EAAwBC,KAAxB,EAA+BC,SAA/B,EAA0C;AACnEx1B,UAAM,CAACJ,IAAP,CAAY21B,KAAK,GAAGC,SAAS,CAACn4B,OAAV,CAAkB+3B,YAAlB,EAAgC,IAAhC,CAAH,GAA4CE,MAAM,IAAI/3B,KAAvE;AACD,GAFD;AAGA,SAAOyC,MAAP;AACD,CAT+B,CAAhC;AAWAiF,MAAM,CAAC/M,OAAP,GAAiBs4B,YAAjB,C;;;;;;;;;;;AC1BA,IAAIP,QAAQ,GAAGr4B,mBAAO,CAAC,qDAAD,CAAtB;AAEA;;;AACA,IAAIs4B,QAAQ,GAAG,IAAI,CAAnB;AAEA;;;;;;;;AAOA,SAASnF,KAAT,CAAe9tB,KAAf,EAAsB;AACpB,MAAI,OAAOA,KAAP,IAAgB,QAAhB,IAA4BgzB,QAAQ,CAAChzB,KAAD,CAAxC,EAAiD;AAC/C,WAAOA,KAAP;AACD;;AACD,MAAI+C,MAAM,GAAI/C,KAAK,GAAG,EAAtB;AACA,SAAQ+C,MAAM,IAAI,GAAV,IAAkB,IAAI/C,KAAL,IAAe,CAACizB,QAAlC,GAA8C,IAA9C,GAAqDlwB,MAA5D;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiB6yB,KAAjB,C;;;;;;;;;;;ACpBA;AACA,IAAIgB,SAAS,GAAGC,QAAQ,CAAC7xB,SAAzB;AAEA;;AACA,IAAI8xB,YAAY,GAAGF,SAAS,CAAC9vB,QAA7B;AAEA;;;;;;;;AAOA,SAAS2vB,QAAT,CAAkB5C,IAAlB,EAAwB;AACtB,MAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,QAAI;AACF,aAAOiD,YAAY,CAACrxB,IAAb,CAAkBouB,IAAlB,CAAP;AACD,KAFD,CAEE,OAAOpU,CAAP,EAAU,CAAE;;AACd,QAAI;AACF,aAAQoU,IAAI,GAAG,EAAf;AACD,KAFD,CAEE,OAAOpU,CAAP,EAAU,CAAE;AACf;;AACD,SAAO,EAAP;AACD;;AAED3P,MAAM,CAAC/M,OAAP,GAAiB0zB,QAAjB,C;;;;;;;;;;;ACzBA;;;;;;;;;;;;;;;;;;;AAmBA,SAASmE,QAAT,CAAkB9yB,KAAlB,EAAyB;AACvB,SAAO,YAAW;AAChB,WAAOA,KAAP;AACD,GAFD;AAGD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiB63B,QAAjB,C;;;;;;;;;;;ACzBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAAS5F,EAAT,CAAYltB,KAAZ,EAAmBw4B,KAAnB,EAA0B;AACxB,SAAOx4B,KAAK,KAAKw4B,KAAV,IAAoBx4B,KAAK,KAAKA,KAAV,IAAmBw4B,KAAK,KAAKA,KAAxD;AACD;;AAEDxwB,MAAM,CAAC/M,OAAP,GAAiBiyB,EAAjB,C;;;;;;;;;;;ACpCA,IAAIa,OAAO,GAAGpzB,mBAAO,CAAC,qDAAD,CAArB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAASoR,GAAT,CAAaxN,MAAb,EAAqBG,IAArB,EAA2B+5B,YAA3B,EAAyC;AACvC,MAAI11B,MAAM,GAAGxE,MAAM,IAAI,IAAV,GAAiBhC,SAAjB,GAA6BwxB,OAAO,CAACxvB,MAAD,EAASG,IAAT,CAAjD;AACA,SAAOqE,MAAM,KAAKxG,SAAX,GAAuBk8B,YAAvB,GAAsC11B,MAA7C;AACD;;AAEDiF,MAAM,CAAC/M,OAAP,GAAiB8Q,GAAjB,C;;;;;;;;;;;AChCA;;;;;;;;;;;;;;;;AAgBA,SAASumB,QAAT,CAAkBtyB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBq3B,QAAjB,C;;;;;;;;;;;ACpBA,IAAI7D,eAAe,GAAG9zB,mBAAO,CAAC,qEAAD,CAA7B;AAAA,IACI4zB,YAAY,GAAG5zB,mBAAO,CAAC,6DAAD,CAD1B;AAGA;;;AACA,IAAI0xB,WAAW,GAAGjvB,MAAM,CAACF,SAAzB;AAEA;;AACA,IAAIQ,cAAc,GAAG2uB,WAAW,CAAC3uB,cAAjC;AAEA;;AACA,IAAIg7B,oBAAoB,GAAGrM,WAAW,CAACqM,oBAAvC;AAEA;;;;;;;;;;;;;;;;;;;AAkBA,IAAIxM,WAAW,GAAGuC,eAAe,CAAC,YAAW;AAAE,SAAOxyB,SAAP;AAAmB,CAAhC,EAAD,CAAf,GAAsDwyB,eAAtD,GAAwE,UAASzuB,KAAT,EAAgB;AACxG,SAAOuuB,YAAY,CAACvuB,KAAD,CAAZ,IAAuBtC,cAAc,CAACC,IAAf,CAAoBqC,KAApB,EAA2B,QAA3B,CAAvB,IACL,CAAC04B,oBAAoB,CAAC/6B,IAArB,CAA0BqC,KAA1B,EAAiC,QAAjC,CADH;AAED,CAHD;AAKAgI,MAAM,CAAC/M,OAAP,GAAiBixB,WAAjB,C;;;;;;;;;;;ACnCA;;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAI7sB,OAAO,GAAGjD,KAAK,CAACiD,OAApB;AAEA2I,MAAM,CAAC/M,OAAP,GAAiBoE,OAAjB,C;;;;;;;;;;;ACzBA,IAAI0K,UAAU,GAAGpP,mBAAO,CAAC,yDAAD,CAAxB;AAAA,IACIy0B,QAAQ,GAAGz0B,mBAAO,CAAC,qDAAD,CADtB;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAASo7B,WAAT,CAAqB/1B,KAArB,EAA4B;AAC1B,SAAOA,KAAK,IAAI,IAAT,IAAiBovB,QAAQ,CAACpvB,KAAK,CAAC9D,MAAP,CAAzB,IAA2C,CAAC6N,UAAU,CAAC/J,KAAD,CAA7D;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiB86B,WAAjB,C;;;;;;;;;;;AChCA,IAAIA,WAAW,GAAGp7B,mBAAO,CAAC,2DAAD,CAAzB;AAAA,IACI4zB,YAAY,GAAG5zB,mBAAO,CAAC,6DAAD,CAD1B;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAASo3B,iBAAT,CAA2B/xB,KAA3B,EAAkC;AAChC,SAAOuuB,YAAY,CAACvuB,KAAD,CAAZ,IAAuB+1B,WAAW,CAAC/1B,KAAD,CAAzC;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiB82B,iBAAjB,C;;;;;;;;;;;;;AChCA,IAAIjH,IAAI,GAAGnwB,mBAAO,CAAC,+CAAD,CAAlB;AAAA,IACIg+B,SAAS,GAAGh+B,mBAAO,CAAC,uDAAD,CADvB;AAGA;;;AACA,IAAIg5B,WAAW,GAAG,8BAAO14B,OAAP,MAAkB,QAAlB,IAA8BA,OAA9B,IAAyC,CAACA,OAAO,CAACgT,QAAlD,IAA8DhT,OAAhF;AAEA;;AACA,IAAI24B,UAAU,GAAGD,WAAW,IAAI,8BAAO3rB,MAAP,MAAiB,QAAhC,IAA4CA,MAA5C,IAAsD,CAACA,MAAM,CAACiG,QAA9D,IAA0EjG,MAA3F;AAEA;;AACA,IAAI6rB,aAAa,GAAGD,UAAU,IAAIA,UAAU,CAAC34B,OAAX,KAAuB04B,WAAzD;AAEA;;AACA,IAAIG,MAAM,GAAGD,aAAa,GAAG/I,IAAI,CAACgJ,MAAR,GAAiBv3B,SAA3C;AAEA;;AACA,IAAIq8B,cAAc,GAAG9E,MAAM,GAAGA,MAAM,CAAC3H,QAAV,GAAqB5vB,SAAhD;AAEA;;;;;;;;;;;;;;;;;;AAiBA,IAAI4vB,QAAQ,GAAGyM,cAAc,IAAID,SAAjC;AAEA3wB,MAAM,CAAC/M,OAAP,GAAiBkxB,QAAjB,C;;;;;;;;;;;;ACrCA,IAAImC,UAAU,GAAG3zB,mBAAO,CAAC,2DAAD,CAAxB;AAAA,IACIgM,QAAQ,GAAGhM,mBAAO,CAAC,qDAAD,CADtB;AAGA;;;AACA,IAAIk+B,QAAQ,GAAG,wBAAf;AAAA,IACIpJ,OAAO,GAAG,mBADd;AAAA,IAEIqJ,MAAM,GAAG,4BAFb;AAAA,IAGIC,QAAQ,GAAG,gBAHf;AAKA;;;;;;;;;;;;;;;;;;AAiBA,SAAShvB,UAAT,CAAoB/J,KAApB,EAA2B;AACzB,MAAI,CAAC2G,QAAQ,CAAC3G,KAAD,CAAb,EAAsB;AACpB,WAAO,KAAP;AACD,GAHwB,CAIzB;AACA;;;AACA,MAAIy1B,GAAG,GAAGnH,UAAU,CAACtuB,KAAD,CAApB;AACA,SAAOy1B,GAAG,IAAIhG,OAAP,IAAkBgG,GAAG,IAAIqD,MAAzB,IAAmCrD,GAAG,IAAIoD,QAA1C,IAAsDpD,GAAG,IAAIsD,QAApE;AACD;;AAED/wB,MAAM,CAAC/M,OAAP,GAAiB8O,UAAjB,C;;;;;;;;;;;ACpCA;AACA,IAAI8rB,gBAAgB,GAAG,gBAAvB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,SAASzG,QAAT,CAAkBpvB,KAAlB,EAAyB;AACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IACLA,KAAK,GAAG,CAAC,CADJ,IACSA,KAAK,GAAG,CAAR,IAAa,CADtB,IAC2BA,KAAK,IAAI61B,gBAD3C;AAED;;AAED7tB,MAAM,CAAC/M,OAAP,GAAiBm0B,QAAjB,C;;;;;;;;;;;;;AClCA;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAASzoB,QAAT,CAAkB3G,KAAlB,EAAyB;AACvB,MAAIxF,IAAI,WAAUwF,KAAV,CAAR;;AACA,SAAOA,KAAK,IAAI,IAAT,KAAkBxF,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,UAA9C,CAAP;AACD;;AAEDwN,MAAM,CAAC/M,OAAP,GAAiB0L,QAAjB,C;;;;;;;;;;;;;AC9BA;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAAS4nB,YAAT,CAAsBvuB,KAAtB,EAA6B;AAC3B,SAAOA,KAAK,IAAI,IAAT,IAAiB,QAAOA,KAAP,KAAgB,QAAxC;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBszB,YAAjB,C;;;;;;;;;;;AC5BA,IAAID,UAAU,GAAG3zB,mBAAO,CAAC,2DAAD,CAAxB;AAAA,IACI06B,YAAY,GAAG16B,mBAAO,CAAC,+DAAD,CAD1B;AAAA,IAEI4zB,YAAY,GAAG5zB,mBAAO,CAAC,6DAAD,CAF1B;AAIA;;;AACA,IAAIi1B,SAAS,GAAG,iBAAhB;AAEA;;AACA,IAAId,SAAS,GAAGC,QAAQ,CAAC7xB,SAAzB;AAAA,IACImvB,WAAW,GAAGjvB,MAAM,CAACF,SADzB;AAGA;;AACA,IAAI8xB,YAAY,GAAGF,SAAS,CAAC9vB,QAA7B;AAEA;;AACA,IAAItB,cAAc,GAAG2uB,WAAW,CAAC3uB,cAAjC;AAEA;;AACA,IAAIs7B,gBAAgB,GAAGhK,YAAY,CAACrxB,IAAb,CAAkBP,MAAlB,CAAvB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,SAAS40B,aAAT,CAAuBhyB,KAAvB,EAA8B;AAC5B,MAAI,CAACuuB,YAAY,CAACvuB,KAAD,CAAb,IAAwBsuB,UAAU,CAACtuB,KAAD,CAAV,IAAqB4vB,SAAjD,EAA4D;AAC1D,WAAO,KAAP;AACD;;AACD,MAAIlC,KAAK,GAAG2H,YAAY,CAACr1B,KAAD,CAAxB;;AACA,MAAI0tB,KAAK,KAAK,IAAd,EAAoB;AAClB,WAAO,IAAP;AACD;;AACD,MAAI4I,IAAI,GAAG54B,cAAc,CAACC,IAAf,CAAoB+vB,KAApB,EAA2B,aAA3B,KAA6CA,KAAK,CAACzwB,WAA9D;AACA,SAAO,OAAOq5B,IAAP,IAAe,UAAf,IAA6BA,IAAI,YAAYA,IAA7C,IACLtH,YAAY,CAACrxB,IAAb,CAAkB24B,IAAlB,KAA2B0C,gBAD7B;AAED;;AAEDhxB,MAAM,CAAC/M,OAAP,GAAiB+2B,aAAjB,C;;;;;;;;;;;;;AC7DA,IAAI1D,UAAU,GAAG3zB,mBAAO,CAAC,2DAAD,CAAxB;AAAA,IACI4zB,YAAY,GAAG5zB,mBAAO,CAAC,6DAAD,CAD1B;AAGA;;;AACA,IAAIs+B,SAAS,GAAG,iBAAhB;AAEA;;;;;;;;;;;;;;;;;;AAiBA,SAASjG,QAAT,CAAkBhzB,KAAlB,EAAyB;AACvB,SAAO,QAAOA,KAAP,KAAgB,QAAhB,IACJuuB,YAAY,CAACvuB,KAAD,CAAZ,IAAuBsuB,UAAU,CAACtuB,KAAD,CAAV,IAAqBi5B,SAD/C;AAED;;AAEDjxB,MAAM,CAAC/M,OAAP,GAAiB+3B,QAAjB,C;;;;;;;;;;;AC5BA,IAAInC,gBAAgB,GAAGl2B,mBAAO,CAAC,uEAAD,CAA9B;AAAA,IACI04B,SAAS,GAAG14B,mBAAO,CAAC,yDAAD,CADvB;AAAA,IAEIk8B,QAAQ,GAAGl8B,mBAAO,CAAC,uDAAD,CAFtB;AAIA;;;AACA,IAAIu+B,gBAAgB,GAAGrC,QAAQ,IAAIA,QAAQ,CAACzK,YAA5C;AAEA;;;;;;;;;;;;;;;;;;AAiBA,IAAIA,YAAY,GAAG8M,gBAAgB,GAAG7F,SAAS,CAAC6F,gBAAD,CAAZ,GAAiCrI,gBAApE;AAEA7oB,MAAM,CAAC/M,OAAP,GAAiBmxB,YAAjB,C;;;;;;;;;;;AC1BA,IAAIE,aAAa,GAAG3xB,mBAAO,CAAC,iEAAD,CAA3B;AAAA,IACIq2B,UAAU,GAAGr2B,mBAAO,CAAC,2DAAD,CADxB;AAAA,IAEIo7B,WAAW,GAAGp7B,mBAAO,CAAC,2DAAD,CAFzB;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAASw2B,MAAT,CAAgB5yB,MAAhB,EAAwB;AACtB,SAAOw3B,WAAW,CAACx3B,MAAD,CAAX,GAAsB+tB,aAAa,CAAC/tB,MAAD,EAAS,IAAT,CAAnC,GAAoDyyB,UAAU,CAACzyB,MAAD,CAArE;AACD;;AAEDyJ,MAAM,CAAC/M,OAAP,GAAiBk2B,MAAjB,C;;;;;;;;;;;AC/BA,IAAI9F,QAAQ,GAAG1wB,mBAAO,CAAC,uDAAD,CAAtB;AAEA;;;AACA,IAAIw+B,eAAe,GAAG,qBAAtB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,SAAS1C,OAAT,CAAiB1K,IAAjB,EAAuBqN,QAAvB,EAAiC;AAC/B,MAAI,OAAOrN,IAAP,IAAe,UAAf,IAA8BqN,QAAQ,IAAI,IAAZ,IAAoB,OAAOA,QAAP,IAAmB,UAAzE,EAAsF;AACpF,UAAM,IAAIC,SAAJ,CAAcF,eAAd,CAAN;AACD;;AACD,MAAIG,QAAQ,GAAG,SAAXA,QAAW,GAAW;AACxB,QAAIn9B,IAAI,GAAGF,SAAX;AAAA,QACIwB,GAAG,GAAG27B,QAAQ,GAAGA,QAAQ,CAAC98B,KAAT,CAAe,IAAf,EAAqBH,IAArB,CAAH,GAAgCA,IAAI,CAAC,CAAD,CADtD;AAAA,QAEI2pB,KAAK,GAAGwT,QAAQ,CAACxT,KAFrB;;AAIA,QAAIA,KAAK,CAACwE,GAAN,CAAU7sB,GAAV,CAAJ,EAAoB;AAClB,aAAOqoB,KAAK,CAAC/Z,GAAN,CAAUtO,GAAV,CAAP;AACD;;AACD,QAAIsF,MAAM,GAAGgpB,IAAI,CAACzvB,KAAL,CAAW,IAAX,EAAiBH,IAAjB,CAAb;AACAm9B,YAAQ,CAACxT,KAAT,GAAiBA,KAAK,CAAC9Z,GAAN,CAAUvO,GAAV,EAAesF,MAAf,KAA0B+iB,KAA3C;AACA,WAAO/iB,MAAP;AACD,GAXD;;AAYAu2B,UAAQ,CAACxT,KAAT,GAAiB,KAAK2Q,OAAO,CAAC8C,KAAR,IAAiBlO,QAAtB,GAAjB;AACA,SAAOiO,QAAP;AACD,C,CAED;;;AACA7C,OAAO,CAAC8C,KAAR,GAAgBlO,QAAhB;AAEArjB,MAAM,CAAC/M,OAAP,GAAiBw7B,OAAjB,C;;;;;;;;;;;ACxEA,IAAIpF,SAAS,GAAG12B,mBAAO,CAAC,yDAAD,CAAvB;AAAA,IACI85B,cAAc,GAAG95B,mBAAO,CAAC,mEAAD,CAD5B;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,IAAI6+B,KAAK,GAAG/E,cAAc,CAAC,UAASl2B,MAAT,EAAiBf,MAAjB,EAAyB8zB,QAAzB,EAAmC;AAC5DD,WAAS,CAAC9yB,MAAD,EAASf,MAAT,EAAiB8zB,QAAjB,CAAT;AACD,CAFyB,CAA1B;AAIAtpB,MAAM,CAAC/M,OAAP,GAAiBu+B,KAAjB,C;;;;;;;;;;;ACtCA,IAAI7G,OAAO,GAAGh4B,mBAAO,CAAC,qDAAD,CAArB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,SAASqR,GAAT,CAAazN,MAAb,EAAqBG,IAArB,EAA2BsB,KAA3B,EAAkC;AAChC,SAAOzB,MAAM,IAAI,IAAV,GAAiBA,MAAjB,GAA0Bo0B,OAAO,CAACp0B,MAAD,EAASG,IAAT,EAAesB,KAAf,CAAxC;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiB+Q,GAAjB,C;;;;;;;;;;;AClCA;;;;;;;;;;;;;AAaA,SAAS2sB,SAAT,GAAqB;AACnB,SAAO,KAAP;AACD;;AAED3wB,MAAM,CAAC/M,OAAP,GAAiB09B,SAAjB,C;;;;;;;;;;;ACjBA,IAAItE,UAAU,GAAG15B,mBAAO,CAAC,2DAAD,CAAxB;AAAA,IACIw2B,MAAM,GAAGx2B,mBAAO,CAAC,iDAAD,CADpB;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAASs3B,aAAT,CAAuBjyB,KAAvB,EAA8B;AAC5B,SAAOq0B,UAAU,CAACr0B,KAAD,EAAQmxB,MAAM,CAACnxB,KAAD,CAAd,CAAjB;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiBg3B,aAAjB,C;;;;;;;;;;;AC/BA,IAAImB,YAAY,GAAGz4B,mBAAO,CAAC,+DAAD,CAA1B;AAEA;;;;;;;;;;;;;;;;;;;;;;;AAqBA,SAASqE,QAAT,CAAkBgB,KAAlB,EAAyB;AACvB,SAAOA,KAAK,IAAI,IAAT,GAAgB,EAAhB,GAAqBozB,YAAY,CAACpzB,KAAD,CAAxC;AACD;;AAEDgI,MAAM,CAAC/M,OAAP,GAAiB+D,QAAjB,C;;;;;;;;;;;;AC3Ba;;AAEb/D,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACK,SAAR,GAAoBA,SAApB;AACAL,OAAO,CAACw+B,QAAR,GAAmBA,QAAnB;;AACA,SAASn+B,SAAT,CAAmBC,KAAnB,EAA0BC,IAA1B,EAAgCC,QAAhC,EAA0C;AACxC,MAAIC,WAAW,GAAG,CAAlB;AAAA,MACIC,MAAM,GAAG,KADb;AAEA,MAAI+9B,IAAI,GAAG,KAAX;AAAA,MACI79B,OAAO,GAAG,KADd;AAAA,MAEIC,QAAQ,GAAG,KAAK,CAFpB;;AAIA,WAASC,IAAT,GAAgB;AACdJ,UAAM,GAAG,IAAT;;AACA,QAAI+9B,IAAJ,EAAU;AACR;AACA59B,cAAQ,GAAG,GAAGwG,MAAH,CAAUlG,KAAK,CAACc,SAAN,CAAgBqF,KAAhB,CAAsB5E,IAAtB,CAA2B1B,SAA3B,CAAV,CAAX;AACA;AACD;;AAEDR,YAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBL,SAArB;AACD;;AAED,WAASO,IAAT,GAAgB;AACd,QAAIb,MAAJ,EAAY;AACV;AACD;;AAEDE,WAAO,GAAG,IAAV;;AACA,QAAI69B,IAAJ,EAAU;AACR;AACA;AACD;;AAEDA,QAAI,GAAG,IAAP;;AAEA,WAAO,CAAC/9B,MAAD,IAAWD,WAAW,GAAGH,KAAzB,IAAkCM,OAAzC,EAAkD;AAChDA,aAAO,GAAG,KAAV;AACAL,UAAI,CAACmC,IAAL,CAAU,IAAV,EAAgBjC,WAAW,EAA3B,EAA+Bc,IAA/B,EAAqCT,IAArC;AACD;;AAED29B,QAAI,GAAG,KAAP;;AAEA,QAAI/9B,MAAJ,EAAY;AACV;AACAF,cAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBR,QAArB;AACA;AACD;;AAED,QAAIJ,WAAW,IAAIH,KAAf,IAAwBM,OAA5B,EAAqC;AACnCF,YAAM,GAAG,IAAT;AACAF,cAAQ;AACT;AACF;;AAEDe,MAAI;AACL;;AAED,SAASi9B,QAAT,CAAkB1M,KAAlB,EAAyBvxB,IAAzB,EAA+BC,QAA/B,EAAyC;AACvC,MAAIS,MAAM,GAAG6wB,KAAK,CAAC7wB,MAAnB;AACA,MAAI0gB,MAAM,GAAG,EAAb;AAEA,MAAI1gB,MAAM,KAAK,CAAf,EAAkB,OAAOT,QAAQ,CAAC,IAAD,EAAOmhB,MAAP,CAAf;AAElB,MAAIjhB,MAAM,GAAG,KAAb;AAAA,MACIg+B,SAAS,GAAG,CADhB;;AAGA,WAAS59B,IAAT,CAAc4D,KAAd,EAAqBmf,KAArB,EAA4B9e,KAA5B,EAAmC;AACjC,QAAIrE,MAAJ,EAAY;;AAEZ,QAAImjB,KAAJ,EAAW;AACTnjB,YAAM,GAAG,IAAT;AACAF,cAAQ,CAACqjB,KAAD,CAAR;AACD,KAHD,MAGO;AACLlC,YAAM,CAACjd,KAAD,CAAN,GAAgBK,KAAhB;AAEArE,YAAM,GAAG,EAAEg+B,SAAF,KAAgBz9B,MAAzB;AAEA,UAAIP,MAAJ,EAAYF,QAAQ,CAAC,IAAD,EAAOmhB,MAAP,CAAR;AACb;AACF;;AAEDmQ,OAAK,CAACvqB,OAAN,CAAc,UAAU9C,IAAV,EAAgBC,KAAhB,EAAuB;AACnCnE,QAAI,CAACkE,IAAD,EAAOC,KAAP,EAAc,UAAUmf,KAAV,EAAiB9e,KAAjB,EAAwB;AACxCjE,UAAI,CAAC4D,KAAD,EAAQmf,KAAR,EAAe9e,KAAf,CAAJ;AACD,KAFG,CAAJ;AAGD,GAJD;AAKD,C;;;;;;;;;;;;ACvFY;;AAEb/E,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAAC2+B,eAAR,GAA0BA,eAA1B;AACA3+B,OAAO,CAAC4+B,iBAAR,GAA4BA,iBAA5B;;AAEA,IAAIC,MAAM,GAAGn/B,mBAAO,CAAC,oBAAD,CAApB;;AAEA,IAAIo/B,OAAO,GAAGj8B,sBAAsB,CAACg8B,MAAD,CAApC;;AAEA,IAAIE,UAAU,GAAGr/B,mBAAO,CAAC,8BAAD,CAAxB;;AAEA,IAAIs/B,WAAW,GAAGn8B,sBAAsB,CAACk8B,UAAD,CAAxC;;AAEA,SAASl8B,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD,C,CAE/F;AACA;AACA;AACA;;;AAEA,IAAIk9B,oBAAoB,GAAGD,WAAW,CAACr/B,OAAZ,CAAoBu/B,KAApB,CAA0B;AACnDC,WAAS,EAAEH,WAAW,CAACr/B,OAAZ,CAAoBmxB,IAApB,CAAyBsO,UADe;AAEnDC,YAAU,EAAEL,WAAW,CAACr/B,OAAZ,CAAoBy9B,MAApB,CAA2BgC;AAFY,CAA1B,CAA3B;;AAKA,SAASE,eAAT,CAAyBhgC,IAAzB,EAA+B;AAC7B,SAAO,yBAAyBA,IAAhC;AACD;;AAED,IAAIigC,4BAA4B,GAAG,OAAOT,OAAO,CAACn/B,OAAR,CAAgB6/B,UAAvB,KAAsC,WAAzE;;AAEA,SAASb,eAAT,CAAyBr/B,IAAzB,EAA+B;AAC7B,MAAImgC,kBAAJ,EAAwBC,OAAxB;;AAEA,MAAIC,WAAW,GAAGL,eAAe,CAAChgC,IAAD,CAAjC;AACA,MAAIsgC,YAAY,GAAGD,WAAW,GAAG,YAAjC;AACA,MAAIE,aAAa,GAAGF,WAAW,GAAG,aAAlC;AACA,MAAIG,YAAY,GAAGH,WAAW,GAAG,YAAjC;AAEA,MAAI3gB,MAAM,IAAI0gB,OAAO,GAAG;AACtBK,qBAAiB,GAAGN,kBAAkB,GAAG,EAArB,EAAyBA,kBAAkB,CAACE,WAAD,CAAlB,GAAkCV,oBAAoB,CAACG,UAAhF,EAA4FK,kBAA/F,CADK;AAGtBO,mBAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,UAAIC,IAAJ;;AAEA,aAAOA,IAAI,GAAG,EAAP,EAAWA,IAAI,CAACN,WAAD,CAAJ,GAAoB;AACpCN,kBAAU,EAAE,KAAKQ,aAAL,CADwB;AAEpCV,iBAAS,EAAE,KAAKW,YAAL;AAFyB,OAA/B,EAGJG,IAHH;AAID,KAVqB;AAatB;AACAC,sBAAkB,EAAE,SAASA,kBAAT,GAA8B;AAChD,WAAKN,YAAL,IAAqB,EAArB;AACA,WAAKC,aAAL,IAAsB,CAAtB;AACD,KAjBqB;AAoBtB;AACAM,6BAAyB,EAAE,SAASA,yBAAT,GAAqC;AAC9D,WAAKN,aAAL;AACD,KAvBqB;AAwBtBO,sBAAkB,EAAE,SAASA,kBAAT,GAA8B;AAChD,UAAIC,KAAK,GAAG,IAAZ;;AAEA,WAAKT,YAAL,EAAmBr4B,OAAnB,CAA2B,UAAUC,QAAV,EAAoB;AAC7C,eAAOA,QAAQ,CAAC64B,KAAK,CAACR,aAAD,CAAN,CAAf;AACD,OAFD;AAGD;AA9BqB,GAAV,EA+BXH,OAAO,CAACI,YAAD,CAAP,GAAwB,UAAUt4B,QAAV,EAAoB;AAC7C,QAAI84B,MAAM,GAAG,IAAb,CAD6C,CAG7C;;;AACA,SAAKV,YAAL,EAAmBl4B,IAAnB,CAAwBF,QAAxB;AAEA,WAAO,YAAY;AACjB84B,YAAM,CAACV,YAAD,CAAN,GAAuBU,MAAM,CAACV,YAAD,CAAN,CAAqBj4B,MAArB,CAA4B,UAAUlD,IAAV,EAAgB;AACjE,eAAOA,IAAI,KAAK+C,QAAhB;AACD,OAFsB,CAAvB;AAGD,KAJD;AAKD,GA1Ca,EA0CXk4B,OA1CO,CAAV;;AA4CA,MAAIH,4BAAJ,EAAkC;AAChCvgB,UAAM,CAACuhB,yBAAP,GAAmCvhB,MAAM,CAACkhB,kBAA1C;AACAlhB,UAAM,CAACwhB,gCAAP,GAA0CxhB,MAAM,CAACmhB,yBAAjD;AACA,WAAOnhB,MAAM,CAACkhB,kBAAd;AACA,WAAOlhB,MAAM,CAACmhB,yBAAd;AACD;;AACD,SAAOnhB,MAAP;AACD;;AAED,SAAS4f,iBAAT,CAA2Bt/B,IAA3B,EAAiC;AAC/B,MAAImhC,aAAJ,EAAmBC,QAAnB;;AAEA,MAAIf,WAAW,GAAGL,eAAe,CAAChgC,IAAD,CAAjC;AACA,MAAIqhC,yBAAyB,GAAGhB,WAAW,GAAG,yBAA9C;AACA,MAAIiB,sBAAsB,GAAGjB,WAAW,GAAG,sBAA3C;AACA,MAAIkB,cAAc,GAAGlB,WAAW,GAAG,cAAnC;AAEA,MAAI3gB,MAAM,IAAI0hB,QAAQ,GAAG;AACvBI,gBAAY,GAAGL,aAAa,GAAG,EAAhB,EAAoBA,aAAa,CAACd,WAAD,CAAb,GAA6BV,oBAAjD,EAAuEwB,aAA1E,CADW;AAGvBM,mBAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,UAAIC,KAAJ;;AAEA,UAAI,CAAC,KAAKC,OAAL,CAAatB,WAAb,CAAL,EAAgC;AAC9B,eAAO,EAAP;AACD;;AAED,aAAOqB,KAAK,GAAG,EAAR,EAAYA,KAAK,CAACL,yBAAD,CAAL,GAAmC,KAAKM,OAAL,CAAatB,WAAb,EAA0BN,UAAzE,EAAqF2B,KAA5F;AACD,KAXsB;AAYvBE,qBAAiB,EAAE,SAASA,iBAAT,GAA6B;AAC9C,UAAI,CAAC,KAAKD,OAAL,CAAatB,WAAb,CAAL,EAAgC;AAC9B;AACD;;AAED,WAAKkB,cAAL,IAAuB,KAAKI,OAAL,CAAatB,WAAb,EAA0BR,SAA1B,CAAoC,KAAKyB,sBAAL,CAApC,CAAvB;AACD,KAlBsB;AAqBvB;AACAT,6BAAyB,EAAE,SAASA,yBAAT,GAAqC;AAC9D,UAAIgB,SAAJ;;AAEA,UAAI,CAAC,KAAKF,OAAL,CAAatB,WAAb,CAAL,EAAgC;AAC9B;AACD;;AAED,WAAKlpB,QAAL,EAAe0qB,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAACR,yBAAD,CAAT,GAAuC,KAAKM,OAAL,CAAatB,WAAb,EAA0BN,UAAjF,EAA6F8B,SAA5G;AACD,KA9BsB;AA+BvBC,wBAAoB,EAAE,SAASA,oBAAT,GAAgC;AACpD,UAAI,CAAC,KAAKP,cAAL,CAAL,EAA2B;AACzB;AACD;;AAED,WAAKA,cAAL;AACA,WAAKA,cAAL,IAAuB,IAAvB;AACD;AAtCsB,GAAX,EAuCXH,QAAQ,CAACE,sBAAD,CAAR,GAAmC,UAAUvB,UAAV,EAAsB;AAC1D,QAAIA,UAAU,KAAK,KAAKx7B,KAAL,CAAW88B,yBAAX,CAAnB,EAA0D;AACxD,UAAIU,UAAJ;;AAEA,WAAK5qB,QAAL,EAAe4qB,UAAU,GAAG,EAAb,EAAiBA,UAAU,CAACV,yBAAD,CAAV,GAAwCtB,UAAzD,EAAqEgC,UAApF;AACD;AACF,GA7Ca,EA6CXX,QA7CO,CAAV;;AA+CA,MAAInB,4BAAJ,EAAkC;AAChCvgB,UAAM,CAACwhB,gCAAP,GAA0CxhB,MAAM,CAACmhB,yBAAjD;AACA,WAAOnhB,MAAM,CAACmhB,yBAAd;AACD;;AACD,SAAOnhB,MAAP;AACD,C;;;;;;;;;;;;ACzJY;;AAEbhf,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACshC,cAAR,GAAyBA,cAAzB;AACAthC,OAAO,CAACuhC,YAAR,GAAuBA,YAAvB;AACAvhC,OAAO,CAACwhC,aAAR,GAAwBA,aAAxB;AACAxhC,OAAO,CAACyhC,SAAR,GAAoBA,SAApB;AACAzhC,OAAO,CAAC0hC,aAAR,GAAwBA,aAAxB;;AAEA,IAAI/+B,UAAU,GAAGjD,mBAAO,CAAC,4BAAD,CAAxB;;AAEA,IAAIkD,WAAW,GAAGC,sBAAsB,CAACF,UAAD,CAAxC;;AAEA,SAASE,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,SAAS4/B,YAAT,CAAsBj8B,MAAtB,EAA8B;AAC5B,SAAOA,MAAM,CAACP,OAAP,CAAe,qBAAf,EAAsC,MAAtC,CAAP;AACD;;AAED,SAASy8B,eAAT,CAAyB1N,OAAzB,EAAkC;AAChC,MAAI2N,YAAY,GAAG,EAAnB;AACA,MAAIC,UAAU,GAAG,EAAjB;AACA,MAAIC,MAAM,GAAG,EAAb;AAEA,MAAI18B,KAAK,GAAG,KAAK,CAAjB;AAAA,MACIsyB,SAAS,GAAG,CADhB;AAAA,MAEIqK,OAAO,GAAG,sDAFd;;AAGA,SAAO38B,KAAK,GAAG28B,OAAO,CAAC7G,IAAR,CAAajH,OAAb,CAAf,EAAsC;AACpC,QAAI7uB,KAAK,CAACX,KAAN,KAAgBizB,SAApB,EAA+B;AAC7BoK,YAAM,CAACr6B,IAAP,CAAYwsB,OAAO,CAAC5sB,KAAR,CAAcqwB,SAAd,EAAyBtyB,KAAK,CAACX,KAA/B,CAAZ;AACAm9B,kBAAY,IAAIF,YAAY,CAACzN,OAAO,CAAC5sB,KAAR,CAAcqwB,SAAd,EAAyBtyB,KAAK,CAACX,KAA/B,CAAD,CAA5B;AACD;;AAED,QAAIW,KAAK,CAAC,CAAD,CAAT,EAAc;AACZw8B,kBAAY,IAAI,SAAhB;AACAC,gBAAU,CAACp6B,IAAX,CAAgBrC,KAAK,CAAC,CAAD,CAArB;AACD,KAHD,MAGO,IAAIA,KAAK,CAAC,CAAD,CAAL,KAAa,IAAjB,EAAuB;AAC5Bw8B,kBAAY,IAAI,MAAhB;AACAC,gBAAU,CAACp6B,IAAX,CAAgB,OAAhB;AACD,KAHM,MAGA,IAAIrC,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB;AAC3Bw8B,kBAAY,IAAI,OAAhB;AACAC,gBAAU,CAACp6B,IAAX,CAAgB,OAAhB;AACD,KAHM,MAGA,IAAIrC,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB;AAC3Bw8B,kBAAY,IAAI,KAAhB;AACD,KAFM,MAEA,IAAIx8B,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB;AAC3Bw8B,kBAAY,IAAI,IAAhB;AACD,KAFM,MAEA,IAAIx8B,KAAK,CAAC,CAAD,CAAL,KAAa,KAAjB,EAAwB;AAC7Bw8B,kBAAY,IAAI,KAAhB;AACD,KAFM,MAEA,IAAIx8B,KAAK,CAAC,CAAD,CAAL,KAAa,KAAjB,EAAwB;AAC7Bw8B,kBAAY,IAAI,KAAhB;AACD;;AAEDE,UAAM,CAACr6B,IAAP,CAAYrC,KAAK,CAAC,CAAD,CAAjB;AAEAsyB,aAAS,GAAGqK,OAAO,CAACrK,SAApB;AACD;;AAED,MAAIA,SAAS,KAAKzD,OAAO,CAACjzB,MAA1B,EAAkC;AAChC8gC,UAAM,CAACr6B,IAAP,CAAYwsB,OAAO,CAAC5sB,KAAR,CAAcqwB,SAAd,EAAyBzD,OAAO,CAACjzB,MAAjC,CAAZ;AACA4gC,gBAAY,IAAIF,YAAY,CAACzN,OAAO,CAAC5sB,KAAR,CAAcqwB,SAAd,EAAyBzD,OAAO,CAACjzB,MAAjC,CAAD,CAA5B;AACD;;AAED,SAAO;AACLizB,WAAO,EAAEA,OADJ;AAEL2N,gBAAY,EAAEA,YAFT;AAGLC,cAAU,EAAEA,UAHP;AAILC,UAAM,EAAEA;AAJH,GAAP;AAMD;;AAED,IAAIE,qBAAqB,GAAG9/B,MAAM,CAACgB,MAAP,CAAc,IAAd,CAA5B;;AAEA,SAASm+B,cAAT,CAAwBpN,OAAxB,EAAiC;AAC/B,MAAI,CAAC+N,qBAAqB,CAAC/N,OAAD,CAA1B,EAAqC+N,qBAAqB,CAAC/N,OAAD,CAArB,GAAiC0N,eAAe,CAAC1N,OAAD,CAAhD;AAErC,SAAO+N,qBAAqB,CAAC/N,OAAD,CAA5B;AACD;AAED;;;;;;;;;;;;;;;;;;;;;;AAoBA,SAASqN,YAAT,CAAsBrN,OAAtB,EAA+BxwB,QAA/B,EAAyC;AACvC;AACA,MAAIwwB,OAAO,CAACzpB,MAAR,CAAe,CAAf,MAAsB,GAA1B,EAA+B;AAC7BypB,WAAO,GAAG,MAAMA,OAAhB;AACD;;AAED,MAAIgO,gBAAgB,GAAGZ,cAAc,CAACpN,OAAD,CAArC;AAAA,MACI2N,YAAY,GAAGK,gBAAgB,CAACL,YADpC;AAAA,MAEIC,UAAU,GAAGI,gBAAgB,CAACJ,UAFlC;AAAA,MAGIC,MAAM,GAAGG,gBAAgB,CAACH,MAH9B;;AAKA,MAAI7N,OAAO,CAACzpB,MAAR,CAAeypB,OAAO,CAACjzB,MAAR,GAAiB,CAAhC,MAAuC,GAA3C,EAAgD;AAC9C4gC,gBAAY,IAAI,IAAhB,CAD8C,CACxB;AACvB,GAbsC,CAevC;;;AACA,MAAIE,MAAM,CAACA,MAAM,CAAC9gC,MAAP,GAAgB,CAAjB,CAAN,KAA8B,GAAlC,EAAuC;AACrC4gC,gBAAY,IAAI,GAAhB;AACD;;AAED,MAAIx8B,KAAK,GAAG3B,QAAQ,CAAC2B,KAAT,CAAe,IAAID,MAAJ,CAAW,MAAMy8B,YAAjB,EAA+B,GAA/B,CAAf,CAAZ;;AACA,MAAIx8B,KAAK,IAAI,IAAb,EAAmB;AACjB,WAAO,IAAP;AACD;;AAED,MAAI88B,WAAW,GAAG98B,KAAK,CAAC,CAAD,CAAvB;AACA,MAAI+8B,iBAAiB,GAAG1+B,QAAQ,CAACiF,MAAT,CAAgBw5B,WAAW,CAAClhC,MAA5B,CAAxB;;AAEA,MAAImhC,iBAAJ,EAAuB;AACrB;AACA;AACA,QAAID,WAAW,CAAC13B,MAAZ,CAAmB03B,WAAW,CAAClhC,MAAZ,GAAqB,CAAxC,MAA+C,GAAnD,EAAwD;AACtD,aAAO,IAAP;AACD,KALoB,CAOrB;AACA;;;AACAmhC,qBAAiB,GAAG,MAAMA,iBAA1B;AACD;;AAED,SAAO;AACLA,qBAAiB,EAAEA,iBADd;AAELN,cAAU,EAAEA,UAFP;AAGLO,eAAW,EAAEh9B,KAAK,CAACiC,KAAN,CAAY,CAAZ,EAAewC,GAAf,CAAmB,UAAUw4B,CAAV,EAAa;AAC3C,aAAOA,CAAC,IAAIC,kBAAkB,CAACD,CAAD,CAA9B;AACD,KAFY;AAHR,GAAP;AAOD;;AAED,SAASd,aAAT,CAAuBtN,OAAvB,EAAgC;AAC9B,SAAOoN,cAAc,CAACpN,OAAD,CAAd,CAAwB4N,UAA/B;AACD;;AAED,SAASL,SAAT,CAAmBvN,OAAnB,EAA4BxwB,QAA5B,EAAsC;AACpC,MAAI2B,KAAK,GAAGk8B,YAAY,CAACrN,OAAD,EAAUxwB,QAAV,CAAxB;;AACA,MAAI,CAAC2B,KAAL,EAAY;AACV,WAAO,IAAP;AACD;;AAED,MAAIy8B,UAAU,GAAGz8B,KAAK,CAACy8B,UAAvB;AAAA,MACIO,WAAW,GAAGh9B,KAAK,CAACg9B,WADxB;AAGA,MAAIG,MAAM,GAAG,EAAb;AAEAV,YAAU,CAACv6B,OAAX,CAAmB,UAAUk7B,SAAV,EAAqB/9B,KAArB,EAA4B;AAC7C89B,UAAM,CAACC,SAAD,CAAN,GAAoBJ,WAAW,CAAC39B,KAAD,CAA/B;AACD,GAFD;AAIA,SAAO89B,MAAP;AACD;AAED;;;;;;AAIA,SAASd,aAAT,CAAuBxN,OAAvB,EAAgCsO,MAAhC,EAAwC;AACtCA,QAAM,GAAGA,MAAM,IAAI,EAAnB;;AAEA,MAAIE,gBAAgB,GAAGpB,cAAc,CAACpN,OAAD,CAArC;AAAA,MACI6N,MAAM,GAAGW,gBAAgB,CAACX,MAD9B;;AAGA,MAAIY,UAAU,GAAG,CAAjB;AAAA,MACIj/B,QAAQ,GAAG,EADf;AAAA,MAEIk/B,UAAU,GAAG,CAFjB;AAAA,MAGIC,YAAY,GAAG,EAHnB;AAKA,MAAIC,KAAK,GAAG,KAAK,CAAjB;AAAA,MACIL,SAAS,GAAG,KAAK,CADrB;AAAA,MAEIM,UAAU,GAAG,KAAK,CAFtB;;AAGA,OAAK,IAAIzgC,CAAC,GAAG,CAAR,EAAW0gC,GAAG,GAAGjB,MAAM,CAAC9gC,MAA7B,EAAqCqB,CAAC,GAAG0gC,GAAzC,EAA8C,EAAE1gC,CAAhD,EAAmD;AACjDwgC,SAAK,GAAGf,MAAM,CAACz/B,CAAD,CAAd;;AAEA,QAAIwgC,KAAK,KAAK,GAAV,IAAiBA,KAAK,KAAK,IAA/B,EAAqC;AACnCC,gBAAU,GAAG5hC,KAAK,CAACiD,OAAN,CAAco+B,MAAM,CAACS,KAArB,IAA8BT,MAAM,CAACS,KAAP,CAAaL,UAAU,EAAvB,CAA9B,GAA2DJ,MAAM,CAACS,KAA/E;AAEA,QAAEF,UAAU,IAAI,IAAd,IAAsBJ,UAAU,GAAG,CAArC,IAA0Cn/B,KAAA,GAAwC,CAAC,GAAGZ,WAAW,CAACjD,OAAhB,EAAyB,KAAzB,EAAgC,iCAAhC,EAAmEijC,UAAnE,EAA+E1O,OAA/E,CAAxC,GAAkI,SAA5K,GAA8M,KAAK,CAAnN;AAEA,UAAI6O,UAAU,IAAI,IAAlB,EAAwBr/B,QAAQ,IAAIw/B,SAAS,CAACH,UAAD,CAArB;AACzB,KAND,MAMO,IAAID,KAAK,KAAK,GAAd,EAAmB;AACxBD,kBAAY,CAACF,UAAD,CAAZ,GAA2B,EAA3B;AACAA,gBAAU,IAAI,CAAd;AACD,KAHM,MAGA,IAAIG,KAAK,KAAK,GAAd,EAAmB;AACxB,UAAIK,SAAS,GAAGN,YAAY,CAACtH,GAAb,EAAhB;AACAoH,gBAAU,IAAI,CAAd;AAEA,UAAIA,UAAJ,EAAgBE,YAAY,CAACF,UAAU,GAAG,CAAd,CAAZ,IAAgCQ,SAAhC,CAAhB,KAA+Dz/B,QAAQ,IAAIy/B,SAAZ;AAChE,KALM,MAKA,IAAIL,KAAK,KAAK,KAAd,EAAqB;AAC1Bp/B,cAAQ,IAAI,GAAZ;AACD,KAFM,MAEA,IAAIo/B,KAAK,KAAK,KAAd,EAAqB;AAC1Bp/B,cAAQ,IAAI,GAAZ;AACD,KAFM,MAEA,IAAIo/B,KAAK,CAACr4B,MAAN,CAAa,CAAb,MAAoB,GAAxB,EAA6B;AAClCg4B,eAAS,GAAGK,KAAK,CAACn9B,SAAN,CAAgB,CAAhB,CAAZ;AACAo9B,gBAAU,GAAGP,MAAM,CAACC,SAAD,CAAnB;AAEA,QAAEM,UAAU,IAAI,IAAd,IAAsBJ,UAAU,GAAG,CAArC,IAA0Cn/B,KAAA,GAAwC,CAAC,GAAGZ,WAAW,CAACjD,OAAhB,EAAyB,KAAzB,EAAgC,sCAAhC,EAAwE8iC,SAAxE,EAAmFvO,OAAnF,CAAxC,GAAsI,SAAhL,GAAkN,KAAK,CAAvN;;AAEA,UAAI6O,UAAU,IAAI,IAAlB,EAAwB;AACtB,YAAIJ,UAAJ,EAAgB;AACdE,sBAAY,CAACF,UAAU,GAAG,CAAd,CAAZ,GAA+B,EAA/B;AAEA,cAAIS,WAAW,GAAGrB,MAAM,CAAC98B,OAAP,CAAe69B,KAAf,CAAlB;AACA,cAAIO,YAAY,GAAGtB,MAAM,CAACz6B,KAAP,CAAa87B,WAAb,EAA0BrB,MAAM,CAAC9gC,MAAjC,CAAnB;AACA,cAAIqiC,YAAY,GAAG,CAAC,CAApB;;AAEA,eAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGF,YAAY,CAACpiC,MAAnC,EAA2CsiC,EAAE,EAA7C,EAAiD;AAC/C,gBAAIF,YAAY,CAACE,EAAD,CAAZ,IAAoB,GAAxB,EAA6B;AAC3BD,0BAAY,GAAGC,EAAf;AACA;AACD;AACF;;AAED,YAAED,YAAY,GAAG,CAAjB,IAAsB9/B,KAAA,GAAwC,CAAC,GAAGZ,WAAW,CAACjD,OAAhB,EAAyB,KAAzB,EAAgC,gDAAhC,EAAkFu0B,OAAlF,EAA2FmP,YAAY,CAACvsB,IAAb,CAAkB,EAAlB,CAA3F,CAAxC,GAA4J,SAAlL,GAAoN,KAAK,CAAzN,CAdc,CAgBd;;AACAxU,WAAC,GAAG8gC,WAAW,GAAGE,YAAd,GAA6B,CAAjC;AACD;AACF,OApBD,MAoBO,IAAIX,UAAJ,EAAgBE,YAAY,CAACF,UAAU,GAAG,CAAd,CAAZ,IAAgC3b,kBAAkB,CAAC+b,UAAD,CAAlD,CAAhB,KAAoFr/B,QAAQ,IAAIsjB,kBAAkB,CAAC+b,UAAD,CAA9B;AAC5F,KA3BM,MA2BA;AACL,UAAIJ,UAAJ,EAAgBE,YAAY,CAACF,UAAU,GAAG,CAAd,CAAZ,IAAgCG,KAAhC,CAAhB,KAA2Dp/B,QAAQ,IAAIo/B,KAAZ;AAC5D;AACF;;AAED,IAAEH,UAAU,IAAI,CAAhB,IAAqBn/B,KAAA,GAAwC,CAAC,GAAGZ,WAAW,CAACjD,OAAhB,EAAyB,KAAzB,EAAgC,gCAAhC,EAAkEu0B,OAAlE,CAAxC,GAAqH,SAA1I,GAA4K,KAAK,CAAjL;AAEA,SAAOxwB,QAAQ,CAACyB,OAAT,CAAiB,MAAjB,EAAyB,GAAzB,CAAP;AACD,C;;;;;;;;;;;;ACnPY;;AAEbnF,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACwjC,SAAR,GAAoBA,SAApB;;AACA,SAASA,SAAT,CAAmBzhC,GAAnB,EAAwB;AACtB,SAAOA,GAAG,IAAI,OAAOA,GAAG,CAACyU,IAAX,KAAoB,UAAlC;AACD,C;;;;;;;;;;;;ACNY;;AAEbxW,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIiC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEArC,OAAO,CAACyjC,eAAR,GAA0BA,eAA1B;AACAzjC,OAAO,CAAC0jC,2BAAR,GAAsCA,2BAAtC;AACA1jC,OAAO,CAAC2jC,6BAAR,GAAwCA,6BAAxC;AACA3jC,OAAO,CAAC4jC,YAAR,GAAuBA,YAAvB;;AAEA,IAAI/E,MAAM,GAAGn/B,mBAAO,CAAC,oBAAD,CAApB;;AAEA,IAAIo/B,OAAO,GAAGj8B,sBAAsB,CAACg8B,MAAD,CAApC;;AAEA,SAASh8B,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,SAAS8hC,YAAT,CAAsBvgC,MAAtB,EAA8B;AAC5B,SAAOA,MAAM,IAAI,IAAV,IAAkBw7B,OAAO,CAACn/B,OAAR,CAAgBmkC,cAAhB,CAA+BxgC,MAA/B,CAAzB;AACD;;AAED,SAASmgC,eAAT,CAAyBngC,MAAzB,EAAiC;AAC/B,SAAOugC,YAAY,CAACvgC,MAAD,CAAZ,IAAwBnC,KAAK,CAACiD,OAAN,CAAcd,MAAd,KAAyBA,MAAM,CAACkB,KAAP,CAAaq/B,YAAb,CAAxD;AACD;;AAED,SAASE,WAAT,CAAqBC,YAArB,EAAmC9gC,KAAnC,EAA0C;AACxC,SAAOhB,QAAQ,CAAC,EAAD,EAAK8hC,YAAL,EAAmB9gC,KAAnB,CAAf;AACD;;AAED,SAASwgC,2BAAT,CAAqCO,OAArC,EAA8C;AAC5C,MAAI1kC,IAAI,GAAG0kC,OAAO,CAAC1kC,IAAnB;AACA,MAAI+f,KAAK,GAAGykB,WAAW,CAACxkC,IAAI,CAACykC,YAAN,EAAoBC,OAAO,CAAC/gC,KAA5B,CAAvB;;AAEA,MAAIoc,KAAK,CAAC4kB,QAAV,EAAoB;AAClB,QAAIhlB,WAAW,GAAGykB,6BAA6B,CAACrkB,KAAK,CAAC4kB,QAAP,EAAiB5kB,KAAjB,CAA/C;AAEA,QAAIJ,WAAW,CAACje,MAAhB,EAAwBqe,KAAK,CAACJ,WAAN,GAAoBA,WAApB;AAExB,WAAOI,KAAK,CAAC4kB,QAAb;AACD;;AAED,SAAO5kB,KAAP;AACD;AAED;;;;;;;;;;;;;;;;;;;AAiBA,SAASqkB,6BAAT,CAAuCO,QAAvC,EAAiDC,WAAjD,EAA8D;AAC5D,MAAIhlB,MAAM,GAAG,EAAb;;AAEA2f,SAAO,CAACn/B,OAAR,CAAgBykC,QAAhB,CAAyB78B,OAAzB,CAAiC28B,QAAjC,EAA2C,UAAUD,OAAV,EAAmB;AAC5D,QAAInF,OAAO,CAACn/B,OAAR,CAAgBmkC,cAAhB,CAA+BG,OAA/B,CAAJ,EAA6C;AAC3C;AACA,UAAIA,OAAO,CAAC1kC,IAAR,CAAamkC,2BAAjB,EAA8C;AAC5C,YAAIpkB,KAAK,GAAG2kB,OAAO,CAAC1kC,IAAR,CAAamkC,2BAAb,CAAyCO,OAAzC,EAAkDE,WAAlD,CAAZ;AAEA,YAAI7kB,KAAJ,EAAWH,MAAM,CAACzX,IAAP,CAAY4X,KAAZ;AACZ,OAJD,MAIO;AACLH,cAAM,CAACzX,IAAP,CAAYg8B,2BAA2B,CAACO,OAAD,CAAvC;AACD;AACF;AACF,GAXD;;AAaA,SAAO9kB,MAAP;AACD;AAED;;;;;;AAIA,SAASykB,YAAT,CAAsBzkB,MAAtB,EAA8B;AAC5B,MAAIskB,eAAe,CAACtkB,MAAD,CAAnB,EAA6B;AAC3BA,UAAM,GAAGwkB,6BAA6B,CAACxkB,MAAD,CAAtC;AACD,GAFD,MAEO,IAAIA,MAAM,IAAI,CAAChe,KAAK,CAACiD,OAAN,CAAc+a,MAAd,CAAf,EAAsC;AAC3CA,UAAM,GAAG,CAACA,MAAD,CAAT;AACD;;AAED,SAAOA,MAAP;AACD,C;;;;;;;;;;;;AC5FY;;;;AAEbnf,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIiC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEA,IAAIT,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,MAAM,CAACC,QAAd,MAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AAAE,kBAAcA,GAAd;AAAoB,CAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,SAAOA,GAAG,IAAI,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,GAAG,CAACC,WAAJ,KAAoBH,MAA3D,IAAqEE,GAAG,KAAKF,MAAM,CAACI,SAApF,GAAgG,QAAhG,YAAkHF,GAAlH,CAAP;AAA+H,CAA5Q;;AAEA,IAAIY,UAAU,GAAGjD,mBAAO,CAAC,4BAAD,CAAxB;;AAEA,IAAIkD,WAAW,GAAGC,sBAAsB,CAACF,UAAD,CAAxC;;AAEA,IAAIk8B,MAAM,GAAGn/B,mBAAO,CAAC,oBAAD,CAApB;;AAEA,IAAIo/B,OAAO,GAAGj8B,sBAAsB,CAACg8B,MAAD,CAApC;;AAEA,IAAIwF,QAAQ,GAAG3kC,mBAAO,CAAC,0BAAD,CAAtB;;AAEA,IAAI4kC,iBAAiB,GAAG5kC,mBAAO,CAAC,8CAAD,CAA/B;;AAEA,IAAI6kC,kBAAkB,GAAG1hC,sBAAsB,CAACyhC,iBAAD,CAA/C;;AAEA,IAAIvF,UAAU,GAAGr/B,mBAAO,CAAC,8BAAD,CAAxB;;AAEA,IAAI8kC,eAAe,GAAG9kC,mBAAO,CAAC,2EAAD,CAA7B;;AAEA,IAAI+kC,gBAAgB,GAAG5hC,sBAAsB,CAAC2hC,eAAD,CAA7C;;AAEA,IAAIE,aAAa,GAAGhlC,mBAAO,CAAC,uEAAD,CAA3B;;AAEA,IAAIilC,WAAW,GAAGjlC,mBAAO,CAAC,mEAAD,CAAzB;;AAEA,SAASmD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;AAE/F;;;;;;AAIA,IAAI6iC,aAAa,GAAG,CAAC,GAAGL,kBAAkB,CAAC5kC,OAAvB,EAAgC;AAClDklC,aAAW,EAAE,eADqC;AAGlDC,QAAM,EAAE,CAAC,CAAC,GAAGJ,aAAa,CAAC/F,eAAlB,EAAmC,QAAnC,CAAD,CAH0C;AAKlDoG,WAAS,EAAE;AACTtlC,UAAM,EAAEs/B,UAAU,CAACz7B,MAAX,CAAkB87B,UADjB;AAETt5B,YAAQ,EAAEi5B,UAAU,CAACz7B,MAAX,CAAkB87B,UAFnB;AAGTjgB,UAAM,EAAE4f,UAAU,CAACjN,KAAX,CAAiBsN,UAHhB;AAIToD,UAAM,EAAEzD,UAAU,CAACz7B,MAAX,CAAkB87B,UAJjB;AAKT4F,cAAU,EAAEjG,UAAU,CAACjN,KAAX,CAAiBsN,UALpB;AAMT7sB,iBAAa,EAAEwsB,UAAU,CAACjO,IAAX,CAAgBsO;AANtB,GALuC;AAclD6F,iBAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,WAAO;AACL1yB,mBAAa,EAAEusB,OAAO,CAACn/B,OAAR,CAAgB4S;AAD1B,KAAP;AAGD,GAlBiD;AAqBlDwtB,mBAAiB,EAAE;AACjBtgC,UAAM,EAAEs/B,UAAU,CAACz7B,MAAX,CAAkB87B;AADT,GArB+B;AAyBlDY,iBAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,WAAO;AACLvgC,YAAM,EAAE,KAAKyD,KAAL,CAAWzD;AADd,KAAP;AAGD,GA7BiD;AA8BlD8S,eAAa,EAAE,SAASA,aAAT,CAAuB6N,SAAvB,EAAkCld,KAAlC,EAAyC;AACtD,WAAOkd,SAAS,IAAI,IAAb,GAAoB,IAApB,GAA2B,KAAKld,KAAL,CAAWqP,aAAX,CAAyB6N,SAAzB,EAAoCld,KAApC,CAAlC;AACD,GAhCiD;AAiClD2Z,QAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIwjB,KAAK,GAAG,IAAZ;;AAEA,QAAI6E,MAAM,GAAG,KAAKhiC,KAAlB;AAAA,QACI4C,QAAQ,GAAGo/B,MAAM,CAACp/B,QADtB;AAAA,QAEIqZ,MAAM,GAAG+lB,MAAM,CAAC/lB,MAFpB;AAAA,QAGIqjB,MAAM,GAAG0C,MAAM,CAAC1C,MAHpB;AAAA,QAIIwC,UAAU,GAAGE,MAAM,CAACF,UAJxB;AAAA,QAKIvlC,MAAM,GAAGylC,MAAM,CAACzlC,MALpB;AAOA,QAAIwkC,OAAO,GAAG,IAAd;;AAEA,QAAIe,UAAJ,EAAgB;AACdf,aAAO,GAAGe,UAAU,CAACG,WAAX,CAAuB,UAAUlB,OAAV,EAAmBe,UAAnB,EAA+BtgC,KAA/B,EAAsC;AACrE,YAAIsgC,UAAU,IAAI,IAAlB,EAAwB,OAAOf,OAAP,CAD6C,CAC7B;;AAExC,YAAI3kB,KAAK,GAAGH,MAAM,CAACza,KAAD,CAAlB;AACA,YAAI0gC,WAAW,GAAG,CAAC,GAAGX,gBAAgB,CAAC9kC,OAArB,EAA8B2f,KAA9B,EAAqCkjB,MAArC,CAAlB;AACA,YAAIt/B,KAAK,GAAG;AACV4C,kBAAQ,EAAEA,QADA;AAEV08B,gBAAM,EAAEA,MAFE;AAGVljB,eAAK,EAAEA,KAHG;AAIV7f,gBAAM,EAAEA,MAJE;AAKV2lC,qBAAW,EAAEA,WALH;AAMVjmB,gBAAM,EAAEA;AANE,SAAZ;;AASA,YAAI,CAAC,GAAGwlB,WAAW,CAAClB,eAAhB,EAAiCQ,OAAjC,CAAJ,EAA+C;AAC7C/gC,eAAK,CAACghC,QAAN,GAAiBD,OAAjB;AACD,SAFD,MAEO,IAAIA,OAAJ,EAAa;AAClB,eAAK,IAAIoB,IAAT,IAAiBpB,OAAjB,EAA0B;AACxB,gBAAI9hC,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCuhC,OAArC,EAA8CoB,IAA9C,CAAJ,EAAyDniC,KAAK,CAACmiC,IAAD,CAAL,GAAcpB,OAAO,CAACoB,IAAD,CAArB;AAC1D;AACF,SApBoE,CAsBrE;AACA;;;AACA,YAAI,CAAC,OAAOL,UAAP,KAAsB,WAAtB,GAAoC,WAApC,GAAkDpjC,OAAO,CAACojC,UAAD,CAA1D,MAA4E,QAA5E,IAAwF,CAAC,CAAC,GAAGX,QAAQ,CAACiB,kBAAb,EAAiCN,UAAjC,CAA7F,EAA2I;AACzI,cAAIO,QAAQ,GAAG,EAAf;;AAEA,eAAK,IAAI/iC,GAAT,IAAgBwiC,UAAhB,EAA4B;AAC1B,gBAAI7iC,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCsiC,UAArC,EAAiDxiC,GAAjD,CAAJ,EAA2D;AACzD;AACA;AACA;AACA+iC,sBAAQ,CAAC/iC,GAAD,CAAR,GAAgB69B,KAAK,CAAC9tB,aAAN,CAAoByyB,UAAU,CAACxiC,GAAD,CAA9B,EAAqCN,QAAQ,CAAC;AAC5DM,mBAAG,EAAEA;AADuD,eAAD,EAC/CU,KAD+C,CAA7C,CAAhB;AAED;AACF;;AAED,iBAAOqiC,QAAP;AACD;;AAED,eAAOlF,KAAK,CAAC9tB,aAAN,CAAoByyB,UAApB,EAAgC9hC,KAAhC,CAAP;AACD,OAzCS,EAyCP+gC,OAzCO,CAAV;AA0CD;;AAED,MAAEA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAhC,IAAyCnF,OAAO,CAACn/B,OAAR,CAAgBmkC,cAAhB,CAA+BG,OAA/B,CAA3C,IAAsFzgC,KAAA,GAAwC,CAAC,GAAGZ,WAAW,CAACjD,OAAhB,EAAyB,KAAzB,EAAgC,6CAAhC,CAAxC,GAAyH,SAA/M,GAAiP,KAAK,CAAtP;AAEA,WAAOskC,OAAP;AACD;AA7FiD,CAAhC,CAApB;AAgGAjkC,OAAO,CAACL,OAAR,GAAkBilC,aAAlB;AACA73B,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;ACvIa;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIiC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEArC,OAAO,CAACwlC,kBAAR,GAA6BA,kBAA7B;AACAxlC,OAAO,CAACylC,iBAAR,GAA4BA,iBAA5B;;AACA,SAASD,kBAAT,CAA4B97B,OAA5B,EAAqCg8B,iBAArC,EAAwD7hC,KAAxD,EAA+D;AAC7D,MAAIpE,MAAM,GAAGyC,QAAQ,CAAC,EAAD,EAAKwH,OAAL,EAAc;AACjCi8B,qBAAiB,EAAED,iBAAiB,CAACE,wBADJ;AAEjCC,YAAQ,EAAEH,iBAAiB,CAACG;AAFK,GAAd,CAArB;;AAKA,SAAOJ,iBAAiB,CAAChmC,MAAD,EAASoE,KAAT,CAAxB;AACD;;AAED,SAAS4hC,iBAAT,CAA2BhmC,MAA3B,EAAmCwgC,IAAnC,EAAyC;AACvC,MAAIn6B,QAAQ,GAAGm6B,IAAI,CAACn6B,QAApB;AAAA,MACI08B,MAAM,GAAGvC,IAAI,CAACuC,MADlB;AAAA,MAEIrjB,MAAM,GAAG8gB,IAAI,CAAC9gB,MAFlB;AAIA1f,QAAM,CAACqG,QAAP,GAAkBA,QAAlB;AACArG,QAAM,CAAC+iC,MAAP,GAAgBA,MAAhB;AACA/iC,QAAM,CAAC0f,MAAP,GAAgBA,MAAhB;AAEA,SAAO1f,MAAP;AACD,C;;;;;;;;;;;;AC3BY;;AAEbO,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACL,OAAR,GAAkBmmC,kBAAlB;;AAEA,IAAI9/B,WAAW,GAAGtG,mBAAO,CAAC,mEAAD,CAAzB;;AAEA,SAASqmC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAI7H,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,IAAI8H,YAAY,GAAG,SAASA,YAAT,GAAwB;AACzC,MAAI7F,KAAK,GAAG,IAAZ;;AAEA0F,iBAAe,CAAC,IAAD,EAAOG,YAAP,CAAf;;AAEA,OAAKC,KAAL,GAAa,EAAb;;AAEA,OAAKC,GAAL,GAAW,UAAUn8B,IAAV,EAAgB;AACzB,WAAOo2B,KAAK,CAAC8F,KAAN,CAAYz+B,IAAZ,CAAiBuC,IAAjB,CAAP;AACD,GAFD;;AAIA,OAAKyT,MAAL,GAAc,UAAUzT,IAAV,EAAgB;AAC5B,WAAOo2B,KAAK,CAAC8F,KAAN,GAAc9F,KAAK,CAAC8F,KAAN,CAAYx+B,MAAZ,CAAmB,UAAU0+B,CAAV,EAAa;AACnD,aAAOA,CAAC,KAAKp8B,IAAb;AACD,KAFoB,CAArB;AAGD,GAJD;;AAMA,OAAKolB,GAAL,GAAW,UAAUplB,IAAV,EAAgB;AACzB,WAAOo2B,KAAK,CAAC8F,KAAN,CAAYlhC,OAAZ,CAAoBgF,IAApB,MAA8B,CAAC,CAAtC;AACD,GAFD;;AAIA,OAAKmlB,KAAL,GAAa,YAAY;AACvB,WAAOiR,KAAK,CAAC8F,KAAN,GAAc,EAArB;AACD,GAFD;AAGD,CAxBD;;AA0BA,SAASL,kBAAT,GAA8B;AAC5B,MAAIQ,UAAU,GAAG,IAAIJ,YAAJ,EAAjB;AACA,MAAIK,WAAW,GAAG,IAAIL,YAAJ,EAAlB;;AAEA,WAASM,oBAAT,CAA8Bv8B,IAA9B,EAAoCqV,KAApC,EAA2CmnB,UAA3C,EAAuDC,YAAvD,EAAqE;AACnE,QAAI/lC,MAAM,GAAGsJ,IAAI,CAAChJ,MAAL,GAAcwlC,UAA3B;;AAEA,QAAIE,cAAc,GAAG,SAASA,cAAT,GAA0B;AAC7C,WAAK,IAAI5lC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAGC,KAAK,CAACJ,IAAD,CAAzC,EAAiDK,IAAI,GAAG,CAA7D,EAAgEA,IAAI,GAAGL,IAAvE,EAA6EK,IAAI,EAAjF,EAAqF;AACnFF,YAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACD;;AAED6I,UAAI,CAAC5I,KAAL,CAAWie,KAAX,EAAkBpe,IAAlB;;AAEA,UAAIP,MAAJ,EAAY;AACV,YAAIH,QAAQ,GAAGU,IAAI,CAACA,IAAI,CAACD,MAAL,GAAc,CAAf,CAAnB,CADU,CAEV;AACA;;AACAT,gBAAQ;AACT;AACF,KAbD;;AAeAkmC,gBAAY,CAACN,GAAb,CAAiBO,cAAjB;AAEA,WAAOA,cAAP;AACD;;AAED,WAASC,aAAT,CAAuBznB,MAAvB,EAA+B;AAC7B,WAAOA,MAAM,CAACjW,MAAP,CAAc,UAAUi9B,KAAV,EAAiB7mB,KAAjB,EAAwB;AAC3C,UAAIA,KAAK,CAACunB,OAAV,EAAmBV,KAAK,CAACz+B,IAAN,CAAW8+B,oBAAoB,CAAClnB,KAAK,CAACunB,OAAP,EAAgBvnB,KAAhB,EAAuB,CAAvB,EAA0BgnB,UAA1B,CAA/B;AACnB,aAAOH,KAAP;AACD,KAHM,EAGJ,EAHI,CAAP;AAID;;AAED,WAASW,cAAT,CAAwB3nB,MAAxB,EAAgC;AAC9B,WAAOA,MAAM,CAACjW,MAAP,CAAc,UAAUi9B,KAAV,EAAiB7mB,KAAjB,EAAwB;AAC3C,UAAIA,KAAK,CAACynB,QAAV,EAAoBZ,KAAK,CAACz+B,IAAN,CAAW8+B,oBAAoB,CAAClnB,KAAK,CAACynB,QAAP,EAAiBznB,KAAjB,EAAwB,CAAxB,EAA2BinB,WAA3B,CAA/B;AACpB,aAAOJ,KAAP;AACD,KAHM,EAGJ,EAHI,CAAP;AAID;;AAED,WAASa,kBAAT,CAA4B/lC,MAA5B,EAAoCgmC,IAApC,EAA0CzmC,QAA1C,EAAoD;AAClD,QAAI,CAACS,MAAL,EAAa;AACXT,cAAQ;AACR;AACD;;AAED,QAAI0mC,YAAY,GAAG,KAAK,CAAxB;;AACA,aAAS/hC,OAAT,CAAiBW,QAAjB,EAA2B;AACzBohC,kBAAY,GAAGphC,QAAf;AACD;;AAED,KAAC,GAAGE,WAAW,CAAC3F,SAAhB,EAA2BY,MAA3B,EAAmC,UAAUyD,KAAV,EAAiBnD,IAAjB,EAAuBT,IAAvB,EAA6B;AAC9DmmC,UAAI,CAACviC,KAAD,EAAQS,OAAR,EAAiB,UAAU0e,KAAV,EAAiB;AACpC,YAAIA,KAAK,IAAIqjB,YAAb,EAA2B;AACzBpmC,cAAI,CAAC+iB,KAAD,EAAQqjB,YAAR,CAAJ,CADyB,CACE;AAC5B,SAFD,MAEO;AACL3lC,cAAI;AACL;AACF,OANG,CAAJ;AAOD,KARD,EAQGf,QARH;AASD;AAED;;;;;;;;;;;;AAUA,WAAS2mC,aAAT,CAAuBhoB,MAAvB,EAA+BrC,SAA/B,EAA0Ctc,QAA1C,EAAoD;AAClD8lC,cAAU,CAAClX,KAAX;AACA,QAAI+W,KAAK,GAAGS,aAAa,CAACznB,MAAD,CAAzB;AACA,WAAO6nB,kBAAkB,CAACb,KAAK,CAACllC,MAAP,EAAe,UAAUyD,KAAV,EAAiBS,OAAjB,EAA0B5D,IAA1B,EAAgC;AACtE,UAAI6lC,WAAW,GAAG,SAASA,WAAT,GAAuB;AACvC,YAAId,UAAU,CAACjX,GAAX,CAAe8W,KAAK,CAACzhC,KAAD,CAApB,CAAJ,EAAkC;AAChCnD,cAAI,CAACF,KAAL,CAAWC,SAAX,EAAsBN,SAAtB;AACAslC,oBAAU,CAAC5oB,MAAX,CAAkByoB,KAAK,CAACzhC,KAAD,CAAvB;AACD;AACF,OALD;;AAMAyhC,WAAK,CAACzhC,KAAD,CAAL,CAAaoY,SAAb,EAAwB3X,OAAxB,EAAiCiiC,WAAjC;AACD,KARwB,EAQtB5mC,QARsB,CAAzB;AASD;AAED;;;;;;;;;;;;AAUA,WAAS6mC,cAAT,CAAwBloB,MAAxB,EAAgCtb,KAAhC,EAAuCiZ,SAAvC,EAAkDtc,QAAlD,EAA4D;AAC1D+lC,eAAW,CAACnX,KAAZ;AACA,QAAI+W,KAAK,GAAGW,cAAc,CAAC3nB,MAAD,CAA1B;AACA,WAAO6nB,kBAAkB,CAACb,KAAK,CAACllC,MAAP,EAAe,UAAUyD,KAAV,EAAiBS,OAAjB,EAA0B5D,IAA1B,EAAgC;AACtE,UAAI6lC,WAAW,GAAG,SAASA,WAAT,GAAuB;AACvC,YAAIb,WAAW,CAAClX,GAAZ,CAAgB8W,KAAK,CAACzhC,KAAD,CAArB,CAAJ,EAAmC;AACjCnD,cAAI,CAACF,KAAL,CAAWC,SAAX,EAAsBN,SAAtB;AACAulC,qBAAW,CAAC7oB,MAAZ,CAAmByoB,KAAK,CAACzhC,KAAD,CAAxB;AACD;AACF,OALD;;AAMAyhC,WAAK,CAACzhC,KAAD,CAAL,CAAab,KAAb,EAAoBiZ,SAApB,EAA+B3X,OAA/B,EAAwCiiC,WAAxC;AACD,KARwB,EAQtB5mC,QARsB,CAAzB;AASD;AAED;;;;;AAGA,WAAS8mC,aAAT,CAAuBnoB,MAAvB,EAA+BooB,SAA/B,EAA0C;AACxC,SAAK,IAAIjlC,CAAC,GAAG,CAAR,EAAW0gC,GAAG,GAAG7jB,MAAM,CAACle,MAA7B,EAAqCqB,CAAC,GAAG0gC,GAAzC,EAA8C,EAAE1gC,CAAhD,EAAmD;AACjD,UAAI6c,MAAM,CAAC7c,CAAD,CAAN,CAAUklC,OAAd,EAAuBroB,MAAM,CAAC7c,CAAD,CAAN,CAAUklC,OAAV,CAAkB9kC,IAAlB,CAAuByc,MAAM,CAAC7c,CAAD,CAA7B,EAAkCilC,SAAlC;AACxB;AACF;;AAED,SAAO;AACLJ,iBAAa,EAAEA,aADV;AAELE,kBAAc,EAAEA,cAFX;AAGLC,iBAAa,EAAEA;AAHV,GAAP;AAKD;;AACDv6B,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;ACjKa;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIwnC,aAAa,GAAG/nC,mBAAO,CAAC,uEAAD,CAA3B;;AAEA,SAASgoC,kBAAT,CAA4BpoB,KAA5B,EAAmCioB,SAAnC,EAA8CzqB,SAA9C,EAAyD;AACvD,MAAI,CAACwC,KAAK,CAAC7b,IAAX,EAAiB,OAAO,KAAP;AAEjB,MAAIq+B,UAAU,GAAG,CAAC,GAAG2F,aAAa,CAACjG,aAAlB,EAAiCliB,KAAK,CAAC7b,IAAvC,CAAjB;AAEA,SAAOq+B,UAAU,CAAC1tB,IAAX,CAAgB,UAAUquB,SAAV,EAAqB;AAC1C,WAAO8E,SAAS,CAAC/E,MAAV,CAAiBC,SAAjB,MAAgC3lB,SAAS,CAAC0lB,MAAV,CAAiBC,SAAjB,CAAvC;AACD,GAFM,CAAP;AAGD;AAED;;;;;;;;;;;;;;;AAaA,SAASkF,oBAAT,CAA8BJ,SAA9B,EAAyCzqB,SAAzC,EAAoD;AAClD,MAAI8qB,UAAU,GAAGL,SAAS,IAAIA,SAAS,CAACpoB,MAAxC;AACA,MAAI0oB,UAAU,GAAG/qB,SAAS,CAACqC,MAA3B;AAEA,MAAI2oB,WAAW,GAAG,KAAK,CAAvB;AAAA,MACIC,YAAY,GAAG,KAAK,CADxB;AAAA,MAEIC,WAAW,GAAG,KAAK,CAFvB;;AAGA,MAAIJ,UAAJ,EAAgB;AACd,QAAIK,eAAe,GAAG,KAAtB;AACAH,eAAW,GAAGF,UAAU,CAACjgC,MAAX,CAAkB,UAAU2X,KAAV,EAAiB;AAC/C,UAAI2oB,eAAJ,EAAqB;AACnB,eAAO,IAAP;AACD,OAFD,MAEO;AACL,YAAIC,SAAS,GAAGL,UAAU,CAAC5iC,OAAX,CAAmBqa,KAAnB,MAA8B,CAAC,CAA/B,IAAoCooB,kBAAkB,CAACpoB,KAAD,EAAQioB,SAAR,EAAmBzqB,SAAnB,CAAtE;AACA,YAAIorB,SAAJ,EAAeD,eAAe,GAAG,IAAlB;AACf,eAAOC,SAAP;AACD;AACF,KARa,CAAd,CAFc,CAYd;;AACAJ,eAAW,CAACK,OAAZ;AAEAH,eAAW,GAAG,EAAd;AACAD,gBAAY,GAAG,EAAf;AAEAF,cAAU,CAACtgC,OAAX,CAAmB,UAAU+X,KAAV,EAAiB;AAClC,UAAI+Z,KAAK,GAAGuO,UAAU,CAAC3iC,OAAX,CAAmBqa,KAAnB,MAA8B,CAAC,CAA3C;AACA,UAAI8oB,aAAa,GAAGN,WAAW,CAAC7iC,OAAZ,CAAoBqa,KAApB,MAA+B,CAAC,CAApD;AAEA,UAAI+Z,KAAK,IAAI+O,aAAb,EAA4BJ,WAAW,CAACtgC,IAAZ,CAAiB4X,KAAjB,EAA5B,KAAyDyoB,YAAY,CAACrgC,IAAb,CAAkB4X,KAAlB;AAC1D,KALD;AAMD,GAxBD,MAwBO;AACLwoB,eAAW,GAAG,EAAd;AACAC,gBAAY,GAAG,EAAf;AACAC,eAAW,GAAGH,UAAd;AACD;;AAED,SAAO;AACLC,eAAW,EAAEA,WADR;AAELC,gBAAY,EAAEA,YAFT;AAGLC,eAAW,EAAEA;AAHR,GAAP;AAKD;;AAEDhoC,OAAO,CAACL,OAAR,GAAkBgoC,oBAAlB;AACA56B,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;AC1Ea;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACL,OAAR,GAAkByJ,mBAAlB;;AAEA,IAAIi/B,WAAW,GAAG3oC,mBAAO,CAAC,wEAAD,CAAzB;;AAEA,IAAI4oC,YAAY,GAAGzlC,sBAAsB,CAACwlC,WAAD,CAAzC;;AAEA,IAAIE,YAAY,GAAG7oC,mBAAO,CAAC,0EAAD,CAA1B;;AAEA,IAAI8oC,aAAa,GAAG3lC,sBAAsB,CAAC0lC,YAAD,CAA1C;;AAEA,IAAIE,oBAAoB,GAAG/oC,mBAAO,CAAC,0FAAD,CAAlC;;AAEA,IAAIgpC,qBAAqB,GAAG7lC,sBAAsB,CAAC4lC,oBAAD,CAAlD;;AAEA,SAAS5lC,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,SAASqH,mBAAT,CAA6B/C,OAA7B,EAAsC;AACpC;AACA;AACA;AACA,MAAIic,aAAa,GAAG,CAAC,GAAGomB,qBAAqB,CAAC/oC,OAA1B,EAAmC0G,OAAnC,CAApB;;AACA,MAAID,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC3C,WAAOkc,aAAP;AACD,GAFD;;AAGA,MAAI5Y,OAAO,GAAG,CAAC,GAAG4+B,YAAY,CAAC3oC,OAAjB,EAA0B,CAAC,GAAG6oC,aAAa,CAAC7oC,OAAlB,EAA2ByG,aAA3B,CAA1B,EAAqEC,OAArE,CAAd;AACA,SAAOqD,OAAP;AACD;;AACDqD,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;AC9Ba;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIiC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEArC,OAAO,CAACL,OAAR,GAAkBgpC,uBAAlB;;AAEA,IAAIC,cAAc,GAAGlpC,mBAAO,CAAC,yEAAD,CAA5B;;AAEA,IAAImpC,eAAe,GAAGhmC,sBAAsB,CAAC+lC,cAAD,CAA5C;;AAEA,IAAIE,sBAAsB,GAAGppC,mBAAO,CAAC,uFAAD,CAApC;;AAEA,IAAIqpC,sBAAsB,GAAGlmC,sBAAsB,CAACimC,sBAAD,CAAnD;;AAEA,IAAIE,gBAAgB,GAAGtpC,mBAAO,CAAC,6EAAD,CAA9B;;AAEA,IAAIupC,iBAAiB,GAAGpmC,sBAAsB,CAACmmC,gBAAD,CAA9C;;AAEA,IAAIE,UAAU,GAAGxpC,mBAAO,CAAC,+DAAD,CAAxB;;AAEA,IAAIypC,UAAU,GAAGtmC,sBAAsB,CAACqmC,UAAD,CAAvC;;AAEA,IAAIE,cAAc,GAAG1pC,mBAAO,CAAC,yEAAD,CAA5B;;AAEA,IAAI2pC,eAAe,GAAGxmC,sBAAsB,CAACumC,cAAD,CAA5C;;AAEA,IAAIE,YAAY,GAAG5pC,mBAAO,CAAC,qEAAD,CAA1B;;AAEA,IAAI6pC,aAAa,GAAG1mC,sBAAsB,CAACymC,YAAD,CAA1C;;AAEA,SAASzmC,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,SAASynC,gBAAT,CAA0BlmC,MAA1B,EAAkC;AAChC,OAAK,IAAI2M,CAAT,IAAc3M,MAAd,EAAsB;AACpB,QAAInB,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCY,MAArC,EAA6C2M,CAA7C,CAAJ,EAAqD,OAAO,IAAP;AACtD;;AAAA,SAAO,KAAP;AACF;;AAED,SAAS04B,uBAAT,CAAiCj/B,OAAjC,EAA0CyV,MAA1C,EAAkD;AAChD,MAAItb,KAAK,GAAG,EAAZ;;AAEA,MAAI4lC,mBAAmB,GAAG,CAAC,GAAGR,iBAAiB,CAACtpC,OAAtB,GAA1B;AAAA,MACIwnC,aAAa,GAAGsC,mBAAmB,CAACtC,aADxC;AAAA,MAEIE,cAAc,GAAGoC,mBAAmB,CAACpC,cAFzC;AAAA,MAGIC,aAAa,GAAGmC,mBAAmB,CAACnC,aAHxC,CAHgD,CAQhD;AACA;;;AAGA,WAASzB,QAAT,CAAkB//B,QAAlB,EAA4B4jC,SAA5B,EAAuC;AACrC5jC,YAAQ,GAAG4D,OAAO,CAAChI,cAAR,CAAuBoE,QAAvB,CAAX;AAEA,WAAO,CAAC,GAAGqjC,UAAU,CAACxpC,OAAf,EAAwBmG,QAAxB,EAAkC4jC,SAAlC,EAA6C7lC,KAAK,CAACiC,QAAnD,EAA6DjC,KAAK,CAACsb,MAAnE,EAA2Etb,KAAK,CAAC2+B,MAAjF,CAAP;AACD;;AAED,MAAImH,gBAAgB,GAAG,KAAK,CAA5B;;AAEA,WAAStkC,KAAT,CAAeS,QAAf,EAAyBtF,QAAzB,EAAmC;AACjC,QAAImpC,gBAAgB,IAAIA,gBAAgB,CAAC7jC,QAAjB,KAA8BA,QAAtD,EAAgE;AAC9D;AACA8jC,iBAAW,CAACD,gBAAD,EAAmBnpC,QAAnB,CAAX;AACD,KAHD,MAGO;AACL,OAAC,GAAG+oC,aAAa,CAAC5pC,OAAlB,EAA2Bwf,MAA3B,EAAmCrZ,QAAnC,EAA6C,UAAU+d,KAAV,EAAiB/G,SAAjB,EAA4B;AACvE,YAAI+G,KAAJ,EAAW;AACTrjB,kBAAQ,CAACqjB,KAAD,CAAR;AACD,SAFD,MAEO,IAAI/G,SAAJ,EAAe;AACpB8sB,qBAAW,CAAC1nC,QAAQ,CAAC,EAAD,EAAK4a,SAAL,EAAgB;AAAEhX,oBAAQ,EAAEA;AAAZ,WAAhB,CAAT,EAAkDtF,QAAlD,CAAX;AACD,SAFM,MAEA;AACLA,kBAAQ;AACT;AACF,OARD;AASD;AACF;;AAED,WAASopC,WAAT,CAAqB9sB,SAArB,EAAgCtc,QAAhC,EAA0C;AACxC,QAAIqpC,qBAAqB,GAAG,CAAC,GAAGd,sBAAsB,CAACppC,OAA3B,EAAoCkE,KAApC,EAA2CiZ,SAA3C,CAA5B;AAAA,QACIgrB,WAAW,GAAG+B,qBAAqB,CAAC/B,WADxC;AAAA,QAEIC,YAAY,GAAG8B,qBAAqB,CAAC9B,YAFzC;AAAA,QAGIC,WAAW,GAAG6B,qBAAqB,CAAC7B,WAHxC;;AAKAV,iBAAa,CAACQ,WAAD,EAAcjkC,KAAd,CAAb,CANwC,CAQxC;;AACAikC,eAAW,CAACngC,MAAZ,CAAmB,UAAU2X,KAAV,EAAiB;AAClC,aAAO0oB,WAAW,CAAC/iC,OAAZ,CAAoBqa,KAApB,MAA+B,CAAC,CAAvC;AACD,KAFD,EAEG/X,OAFH,CAEWuiC,+BAFX,EATwC,CAaxC;;AACAzC,kBAAc,CAACU,YAAD,EAAelkC,KAAf,EAAsBiZ,SAAtB,EAAiC,UAAU+G,KAAV,EAAiBqjB,YAAjB,EAA+B;AAC5E,UAAIrjB,KAAK,IAAIqjB,YAAb,EAA2B,OAAO6C,qBAAqB,CAAClmB,KAAD,EAAQqjB,YAAR,CAA5B;AAE3BC,mBAAa,CAACa,WAAD,EAAclrB,SAAd,EAAyBktB,gBAAzB,CAAb;AACD,KAJa,CAAd;;AAMA,aAASA,gBAAT,CAA0BnmB,KAA1B,EAAiCqjB,YAAjC,EAA+C;AAC7C,UAAIrjB,KAAK,IAAIqjB,YAAb,EAA2B,OAAO6C,qBAAqB,CAAClmB,KAAD,EAAQqjB,YAAR,CAA5B,CADkB,CAG7C;;AACA,OAAC,GAAGmC,eAAe,CAAC1pC,OAApB,EAA6Bmd,SAA7B,EAAwC,UAAU+G,KAAV,EAAiBmhB,UAAjB,EAA6B;AACnE,YAAInhB,KAAJ,EAAW;AACTrjB,kBAAQ,CAACqjB,KAAD,CAAR;AACD,SAFD,MAEO;AACL;AACA;AACArjB,kBAAQ,CAAC,IAAD,EAAO,IAAP,EAAaqD,KAAK,GAAG3B,QAAQ,CAAC,EAAD,EAAK4a,SAAL,EAAgB;AAAEkoB,sBAAU,EAAEA;AAAd,WAAhB,CAA7B,CAAR;AACD;AACF,OARD;AASD;;AAED,aAAS+E,qBAAT,CAA+BlmB,KAA/B,EAAsCqjB,YAAtC,EAAoD;AAClD,UAAIrjB,KAAJ,EAAWrjB,QAAQ,CAACqjB,KAAD,CAAR,CAAX,KAAgCrjB,QAAQ,CAAC,IAAD,EAAO0mC,YAAP,CAAR;AACjC;AACF;;AAED,MAAI+C,SAAS,GAAG,CAAhB;;AAEA,WAASC,UAAT,CAAoB5qB,KAApB,EAA2B;AACzB,QAAInc,MAAM,GAAGnC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAjF;AAEA,WAAOse,KAAK,CAAC6qB,MAAN,IAAgBhnC,MAAM,KAAKmc,KAAK,CAAC6qB,MAAN,GAAeF,SAAS,EAA7B,CAA7B;AACD;;AAED,MAAIG,UAAU,GAAGjoC,MAAM,CAACgB,MAAP,CAAc,IAAd,CAAjB;;AAEA,WAASknC,sBAAT,CAAgClrB,MAAhC,EAAwC;AACtC,WAAOA,MAAM,CAACrV,GAAP,CAAW,UAAUwV,KAAV,EAAiB;AACjC,aAAO8qB,UAAU,CAACF,UAAU,CAAC5qB,KAAD,CAAX,CAAjB;AACD,KAFM,EAEJ3X,MAFI,CAEG,UAAUsC,IAAV,EAAgB;AACxB,aAAOA,IAAP;AACD,KAJM,CAAP;AAKD;;AAED,WAAS08B,cAAT,CAAwB7gC,QAAxB,EAAkCtF,QAAlC,EAA4C;AAC1C,KAAC,GAAG+oC,aAAa,CAAC5pC,OAAlB,EAA2Bwf,MAA3B,EAAmCrZ,QAAnC,EAA6C,UAAU+d,KAAV,EAAiB/G,SAAjB,EAA4B;AACvE,UAAIA,SAAS,IAAI,IAAjB,EAAuB;AACrB;AACA;AACA;AACAtc,gBAAQ;AACR;AACD,OAPsE,CASvE;AACA;;;AACAmpC,sBAAgB,GAAGznC,QAAQ,CAAC,EAAD,EAAK4a,SAAL,EAAgB;AAAEhX,gBAAQ,EAAEA;AAAZ,OAAhB,CAA3B;AAEA,UAAIqgC,KAAK,GAAGkE,sBAAsB,CAAC,CAAC,GAAGtB,sBAAsB,CAACppC,OAA3B,EAAoCkE,KAApC,EAA2C8lC,gBAA3C,EAA6D7B,WAA9D,CAAlC;AAEA,UAAIhgC,MAAM,GAAG,KAAK,CAAlB;;AACA,WAAK,IAAIxF,CAAC,GAAG,CAAR,EAAW0gC,GAAG,GAAGmD,KAAK,CAACllC,MAA5B,EAAoC6G,MAAM,IAAI,IAAV,IAAkBxF,CAAC,GAAG0gC,GAA1D,EAA+D,EAAE1gC,CAAjE,EAAoE;AAClE;AACA;AACAwF,cAAM,GAAGq+B,KAAK,CAAC7jC,CAAD,CAAL,CAASwD,QAAT,CAAT;AACD;;AAEDtF,cAAQ,CAACsH,MAAD,CAAR;AACD,KAvBD;AAwBD;AAED;;;AACA,WAASwiC,gBAAT,GAA4B;AAC1B;AACA;AACA,QAAIzmC,KAAK,CAACsb,MAAV,EAAkB;AAChB,UAAIgnB,KAAK,GAAGkE,sBAAsB,CAACxmC,KAAK,CAACsb,MAAP,CAAlC;AAEA,UAAIpX,OAAO,GAAG,KAAK,CAAnB;;AACA,WAAK,IAAIzF,CAAC,GAAG,CAAR,EAAW0gC,GAAG,GAAGmD,KAAK,CAACllC,MAA5B,EAAoC,OAAO8G,OAAP,KAAmB,QAAnB,IAA+BzF,CAAC,GAAG0gC,GAAvE,EAA4E,EAAE1gC,CAA9E,EAAiF;AAC/E;AACA;AACAyF,eAAO,GAAGo+B,KAAK,CAAC7jC,CAAD,CAAL,EAAV;AACD;;AAED,aAAOyF,OAAP;AACD;AACF;;AAED,MAAIwiC,cAAc,GAAG,KAAK,CAA1B;AAAA,MACIC,oBAAoB,GAAG,KAAK,CADhC;;AAGA,WAASV,+BAAT,CAAyCxqB,KAAzC,EAAgD;AAC9C,QAAImrB,OAAO,GAAGP,UAAU,CAAC5qB,KAAD,CAAxB;;AACA,QAAI,CAACmrB,OAAL,EAAc;AACZ;AACD;;AAED,WAAOL,UAAU,CAACK,OAAD,CAAjB;;AAEA,QAAI,CAACjB,gBAAgB,CAACY,UAAD,CAArB,EAAmC;AACjC;AACA,UAAIG,cAAJ,EAAoB;AAClBA,sBAAc;AACdA,sBAAc,GAAG,IAAjB;AACD;;AAED,UAAIC,oBAAJ,EAA0B;AACxBA,4BAAoB;AACpBA,4BAAoB,GAAG,IAAvB;AACD;AACF;AACF;AAED;;;;;;;;;;;;;;;AAaA,WAAS5E,wBAAT,CAAkCtmB,KAAlC,EAAyCrV,IAAzC,EAA+C;AAC7C,QAAIygC,qBAAqB,GAAG,CAAClB,gBAAgB,CAACY,UAAD,CAA7C;AACA,QAAIK,OAAO,GAAGP,UAAU,CAAC5qB,KAAD,EAAQ,IAAR,CAAxB;AAEA8qB,cAAU,CAACK,OAAD,CAAV,GAAsBxgC,IAAtB;;AAEA,QAAIygC,qBAAJ,EAA2B;AACzB;AACAH,oBAAc,GAAG7gC,OAAO,CAACjC,YAAR,CAAqBk/B,cAArB,CAAjB;AAEA,UAAIj9B,OAAO,CAACihC,kBAAZ,EAAgCH,oBAAoB,GAAG9gC,OAAO,CAACihC,kBAAR,CAA2BL,gBAA3B,CAAvB;AACjC;;AAED,WAAO,YAAY;AACjBR,qCAA+B,CAACxqB,KAAD,CAA/B;AACD,KAFD;AAGD;AAED;;;;;;;AAKA,WAAS1X,MAAT,CAAgBJ,QAAhB,EAA0B;AACxB,aAASojC,eAAT,CAAyB9kC,QAAzB,EAAmC;AACjC,UAAIjC,KAAK,CAACiC,QAAN,KAAmBA,QAAvB,EAAiC;AAC/B0B,gBAAQ,CAAC,IAAD,EAAO3D,KAAP,CAAR;AACD,OAFD,MAEO;AACLwB,aAAK,CAACS,QAAD,EAAW,UAAU+d,KAAV,EAAiBC,gBAAjB,EAAmChH,SAAnC,EAA8C;AAC5D,cAAI+G,KAAJ,EAAW;AACTrc,oBAAQ,CAACqc,KAAD,CAAR;AACD,WAFD,MAEO,IAAIC,gBAAJ,EAAsB;AAC3Bpa,mBAAO,CAACvE,OAAR,CAAgB2e,gBAAhB;AACD,WAFM,MAEA,IAAIhH,SAAJ,EAAe;AACpBtV,oBAAQ,CAAC,IAAD,EAAOsV,SAAP,CAAR;AACD,WAFM,MAEA;AACLtZ,iBAAA,GAAwC,CAAC,GAAGqlC,eAAe,CAAClpC,OAApB,EAA6B,KAA7B,EAAoC,wCAApC,EAA8EmG,QAAQ,CAACpC,QAAT,GAAoBoC,QAAQ,CAACnC,MAA7B,GAAsCmC,QAAQ,CAAClC,IAA7H,CAAxC,GAA6K,SAA7K;AACD;AACF,SAVI,CAAL;AAWD;AACF,KAjBuB,CAmBxB;AACA;AAEA;;;AACA,QAAIinC,WAAW,GAAGnhC,OAAO,CAAC9B,MAAR,CAAegjC,eAAf,CAAlB;;AAEA,QAAI/mC,KAAK,CAACiC,QAAV,EAAoB;AAClB;AACA0B,cAAQ,CAAC,IAAD,EAAO3D,KAAP,CAAR;AACD,KAHD,MAGO;AACL+mC,qBAAe,CAAClhC,OAAO,CAACpD,kBAAR,EAAD,CAAf;AACD;;AAED,WAAOukC,WAAP;AACD;;AAED,SAAO;AACLhF,YAAQ,EAAEA,QADL;AAELxgC,SAAK,EAAEA,KAFF;AAGLugC,4BAAwB,EAAEA,wBAHrB;AAILh+B,UAAM,EAAEA;AAJH,GAAP;AAMD;;AACDmF,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;AC3Ra;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAI+F,WAAW,GAAGtG,mBAAO,CAAC,mEAAD,CAAzB;;AAEA,IAAIorC,aAAa,GAAGprC,mBAAO,CAAC,uEAAD,CAA3B;;AAEA,SAASqrC,qBAAT,CAA+BjuB,SAA/B,EAA0CwC,KAA1C,EAAiD9e,QAAjD,EAA2D;AACzD,MAAI8e,KAAK,CAACc,SAAN,IAAmBd,KAAK,CAAC0lB,UAA7B,EAAyC;AACvCxkC,YAAQ,CAAC,IAAD,EAAO8e,KAAK,CAACc,SAAN,IAAmBd,KAAK,CAAC0lB,UAAhC,CAAR;AACA;AACD;;AAED,MAAIgG,YAAY,GAAG1rB,KAAK,CAAC0rB,YAAN,IAAsB1rB,KAAK,CAAC2rB,aAA/C;;AACA,MAAID,YAAJ,EAAkB;AAChB,QAAIE,eAAe,GAAGF,YAAY,CAACtoC,IAAb,CAAkB4c,KAAlB,EAAyBxC,SAAzB,EAAoCtc,QAApC,CAAtB;AACA,QAAI,CAAC,GAAGsqC,aAAa,CAACtH,SAAlB,EAA6B0H,eAA7B,CAAJ,EAAmDA,eAAe,CAAC10B,IAAhB,CAAqB,UAAU4J,SAAV,EAAqB;AAC3F,aAAO5f,QAAQ,CAAC,IAAD,EAAO4f,SAAP,CAAf;AACD,KAFkD,EAEhD5f,QAFgD;AAGpD,GALD,MAKO;AACLA,YAAQ;AACT;AACF;AAED;;;;;;;;;AAOA,SAASyqC,aAAT,CAAuBnuB,SAAvB,EAAkCtc,QAAlC,EAA4C;AAC1C,GAAC,GAAGwF,WAAW,CAACw4B,QAAhB,EAA0B1hB,SAAS,CAACqC,MAApC,EAA4C,UAAUG,KAAV,EAAiB5a,KAAjB,EAAwBlE,QAAxB,EAAkC;AAC5EuqC,yBAAqB,CAACjuB,SAAD,EAAYwC,KAAZ,EAAmB9e,QAAnB,CAArB;AACD,GAFD,EAEGA,QAFH;AAGD;;AAEDR,OAAO,CAACL,OAAR,GAAkBsrC,aAAlB;AACAl+B,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;ACvCa;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIwnC,aAAa,GAAG/nC,mBAAO,CAAC,uEAAD,CAA3B;AAEA;;;;;;AAIA,SAASyrC,cAAT,CAAwB7rB,KAAxB,EAA+BkjB,MAA/B,EAAuC;AACrC,MAAI4C,WAAW,GAAG,EAAlB;AAEA,MAAI,CAAC9lB,KAAK,CAAC7b,IAAX,EAAiB,OAAO2hC,WAAP;AAEjB,GAAC,GAAGqC,aAAa,CAACjG,aAAlB,EAAiCliB,KAAK,CAAC7b,IAAvC,EAA6C8D,OAA7C,CAAqD,UAAU0I,CAAV,EAAa;AAChE,QAAI9N,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqC8/B,MAArC,EAA6CvyB,CAA7C,CAAJ,EAAqD;AACnDm1B,iBAAW,CAACn1B,CAAD,CAAX,GAAiBuyB,MAAM,CAACvyB,CAAD,CAAvB;AACD;AACF,GAJD;AAMA,SAAOm1B,WAAP;AACD;;AAEDplC,OAAO,CAACL,OAAR,GAAkBwrC,cAAlB;AACAp+B,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;ACzBa;;;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAI2B,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,MAAM,CAACC,QAAd,MAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AAAE,kBAAcA,GAAd;AAAoB,CAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,SAAOA,GAAG,IAAI,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,GAAG,CAACC,WAAJ,KAAoBH,MAA3D,IAAqEE,GAAG,KAAKF,MAAM,CAACI,SAApF,GAAgG,QAAhG,YAAkHF,GAAlH,CAAP;AAA+H,CAA5Q;;AAEA/B,OAAO,CAACL,OAAR,GAAkBkmC,QAAlB;;AAEA,IAAI4B,aAAa,GAAG/nC,mBAAO,CAAC,uEAAD,CAA3B;;AAEA,SAAS0rC,SAAT,CAAmBpnC,CAAnB,EAAsBC,CAAtB,EAAyB;AACvB,MAAID,CAAC,IAAIC,CAAT,EAAY,OAAO,IAAP;AAEZ,MAAID,CAAC,IAAI,IAAL,IAAaC,CAAC,IAAI,IAAtB,EAA4B,OAAO,KAAP;;AAE5B,MAAI9C,KAAK,CAACiD,OAAN,CAAcJ,CAAd,CAAJ,EAAsB;AACpB,WAAO7C,KAAK,CAACiD,OAAN,CAAcH,CAAd,KAAoBD,CAAC,CAAC/C,MAAF,KAAagD,CAAC,CAAChD,MAAnC,IAA6C+C,CAAC,CAACQ,KAAF,CAAQ,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;AACjF,aAAO0mC,SAAS,CAAC3mC,IAAD,EAAOR,CAAC,CAACS,KAAD,CAAR,CAAhB;AACD,KAFmD,CAApD;AAGD;;AAED,MAAI,CAAC,OAAOV,CAAP,KAAa,WAAb,GAA2B,WAA3B,GAAyCpC,OAAO,CAACoC,CAAD,CAAjD,MAA0D,QAA9D,EAAwE;AACtE,SAAK,IAAIiM,CAAT,IAAcjM,CAAd,EAAiB;AACf,UAAI,CAAC7B,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCsB,CAArC,EAAwCiM,CAAxC,CAAL,EAAiD;AAC/C;AACD;;AAED,UAAIjM,CAAC,CAACiM,CAAD,CAAD,KAAS3O,SAAb,EAAwB;AACtB,YAAI2C,CAAC,CAACgM,CAAD,CAAD,KAAS3O,SAAb,EAAwB;AACtB,iBAAO,KAAP;AACD;AACF,OAJD,MAIO,IAAI,CAACa,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCuB,CAArC,EAAwCgM,CAAxC,CAAL,EAAiD;AACtD,eAAO,KAAP;AACD,OAFM,MAEA,IAAI,CAACm7B,SAAS,CAACpnC,CAAC,CAACiM,CAAD,CAAF,EAAOhM,CAAC,CAACgM,CAAD,CAAR,CAAd,EAA4B;AACjC,eAAO,KAAP;AACD;AACF;;AAED,WAAO,IAAP;AACD;;AAED,SAAO2hB,MAAM,CAAC5tB,CAAD,CAAN,KAAc4tB,MAAM,CAAC3tB,CAAD,CAA3B;AACD;AAED;;;;;;;AAKA,SAASonC,YAAT,CAAsB3nC,QAAtB,EAAgCsgB,eAAhC,EAAiD;AAC/C;AACA;AACA,MAAIA,eAAe,CAACvZ,MAAhB,CAAuB,CAAvB,MAA8B,GAAlC,EAAuC;AACrCuZ,mBAAe,GAAG,MAAMA,eAAxB;AACD,GAL8C,CAO/C;AACA;AACA;;;AACA,MAAItgB,QAAQ,CAAC+G,MAAT,CAAgB/G,QAAQ,CAACzC,MAAT,GAAkB,CAAlC,MAAyC,GAA7C,EAAkD;AAChDyC,YAAQ,IAAI,GAAZ;AACD;;AACD,MAAIsgB,eAAe,CAACvZ,MAAhB,CAAuBuZ,eAAe,CAAC/iB,MAAhB,GAAyB,CAAhD,MAAuD,GAA3D,EAAgE;AAC9D+iB,mBAAe,IAAI,GAAnB;AACD;;AAED,SAAOA,eAAe,KAAKtgB,QAA3B;AACD;AAED;;;;;AAGA,SAAS4nC,aAAT,CAAuB5nC,QAAvB,EAAiCyb,MAAjC,EAAyCqjB,MAAzC,EAAiD;AAC/C,MAAIJ,iBAAiB,GAAG1+B,QAAxB;AAAA,MACIo+B,UAAU,GAAG,EADjB;AAAA,MAEIO,WAAW,GAAG,EAFlB,CAD+C,CAK/C;;AACA,OAAK,IAAI//B,CAAC,GAAG,CAAR,EAAW0gC,GAAG,GAAG7jB,MAAM,CAACle,MAA7B,EAAqCqB,CAAC,GAAG0gC,GAAzC,EAA8C,EAAE1gC,CAAhD,EAAmD;AACjD,QAAIgd,KAAK,GAAGH,MAAM,CAAC7c,CAAD,CAAlB;AACA,QAAI4xB,OAAO,GAAG5U,KAAK,CAAC7b,IAAN,IAAc,EAA5B;;AAEA,QAAIywB,OAAO,CAACzpB,MAAR,CAAe,CAAf,MAAsB,GAA1B,EAA+B;AAC7B23B,uBAAiB,GAAG1+B,QAApB;AACAo+B,gBAAU,GAAG,EAAb;AACAO,iBAAW,GAAG,EAAd;AACD;;AAED,QAAID,iBAAiB,KAAK,IAAtB,IAA8BlO,OAAlC,EAA2C;AACzC,UAAIqX,OAAO,GAAG,CAAC,GAAG9D,aAAa,CAAClG,YAAlB,EAAgCrN,OAAhC,EAAyCkO,iBAAzC,CAAd;;AACA,UAAImJ,OAAJ,EAAa;AACXnJ,yBAAiB,GAAGmJ,OAAO,CAACnJ,iBAA5B;AACAN,kBAAU,GAAG,GAAGz6B,MAAH,CAAUy6B,UAAV,EAAsByJ,OAAO,CAACzJ,UAA9B,CAAb;AACAO,mBAAW,GAAG,GAAGh7B,MAAH,CAAUg7B,WAAV,EAAuBkJ,OAAO,CAAClJ,WAA/B,CAAd;AACD,OAJD,MAIO;AACLD,yBAAiB,GAAG,IAApB;AACD;;AAED,UAAIA,iBAAiB,KAAK,EAA1B,EAA8B;AAC5B;AACA;AACA;AACA,eAAON,UAAU,CAACt9B,KAAX,CAAiB,UAAUi+B,SAAV,EAAqB/9B,KAArB,EAA4B;AAClD,iBAAOktB,MAAM,CAACyQ,WAAW,CAAC39B,KAAD,CAAZ,CAAN,KAA+BktB,MAAM,CAAC4Q,MAAM,CAACC,SAAD,CAAP,CAA5C;AACD,SAFM,CAAP;AAGD;AACF;AACF;;AAED,SAAO,KAAP;AACD;AAED;;;;;;AAIA,SAAS+I,aAAT,CAAuB5gC,KAAvB,EAA8B6gC,WAA9B,EAA2C;AACzC,MAAIA,WAAW,IAAI,IAAnB,EAAyB,OAAO7gC,KAAK,IAAI,IAAhB;AAEzB,MAAIA,KAAK,IAAI,IAAb,EAAmB,OAAO,IAAP;AAEnB,SAAOwgC,SAAS,CAACxgC,KAAD,EAAQ6gC,WAAR,CAAhB;AACD;AAED;;;;;;AAIA,SAAS5F,QAAT,CAAkB5F,IAAlB,EAAwByJ,SAAxB,EAAmC9iC,eAAnC,EAAoDuY,MAApD,EAA4DqjB,MAA5D,EAAoE;AAClE,MAAI9+B,QAAQ,GAAGu8B,IAAI,CAACv8B,QAApB;AAAA,MACIkH,KAAK,GAAGq1B,IAAI,CAACr1B,KADjB;AAGA,MAAIhE,eAAe,IAAI,IAAvB,EAA6B,OAAO,KAAP,CAJqC,CAMlE;AACA;AACA;;AACA,MAAIlD,QAAQ,CAAC+G,MAAT,CAAgB,CAAhB,MAAuB,GAA3B,EAAgC;AAC9B/G,YAAQ,GAAG,MAAMA,QAAjB;AACD;;AAED,MAAI,CAAC2nC,YAAY,CAAC3nC,QAAD,EAAWkD,eAAe,CAAClD,QAA3B,CAAjB,EAAuD;AACrD;AACA;AACA,QAAIgmC,SAAS,IAAI,CAAC4B,aAAa,CAAC5nC,QAAD,EAAWyb,MAAX,EAAmBqjB,MAAnB,CAA/B,EAA2D;AACzD,aAAO,KAAP;AACD;AACF;;AAED,SAAOgJ,aAAa,CAAC5gC,KAAD,EAAQhE,eAAe,CAACgE,KAAxB,CAApB;AACD;;AACDmC,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;ACvJa;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIiC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEA,IAAIY,QAAQ,GAAGvD,mBAAO,CAAC,kEAAD,CAAtB;;AAEA,IAAIiD,UAAU,GAAGjD,mBAAO,CAAC,4BAAD,CAAxB;;AAEA,IAAIkD,WAAW,GAAGC,sBAAsB,CAACF,UAAD,CAAxC;;AAEA,IAAI8lC,oBAAoB,GAAG/oC,mBAAO,CAAC,qFAAD,CAAlC;;AAEA,IAAIgpC,qBAAqB,GAAG7lC,sBAAsB,CAAC4lC,oBAAD,CAAlD;;AAEA,IAAIiD,wBAAwB,GAAGhsC,mBAAO,CAAC,6FAAD,CAAtC;;AAEA,IAAIisC,yBAAyB,GAAG9oC,sBAAsB,CAAC6oC,wBAAD,CAAtD;;AAEA,IAAI/G,WAAW,GAAGjlC,mBAAO,CAAC,mEAAD,CAAzB;;AAEA,IAAIksC,YAAY,GAAGlsC,mBAAO,CAAC,qEAAD,CAA1B;;AAEA,SAASmD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,SAAS8pC,wBAAT,CAAkC9pC,GAAlC,EAAuCuC,IAAvC,EAA6C;AAAE,MAAIjC,MAAM,GAAG,EAAb;;AAAiB,OAAK,IAAIC,CAAT,IAAcP,GAAd,EAAmB;AAAE,QAAIuC,IAAI,CAACW,OAAL,CAAa3C,CAAb,KAAmB,CAAvB,EAA0B;AAAU,QAAI,CAACH,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCX,GAArC,EAA0CO,CAA1C,CAAL,EAAmD;AAAUD,UAAM,CAACC,CAAD,CAAN,GAAYP,GAAG,CAACO,CAAD,CAAf;AAAqB;;AAAC,SAAOD,MAAP;AAAgB;AAE5N;;;;;;;;;;;AASA,SAASgD,KAAT,CAAe46B,IAAf,EAAqBz/B,QAArB,EAA+B;AAC7B,MAAIkJ,OAAO,GAAGu2B,IAAI,CAACv2B,OAAnB;AAAA,MACIyV,MAAM,GAAG8gB,IAAI,CAAC9gB,MADlB;AAAA,MAEIrZ,QAAQ,GAAGm6B,IAAI,CAACn6B,QAFpB;AAAA,MAGIO,OAAO,GAAGwlC,wBAAwB,CAAC5L,IAAD,EAAO,CAAC,SAAD,EAAY,QAAZ,EAAsB,UAAtB,CAAP,CAHtC;;AAKA,IAAEv2B,OAAO,IAAI5D,QAAb,IAAyBtC,KAAA,GAAwC,CAAC,GAAGZ,WAAW,CAACjD,OAAhB,EAAyB,KAAzB,EAAgC,qCAAhC,CAAxC,GAAiH,SAA1I,GAA4K,KAAK,CAAjL;AAEA+J,SAAO,GAAGA,OAAO,GAAGA,OAAH,GAAa,CAAC,GAAGg/B,qBAAqB,CAAC/oC,OAA1B,EAAmC0G,OAAnC,CAA9B;AACA,MAAIq/B,iBAAiB,GAAG,CAAC,GAAGiG,yBAAyB,CAAChsC,OAA9B,EAAuC+J,OAAvC,EAAgD,CAAC,GAAGi7B,WAAW,CAACf,YAAhB,EAA8BzkB,MAA9B,CAAhD,CAAxB;;AAEA,MAAIrZ,QAAJ,EAAc;AACZ;AACAA,YAAQ,GAAG4D,OAAO,CAAChI,cAAR,CAAuBoE,QAAvB,CAAX;AACD,GAHD,MAGO;AACLA,YAAQ,GAAG4D,OAAO,CAACpD,kBAAR,EAAX;AACD;;AAEDo/B,mBAAiB,CAACrgC,KAAlB,CAAwBS,QAAxB,EAAkC,UAAU+d,KAAV,EAAiBC,gBAAjB,EAAmChH,SAAnC,EAA8C;AAC9E,QAAIlJ,WAAW,GAAG,KAAK,CAAvB;;AAEA,QAAIkJ,SAAJ,EAAe;AACb,UAAIrd,MAAM,GAAG,CAAC,GAAGmsC,YAAY,CAACpG,kBAAjB,EAAqC97B,OAArC,EAA8Cg8B,iBAA9C,EAAiE5oB,SAAjE,CAAb;AACAlJ,iBAAW,GAAG1R,QAAQ,CAAC,EAAD,EAAK4a,SAAL,EAAgB;AACpCrd,cAAM,EAAEA,MAD4B;AAEpCqsC,oBAAY,EAAE;AAAEpG,2BAAiB,EAAEA,iBAArB;AAAwCjmC,gBAAM,EAAEA;AAAhD;AAFsB,OAAhB,CAAtB;AAID;;AAEDe,YAAQ,CAACqjB,KAAD,EAAQC,gBAAgB,IAAIpa,OAAO,CAAChI,cAAR,CAAuBoiB,gBAAvB,EAAyC7gB,QAAQ,CAAC9C,OAAlD,CAA5B,EAAwFyT,WAAxF,CAAR;AACD,GAZD;AAaD;;AAED5T,OAAO,CAACL,OAAR,GAAkB0F,KAAlB;AACA0H,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;ACvEa;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIiC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,SAAS,CAACC,MAA9B,EAAsCqB,CAAC,EAAvC,EAA2C;AAAE,QAAIC,MAAM,GAAGvB,SAAS,CAACsB,CAAD,CAAtB;;AAA2B,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIJ,MAAM,CAACF,SAAP,CAAiBQ,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,cAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEArC,OAAO,CAACL,OAAR,GAAkBosC,WAAlB;;AAEA,IAAI/lC,WAAW,GAAGtG,mBAAO,CAAC,mEAAD,CAAzB;;AAEA,IAAIorC,aAAa,GAAGprC,mBAAO,CAAC,uEAAD,CAA3B;;AAEA,IAAI+nC,aAAa,GAAG/nC,mBAAO,CAAC,uEAAD,CAA3B;;AAEA,IAAIkpC,cAAc,GAAGlpC,mBAAO,CAAC,yEAAD,CAA5B;;AAEA,IAAImpC,eAAe,GAAGhmC,sBAAsB,CAAC+lC,cAAD,CAA5C;;AAEA,IAAIjE,WAAW,GAAGjlC,mBAAO,CAAC,mEAAD,CAAzB;;AAEA,SAASmD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,SAASiqC,cAAT,CAAwB1sB,KAAxB,EAA+BxZ,QAA/B,EAAyCg8B,UAAzC,EAAqDO,WAArD,EAAkE7hC,QAAlE,EAA4E;AAC1E,MAAI8e,KAAK,CAACJ,WAAV,EAAuB;AACrB,WAAO,CAAC,IAAD,EAAOI,KAAK,CAACJ,WAAb,CAAP;AACD;;AACD,MAAI,CAACI,KAAK,CAAC0sB,cAAX,EAA2B;AACzB,WAAO,EAAP;AACD;;AAED,MAAIvN,IAAI,GAAG,IAAX;AAAA,MACI32B,MAAM,GAAG,KAAK,CADlB;AAGA,MAAI6hC,gBAAgB,GAAG;AACrB7jC,YAAQ,EAAEA,QADW;AAErB08B,UAAM,EAAEyJ,YAAY,CAACnK,UAAD,EAAaO,WAAb;AAFC,GAAvB;AAKA,MAAI6J,iBAAiB,GAAG5sB,KAAK,CAAC0sB,cAAN,CAAqBrC,gBAArB,EAAuC,UAAU9lB,KAAV,EAAiB3E,WAAjB,EAA8B;AAC3FA,eAAW,GAAG,CAAC2E,KAAD,IAAU,CAAC,GAAG8gB,WAAW,CAACf,YAAhB,EAA8B1kB,WAA9B,CAAxB;;AACA,QAAIuf,IAAJ,EAAU;AACR32B,YAAM,GAAG,CAAC+b,KAAD,EAAQ3E,WAAR,CAAT;AACA;AACD;;AAED1e,YAAQ,CAACqjB,KAAD,EAAQ3E,WAAR,CAAR;AACD,GARuB,CAAxB;AAUA,MAAI,CAAC,GAAG4rB,aAAa,CAACtH,SAAlB,EAA6B0I,iBAA7B,CAAJ,EAAqDA,iBAAiB,CAAC11B,IAAlB,CAAuB,UAAU0I,WAAV,EAAuB;AACjG,WAAO1e,QAAQ,CAAC,IAAD,EAAO,CAAC,GAAGmkC,WAAW,CAACf,YAAhB,EAA8B1kB,WAA9B,CAAP,CAAf;AACD,GAFoD,EAElD1e,QAFkD;AAIrDi+B,MAAI,GAAG,KAAP;AACA,SAAO32B,MAAP,CA/B0E,CA+B3D;AAChB;;AAED,SAASqkC,aAAT,CAAuB7sB,KAAvB,EAA8BxZ,QAA9B,EAAwCg8B,UAAxC,EAAoDO,WAApD,EAAiE7hC,QAAjE,EAA2E;AACzE,MAAI8e,KAAK,CAACG,UAAV,EAAsB;AACpBjf,YAAQ,CAAC,IAAD,EAAO8e,KAAK,CAACG,UAAb,CAAR;AACD,GAFD,MAEO,IAAIH,KAAK,CAAC6sB,aAAV,EAAyB;AAC9B,QAAIxC,gBAAgB,GAAG;AACrB7jC,cAAQ,EAAEA,QADW;AAErB08B,YAAM,EAAEyJ,YAAY,CAACnK,UAAD,EAAaO,WAAb;AAFC,KAAvB;AAKA,QAAI+J,iBAAiB,GAAG9sB,KAAK,CAAC6sB,aAAN,CAAoBxC,gBAApB,EAAsC,UAAU9lB,KAAV,EAAiBpE,UAAjB,EAA6B;AACzFjf,cAAQ,CAACqjB,KAAD,EAAQ,CAACA,KAAD,IAAU,CAAC,GAAG8gB,WAAW,CAACf,YAAhB,EAA8BnkB,UAA9B,EAA0C,CAA1C,CAAlB,CAAR;AACD,KAFuB,CAAxB;AAIA,QAAI,CAAC,GAAGqrB,aAAa,CAACtH,SAAlB,EAA6B4I,iBAA7B,CAAJ,EAAqDA,iBAAiB,CAAC51B,IAAlB,CAAuB,UAAUiJ,UAAV,EAAsB;AAChG,aAAOjf,QAAQ,CAAC,IAAD,EAAO,CAAC,GAAGmkC,WAAW,CAACf,YAAhB,EAA8BnkB,UAA9B,EAA0C,CAA1C,CAAP,CAAf;AACD,KAFoD,EAElDjf,QAFkD;AAGtD,GAbM,MAaA,IAAI8e,KAAK,CAACJ,WAAN,IAAqBI,KAAK,CAAC0sB,cAA/B,EAA+C;AACpD,QAAIK,aAAa,GAAG,SAASA,aAAT,CAAuBxoB,KAAvB,EAA8B3E,WAA9B,EAA2C;AAC7D,UAAI2E,KAAJ,EAAW;AACTrjB,gBAAQ,CAACqjB,KAAD,CAAR;AACA;AACD;;AAED,UAAIyoB,QAAQ,GAAGptB,WAAW,CAACvX,MAAZ,CAAmB,UAAU4kC,UAAV,EAAsB;AACtD,eAAO,CAACA,UAAU,CAAC9oC,IAAnB;AACD,OAFc,CAAf;AAIA,OAAC,GAAGuC,WAAW,CAAC3F,SAAhB,EAA2BisC,QAAQ,CAACrrC,MAApC,EAA4C,UAAUyD,KAAV,EAAiBnD,IAAjB,EAAuBT,IAAvB,EAA6B;AACvEqrC,qBAAa,CAACG,QAAQ,CAAC5nC,KAAD,CAAT,EAAkBoB,QAAlB,EAA4Bg8B,UAA5B,EAAwCO,WAAxC,EAAqD,UAAUxe,KAAV,EAAiBpE,UAAjB,EAA6B;AAC7F,cAAIoE,KAAK,IAAIpE,UAAb,EAAyB;AACvB,gBAAIN,MAAM,GAAG,CAACmtB,QAAQ,CAAC5nC,KAAD,CAAT,EAAkB2C,MAAlB,CAAyBlG,KAAK,CAACiD,OAAN,CAAcqb,UAAd,IAA4BA,UAA5B,GAAyC,CAACA,UAAD,CAAlE,CAAb;AACA3e,gBAAI,CAAC+iB,KAAD,EAAQ1E,MAAR,CAAJ;AACD,WAHD,MAGO;AACL5d,gBAAI;AACL;AACF,SAPY,CAAb;AAQD,OATD,EASG,UAAUwjB,GAAV,EAAe5F,MAAf,EAAuB;AACxB3e,gBAAQ,CAAC,IAAD,EAAO2e,MAAP,CAAR;AACD,OAXD;AAYD,KAtBD;;AAwBA,QAAIrX,MAAM,GAAGkkC,cAAc,CAAC1sB,KAAD,EAAQxZ,QAAR,EAAkBg8B,UAAlB,EAA8BO,WAA9B,EAA2CgK,aAA3C,CAA3B;;AACA,QAAIvkC,MAAJ,EAAY;AACVukC,mBAAa,CAAChrC,KAAd,CAAoBC,SAApB,EAA+BwG,MAA/B;AACD;AACF,GA7BM,MA6BA;AACLtH,YAAQ;AACT;AACF;;AAED,SAASgsC,YAAT,CAAsBhK,MAAtB,EAA8BV,UAA9B,EAA0CO,WAA1C,EAAuD;AACrD,SAAOP,UAAU,CAAC54B,MAAX,CAAkB,UAAUs5B,MAAV,EAAkBC,SAAlB,EAA6B/9B,KAA7B,EAAoC;AAC3D,QAAIq+B,UAAU,GAAGV,WAAW,IAAIA,WAAW,CAAC39B,KAAD,CAA3C;;AAEA,QAAIvD,KAAK,CAACiD,OAAN,CAAco+B,MAAM,CAACC,SAAD,CAApB,CAAJ,EAAsC;AACpCD,YAAM,CAACC,SAAD,CAAN,CAAkB/6B,IAAlB,CAAuBq7B,UAAvB;AACD,KAFD,MAEO,IAAIN,SAAS,IAAID,MAAjB,EAAyB;AAC9BA,YAAM,CAACC,SAAD,CAAN,GAAoB,CAACD,MAAM,CAACC,SAAD,CAAP,EAAoBM,UAApB,CAApB;AACD,KAFM,MAEA;AACLP,YAAM,CAACC,SAAD,CAAN,GAAoBM,UAApB;AACD;;AAED,WAAOP,MAAP;AACD,GAZM,EAYJA,MAZI,CAAP;AAaD;;AAED,SAASyJ,YAAT,CAAsBnK,UAAtB,EAAkCO,WAAlC,EAA+C;AAC7C,SAAOmK,YAAY,CAAC,EAAD,EAAK1K,UAAL,EAAiBO,WAAjB,CAAnB;AACD;;AAED,SAASoK,cAAT,CAAwBntB,KAAxB,EAA+BxZ,QAA/B,EAAyCs8B,iBAAzC,EAA4DN,UAA5D,EAAwEO,WAAxE,EAAqF7hC,QAArF,EAA+F;AAC7F,MAAI0zB,OAAO,GAAG5U,KAAK,CAAC7b,IAAN,IAAc,EAA5B;;AAEA,MAAIywB,OAAO,CAACzpB,MAAR,CAAe,CAAf,MAAsB,GAA1B,EAA+B;AAC7B23B,qBAAiB,GAAGt8B,QAAQ,CAACpC,QAA7B;AACAo+B,cAAU,GAAG,EAAb;AACAO,eAAW,GAAG,EAAd;AACD,GAP4F,CAS7F;AACA;;;AACA,MAAID,iBAAiB,KAAK,IAAtB,IAA8BlO,OAAlC,EAA2C;AACzC,QAAI;AACF,UAAIqX,OAAO,GAAG,CAAC,GAAG9D,aAAa,CAAClG,YAAlB,EAAgCrN,OAAhC,EAAyCkO,iBAAzC,CAAd;;AACA,UAAImJ,OAAJ,EAAa;AACXnJ,yBAAiB,GAAGmJ,OAAO,CAACnJ,iBAA5B;AACAN,kBAAU,GAAG,GAAGz6B,MAAH,CAAUy6B,UAAV,EAAsByJ,OAAO,CAACzJ,UAA9B,CAAb;AACAO,mBAAW,GAAG,GAAGh7B,MAAH,CAAUg7B,WAAV,EAAuBkJ,OAAO,CAAClJ,WAA/B,CAAd;AACD,OAJD,MAIO;AACLD,yBAAiB,GAAG,IAApB;AACD;AACF,KATD,CASE,OAAOve,KAAP,EAAc;AACdrjB,cAAQ,CAACqjB,KAAD,CAAR;AACD,KAZwC,CAczC;AACA;;;AACA,QAAIue,iBAAiB,KAAK,EAA1B,EAA8B;AAC5B,UAAI/8B,KAAK,GAAG;AACV8Z,cAAM,EAAE,CAACG,KAAD,CADE;AAEVkjB,cAAM,EAAEyJ,YAAY,CAACnK,UAAD,EAAaO,WAAb;AAFV,OAAZ;AAKA8J,mBAAa,CAAC7sB,KAAD,EAAQxZ,QAAR,EAAkBg8B,UAAlB,EAA8BO,WAA9B,EAA2C,UAAUxe,KAAV,EAAiBpE,UAAjB,EAA6B;AACnF,YAAIoE,KAAJ,EAAW;AACTrjB,kBAAQ,CAACqjB,KAAD,CAAR;AACD,SAFD,MAEO;AACL,cAAI1iB,KAAK,CAACiD,OAAN,CAAcqb,UAAd,CAAJ,EAA+B;AAC7B,gBAAIitB,aAAJ;;AAEAlpC,iBAAA,GAAwC,CAAC,GAAGqlC,eAAe,CAAClpC,OAApB,EAA6B8f,UAAU,CAACjb,KAAX,CAAiB,UAAU8a,KAAV,EAAiB;AACrG,qBAAO,CAACA,KAAK,CAAC7b,IAAd;AACD,aAFoE,CAA7B,EAEpC,oCAFoC,CAAxC,GAE4C,SAF5C;;AAGA,aAACipC,aAAa,GAAGrnC,KAAK,CAAC8Z,MAAvB,EAA+BzX,IAA/B,CAAoCrG,KAApC,CAA0CqrC,aAA1C,EAAyDjtB,UAAzD;AACD,WAPD,MAOO,IAAIA,UAAJ,EAAgB;AACrBjc,iBAAA,GAAwC,CAAC,GAAGqlC,eAAe,CAAClpC,OAApB,EAA6B,CAAC8f,UAAU,CAAChc,IAAzC,EAA+C,oCAA/C,CAAxC,GAA+H,SAA/H;AACA4B,iBAAK,CAAC8Z,MAAN,CAAazX,IAAb,CAAkB+X,UAAlB;AACD;;AAEDjf,kBAAQ,CAAC,IAAD,EAAO6E,KAAP,CAAR;AACD;AACF,OAlBY,CAAb;AAoBA;AACD;AACF;;AAED,MAAI+8B,iBAAiB,IAAI,IAArB,IAA6B9iB,KAAK,CAACJ,WAAvC,EAAoD;AAClD;AACA;AACA;AACA,QAAImtB,aAAa,GAAG,SAASA,aAAT,CAAuBxoB,KAAvB,EAA8B3E,WAA9B,EAA2C;AAC7D,UAAI2E,KAAJ,EAAW;AACTrjB,gBAAQ,CAACqjB,KAAD,CAAR;AACD,OAFD,MAEO,IAAI3E,WAAJ,EAAiB;AACtB;AACA6sB,mBAAW,CAAC7sB,WAAD,EAAcpZ,QAAd,EAAwB,UAAU+d,KAAV,EAAiBxe,KAAjB,EAAwB;AACzD,cAAIwe,KAAJ,EAAW;AACTrjB,oBAAQ,CAACqjB,KAAD,CAAR;AACD,WAFD,MAEO,IAAIxe,KAAJ,EAAW;AAChB;AACAA,iBAAK,CAAC8Z,MAAN,CAAalJ,OAAb,CAAqBqJ,KAArB;AACA9e,oBAAQ,CAAC,IAAD,EAAO6E,KAAP,CAAR;AACD,WAJM,MAIA;AACL7E,oBAAQ;AACT;AACF,SAVU,EAUR4hC,iBAVQ,EAUWN,UAVX,EAUuBO,WAVvB,CAAX;AAWD,OAbM,MAaA;AACL7hC,gBAAQ;AACT;AACF,KAnBD;;AAqBA,QAAIsH,MAAM,GAAGkkC,cAAc,CAAC1sB,KAAD,EAAQxZ,QAAR,EAAkBg8B,UAAlB,EAA8BO,WAA9B,EAA2CgK,aAA3C,CAA3B;;AACA,QAAIvkC,MAAJ,EAAY;AACVukC,mBAAa,CAAChrC,KAAd,CAAoBC,SAApB,EAA+BwG,MAA/B;AACD;AACF,GA7BD,MA6BO;AACLtH,YAAQ;AACT;AACF;AAED;;;;;;;;;;;;;AAWA,SAASurC,WAAT,CAAqB5sB,MAArB,EAA6BrZ,QAA7B,EAAuCtF,QAAvC,EAAiD4hC,iBAAjD,EAAoE;AAClE,MAAIN,UAAU,GAAG9gC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAArF;AACA,MAAIqhC,WAAW,GAAGrhC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBM,SAAzC,GAAqDN,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAtF;;AAEA,MAAIohC,iBAAiB,KAAK9gC,SAA1B,EAAqC;AACnC;AACA;AACA;AACA,QAAIwE,QAAQ,CAACpC,QAAT,CAAkB+G,MAAlB,CAAyB,CAAzB,MAAgC,GAApC,EAAyC;AACvC3E,cAAQ,GAAG5D,QAAQ,CAAC,EAAD,EAAK4D,QAAL,EAAe;AAChCpC,gBAAQ,EAAE,MAAMoC,QAAQ,CAACpC;AADO,OAAf,CAAnB;AAGD;;AACD0+B,qBAAiB,GAAGt8B,QAAQ,CAACpC,QAA7B;AACD;;AAED,GAAC,GAAGsC,WAAW,CAAC3F,SAAhB,EAA2B8e,MAAM,CAACle,MAAlC,EAA0C,UAAUyD,KAAV,EAAiBnD,IAAjB,EAAuBT,IAAvB,EAA6B;AACrE2rC,kBAAc,CAACttB,MAAM,CAACza,KAAD,CAAP,EAAgBoB,QAAhB,EAA0Bs8B,iBAA1B,EAA6CN,UAA7C,EAAyDO,WAAzD,EAAsE,UAAUxe,KAAV,EAAiBxe,KAAjB,EAAwB;AAC1G,UAAIwe,KAAK,IAAIxe,KAAb,EAAoB;AAClBvE,YAAI,CAAC+iB,KAAD,EAAQxe,KAAR,CAAJ;AACD,OAFD,MAEO;AACL9D,YAAI;AACL;AACF,KANa,CAAd;AAOD,GARD,EAQGf,QARH;AASD;;AACDuM,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;AC9Pa;;AAEbA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACL,OAAR,GAAkBgtC,aAAlB;AACA3sC,OAAO,CAAC4sC,YAAR,GAAuBA,YAAvB;;AAEA,IAAI9pC,QAAQ,GAAGpD,mBAAO,CAAC,wBAAD,CAAtB;;AAEA,IAAIqD,SAAS,GAAGF,sBAAsB,CAACC,QAAD,CAAtC;;AAEA,SAASD,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,IAAI8qC,MAAM,GAAG,EAAb;;AAEA,SAASF,aAAT,CAAuBG,WAAvB,EAAoC/kC,OAApC,EAA6C;AAC3C;AACA,MAAIA,OAAO,CAAC9C,OAAR,CAAgB,YAAhB,MAAkC,CAAC,CAAvC,EAA0C;AACxC,QAAI4nC,MAAM,CAAC9kC,OAAD,CAAV,EAAqB;AACnB;AACD;;AAED8kC,UAAM,CAAC9kC,OAAD,CAAN,GAAkB,IAAlB;AACD;;AAEDA,SAAO,GAAG,oBAAoBA,OAA9B;;AAEA,OAAK,IAAIhH,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAGC,KAAK,CAACJ,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAvB,CAAzC,EAAoEK,IAAI,GAAG,CAAhF,EAAmFA,IAAI,GAAGL,IAA1F,EAAgGK,IAAI,EAApG,EAAwG;AACtGF,QAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiBJ,SAAS,CAACI,IAAD,CAA1B;AACD;;AAED2B,WAAS,CAACpD,OAAV,CAAkB0B,KAAlB,CAAwBC,SAAxB,EAAmC,CAACwrC,WAAD,EAAc/kC,OAAd,EAAuBV,MAAvB,CAA8BnG,IAA9B,CAAnC;AACD;;AAED,SAAS0rC,YAAT,GAAwB;AACtBC,QAAM,GAAG,EAAT;AACD,C;;;;;;;;;;;;ACnCY;;AAEb7sC,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACL,OAAR,GAAkB4iB,gBAAlB;;AAEA,IAAI8lB,WAAW,GAAG3oC,mBAAO,CAAC,wEAAD,CAAzB;;AAEA,IAAI4oC,YAAY,GAAGzlC,sBAAsB,CAACwlC,WAAD,CAAzC;;AAEA,IAAIE,YAAY,GAAG7oC,mBAAO,CAAC,0EAAD,CAA1B;;AAEA,IAAI8oC,aAAa,GAAG3lC,sBAAsB,CAAC0lC,YAAD,CAA1C;;AAEA,SAAS1lC,sBAAT,CAAgCd,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAAC9B,UAAX,GAAwB8B,GAAxB,GAA8B;AAAEpC,WAAO,EAAEoC;AAAX,GAArC;AAAwD;;AAE/F,SAASwgB,gBAAT,CAA0Bnc,aAA1B,EAAyC;AACvC,SAAO,UAAUC,OAAV,EAAmB;AACxB,QAAIqD,OAAO,GAAG,CAAC,GAAG4+B,YAAY,CAAC3oC,OAAjB,EAA0B,CAAC,GAAG6oC,aAAa,CAAC7oC,OAAlB,EAA2ByG,aAA3B,CAA1B,EAAqEC,OAArE,CAAd;AACA,WAAOqD,OAAP;AACD,GAHD;AAID;;AACDqD,MAAM,CAAC/M,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB,C;;;;;;;;;;;;;ACrBA;;;;;;AAOA,IAAI+sC,OAAO,GAAI,UAAU/sC,OAAV,EAAmB;AAChC;;AAEA,MAAIgtC,EAAE,GAAG7qC,MAAM,CAACF,SAAhB;AACA,MAAIgrC,MAAM,GAAGD,EAAE,CAACvqC,cAAhB;AACA,MAAInB,SAAJ,CALgC,CAKjB;;AACf,MAAI4rC,OAAO,GAAG,OAAOrrC,MAAP,KAAkB,UAAlB,GAA+BA,MAA/B,GAAwC,EAAtD;AACA,MAAIsrC,cAAc,GAAGD,OAAO,CAACprC,QAAR,IAAoB,YAAzC;AACA,MAAIsrC,mBAAmB,GAAGF,OAAO,CAACG,aAAR,IAAyB,iBAAnD;AACA,MAAIC,iBAAiB,GAAGJ,OAAO,CAAC9Z,WAAR,IAAuB,eAA/C;;AAEA,WAASma,IAAT,CAAcC,OAAd,EAAuBC,OAAvB,EAAgCpR,IAAhC,EAAsCqR,WAAtC,EAAmD;AACjD;AACA,QAAIC,cAAc,GAAGF,OAAO,IAAIA,OAAO,CAACxrC,SAAR,YAA6B2rC,SAAxC,GAAoDH,OAApD,GAA8DG,SAAnF;AACA,QAAIC,SAAS,GAAG1rC,MAAM,CAACgB,MAAP,CAAcwqC,cAAc,CAAC1rC,SAA7B,CAAhB;AACA,QAAIg/B,OAAO,GAAG,IAAI6M,OAAJ,CAAYJ,WAAW,IAAI,EAA3B,CAAd,CAJiD,CAMjD;AACA;;AACAG,aAAS,CAACE,OAAV,GAAoBC,gBAAgB,CAACR,OAAD,EAAUnR,IAAV,EAAgB4E,OAAhB,CAApC;AAEA,WAAO4M,SAAP;AACD;;AACD7tC,SAAO,CAACutC,IAAR,GAAeA,IAAf,CAvBgC,CAyBhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,WAASU,QAAT,CAAkBC,EAAlB,EAAsBnsC,GAAtB,EAA2Bi6B,GAA3B,EAAgC;AAC9B,QAAI;AACF,aAAO;AAAEz8B,YAAI,EAAE,QAAR;AAAkBy8B,WAAG,EAAEkS,EAAE,CAACxrC,IAAH,CAAQX,GAAR,EAAai6B,GAAb;AAAvB,OAAP;AACD,KAFD,CAEE,OAAOjX,GAAP,EAAY;AACZ,aAAO;AAAExlB,YAAI,EAAE,OAAR;AAAiBy8B,WAAG,EAAEjX;AAAtB,OAAP;AACD;AACF;;AAED,MAAIopB,sBAAsB,GAAG,gBAA7B;AACA,MAAIC,sBAAsB,GAAG,gBAA7B;AACA,MAAIC,iBAAiB,GAAG,WAAxB;AACA,MAAIC,iBAAiB,GAAG,WAAxB,CA9CgC,CAgDhC;AACA;;AACA,MAAIC,gBAAgB,GAAG,EAAvB,CAlDgC,CAoDhC;AACA;AACA;AACA;;AACA,WAASX,SAAT,GAAqB,CAAE;;AACvB,WAASY,iBAAT,GAA6B,CAAE;;AAC/B,WAASC,0BAAT,GAAsC,CAAE,CA1DR,CA4DhC;AACA;;;AACA,MAAIC,iBAAiB,GAAG,EAAxB;;AACAA,mBAAiB,CAACvB,cAAD,CAAjB,GAAoC,YAAY;AAC9C,WAAO,IAAP;AACD,GAFD;;AAIA,MAAIwB,QAAQ,GAAGxsC,MAAM,CAACk4B,cAAtB;AACA,MAAIuU,uBAAuB,GAAGD,QAAQ,IAAIA,QAAQ,CAACA,QAAQ,CAAChtB,MAAM,CAAC,EAAD,CAAP,CAAT,CAAlD;;AACA,MAAIitB,uBAAuB,IACvBA,uBAAuB,KAAK5B,EAD5B,IAEAC,MAAM,CAACvqC,IAAP,CAAYksC,uBAAZ,EAAqCzB,cAArC,CAFJ,EAE0D;AACxD;AACA;AACAuB,qBAAiB,GAAGE,uBAApB;AACD;;AAED,MAAIC,EAAE,GAAGJ,0BAA0B,CAACxsC,SAA3B,GACP2rC,SAAS,CAAC3rC,SAAV,GAAsBE,MAAM,CAACgB,MAAP,CAAcurC,iBAAd,CADxB;AAEAF,mBAAiB,CAACvsC,SAAlB,GAA8B4sC,EAAE,CAAC7sC,WAAH,GAAiBysC,0BAA/C;AACAA,4BAA0B,CAACzsC,WAA3B,GAAyCwsC,iBAAzC;AACAC,4BAA0B,CAACnB,iBAAD,CAA1B,GACEkB,iBAAiB,CAAC3J,WAAlB,GAAgC,mBADlC,CAjFgC,CAoFhC;AACA;;AACA,WAASiK,qBAAT,CAA+B7sC,SAA/B,EAA0C;AACxC,KAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,EAA4BsF,OAA5B,CAAoC,UAASwnC,MAAT,EAAiB;AACnD9sC,eAAS,CAAC8sC,MAAD,CAAT,GAAoB,UAAS/S,GAAT,EAAc;AAChC,eAAO,KAAK+R,OAAL,CAAagB,MAAb,EAAqB/S,GAArB,CAAP;AACD,OAFD;AAGD,KAJD;AAKD;;AAEDh8B,SAAO,CAACgvC,mBAAR,GAA8B,UAASC,MAAT,EAAiB;AAC7C,QAAIC,IAAI,GAAG,OAAOD,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACjtC,WAAlD;AACA,WAAOktC,IAAI,GACPA,IAAI,KAAKV,iBAAT,IACA;AACA;AACA,KAACU,IAAI,CAACrK,WAAL,IAAoBqK,IAAI,CAAC5vC,IAA1B,MAAoC,mBAJ7B,GAKP,KALJ;AAMD,GARD;;AAUAU,SAAO,CAAC8rB,IAAR,GAAe,UAASmjB,MAAT,EAAiB;AAC9B,QAAI9sC,MAAM,CAACgtC,cAAX,EAA2B;AACzBhtC,YAAM,CAACgtC,cAAP,CAAsBF,MAAtB,EAA8BR,0BAA9B;AACD,KAFD,MAEO;AACLQ,YAAM,CAACG,SAAP,GAAmBX,0BAAnB;;AACA,UAAI,EAAEnB,iBAAiB,IAAI2B,MAAvB,CAAJ,EAAoC;AAClCA,cAAM,CAAC3B,iBAAD,CAAN,GAA4B,mBAA5B;AACD;AACF;;AACD2B,UAAM,CAAChtC,SAAP,GAAmBE,MAAM,CAACgB,MAAP,CAAc0rC,EAAd,CAAnB;AACA,WAAOI,MAAP;AACD,GAXD,CAxGgC,CAqHhC;AACA;AACA;AACA;;;AACAjvC,SAAO,CAACqvC,KAAR,GAAgB,UAASrT,GAAT,EAAc;AAC5B,WAAO;AAAEsT,aAAO,EAAEtT;AAAX,KAAP;AACD,GAFD;;AAIA,WAASuT,aAAT,CAAuB1B,SAAvB,EAAkC;AAChC,aAAS2B,MAAT,CAAgBT,MAAhB,EAAwB/S,GAAxB,EAA6BpvB,OAA7B,EAAsCgX,MAAtC,EAA8C;AAC5C,UAAI6rB,MAAM,GAAGxB,QAAQ,CAACJ,SAAS,CAACkB,MAAD,CAAV,EAAoBlB,SAApB,EAA+B7R,GAA/B,CAArB;;AACA,UAAIyT,MAAM,CAAClwC,IAAP,KAAgB,OAApB,EAA6B;AAC3BqkB,cAAM,CAAC6rB,MAAM,CAACzT,GAAR,CAAN;AACD,OAFD,MAEO;AACL,YAAIl0B,MAAM,GAAG2nC,MAAM,CAACzT,GAApB;AACA,YAAIj3B,KAAK,GAAG+C,MAAM,CAAC/C,KAAnB;;AACA,YAAIA,KAAK,IACL,QAAOA,KAAP,MAAiB,QADjB,IAEAkoC,MAAM,CAACvqC,IAAP,CAAYqC,KAAZ,EAAmB,SAAnB,CAFJ,EAEmC;AACjC,iBAAO4H,OAAO,CAACC,OAAR,CAAgB7H,KAAK,CAACuqC,OAAtB,EAA+B94B,IAA/B,CAAoC,UAASzR,KAAT,EAAgB;AACzDyqC,kBAAM,CAAC,MAAD,EAASzqC,KAAT,EAAgB6H,OAAhB,EAAyBgX,MAAzB,CAAN;AACD,WAFM,EAEJ,UAASmB,GAAT,EAAc;AACfyqB,kBAAM,CAAC,OAAD,EAAUzqB,GAAV,EAAenY,OAAf,EAAwBgX,MAAxB,CAAN;AACD,WAJM,CAAP;AAKD;;AAED,eAAOjX,OAAO,CAACC,OAAR,CAAgB7H,KAAhB,EAAuByR,IAAvB,CAA4B,UAASk5B,SAAT,EAAoB;AACrD;AACA;AACA;AACA5nC,gBAAM,CAAC/C,KAAP,GAAe2qC,SAAf;AACA9iC,iBAAO,CAAC9E,MAAD,CAAP;AACD,SANM,EAMJ,UAAS+b,KAAT,EAAgB;AACjB;AACA;AACA,iBAAO2rB,MAAM,CAAC,OAAD,EAAU3rB,KAAV,EAAiBjX,OAAjB,EAA0BgX,MAA1B,CAAb;AACD,SAVM,CAAP;AAWD;AACF;;AAED,QAAI+rB,eAAJ;;AAEA,aAASC,OAAT,CAAiBb,MAAjB,EAAyB/S,GAAzB,EAA8B;AAC5B,eAAS6T,0BAAT,GAAsC;AACpC,eAAO,IAAIljC,OAAJ,CAAY,UAASC,OAAT,EAAkBgX,MAAlB,EAA0B;AAC3C4rB,gBAAM,CAACT,MAAD,EAAS/S,GAAT,EAAcpvB,OAAd,EAAuBgX,MAAvB,CAAN;AACD,SAFM,CAAP;AAGD;;AAED,aAAO+rB,eAAe,GACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,qBAAe,GAAGA,eAAe,CAACn5B,IAAhB,CAChBq5B,0BADgB,EAEhB;AACA;AACAA,gCAJgB,CAAH,GAKXA,0BAA0B,EAlBhC;AAmBD,KA5D+B,CA8DhC;AACA;;;AACA,SAAK9B,OAAL,GAAe6B,OAAf;AACD;;AAEDd,uBAAqB,CAACS,aAAa,CAACttC,SAAf,CAArB;;AACAstC,eAAa,CAACttC,SAAd,CAAwBmrC,mBAAxB,IAA+C,YAAY;AACzD,WAAO,IAAP;AACD,GAFD;;AAGAptC,SAAO,CAACuvC,aAAR,GAAwBA,aAAxB,CApMgC,CAsMhC;AACA;AACA;;AACAvvC,SAAO,CAAC8vC,KAAR,GAAgB,UAAStC,OAAT,EAAkBC,OAAlB,EAA2BpR,IAA3B,EAAiCqR,WAAjC,EAA8C;AAC5D,QAAIzG,IAAI,GAAG,IAAIsI,aAAJ,CACThC,IAAI,CAACC,OAAD,EAAUC,OAAV,EAAmBpR,IAAnB,EAAyBqR,WAAzB,CADK,CAAX;AAIA,WAAO1tC,OAAO,CAACgvC,mBAAR,CAA4BvB,OAA5B,IACHxG,IADG,CACE;AADF,MAEHA,IAAI,CAAC1lC,IAAL,GAAYiV,IAAZ,CAAiB,UAAS1O,MAAT,EAAiB;AAChC,aAAOA,MAAM,CAAChH,IAAP,GAAcgH,MAAM,CAAC/C,KAArB,GAA6BkiC,IAAI,CAAC1lC,IAAL,EAApC;AACD,KAFD,CAFJ;AAKD,GAVD;;AAYA,WAASysC,gBAAT,CAA0BR,OAA1B,EAAmCnR,IAAnC,EAAyC4E,OAAzC,EAAkD;AAChD,QAAIp9B,KAAK,GAAGsqC,sBAAZ;AAEA,WAAO,SAASqB,MAAT,CAAgBT,MAAhB,EAAwB/S,GAAxB,EAA6B;AAClC,UAAIn4B,KAAK,KAAKwqC,iBAAd,EAAiC;AAC/B,cAAM,IAAI1iC,KAAJ,CAAU,8BAAV,CAAN;AACD;;AAED,UAAI9H,KAAK,KAAKyqC,iBAAd,EAAiC;AAC/B,YAAIS,MAAM,KAAK,OAAf,EAAwB;AACtB,gBAAM/S,GAAN;AACD,SAH8B,CAK/B;AACA;;;AACA,eAAO+T,UAAU,EAAjB;AACD;;AAED9O,aAAO,CAAC8N,MAAR,GAAiBA,MAAjB;AACA9N,aAAO,CAACjF,GAAR,GAAcA,GAAd;;AAEA,aAAO,IAAP,EAAa;AACX,YAAIgU,QAAQ,GAAG/O,OAAO,CAAC+O,QAAvB;;AACA,YAAIA,QAAJ,EAAc;AACZ,cAAIC,cAAc,GAAGC,mBAAmB,CAACF,QAAD,EAAW/O,OAAX,CAAxC;;AACA,cAAIgP,cAAJ,EAAoB;AAClB,gBAAIA,cAAc,KAAK1B,gBAAvB,EAAyC;AACzC,mBAAO0B,cAAP;AACD;AACF;;AAED,YAAIhP,OAAO,CAAC8N,MAAR,KAAmB,MAAvB,EAA+B;AAC7B;AACA;AACA9N,iBAAO,CAACkP,IAAR,GAAelP,OAAO,CAACmP,KAAR,GAAgBnP,OAAO,CAACjF,GAAvC;AAED,SALD,MAKO,IAAIiF,OAAO,CAAC8N,MAAR,KAAmB,OAAvB,EAAgC;AACrC,cAAIlrC,KAAK,KAAKsqC,sBAAd,EAAsC;AACpCtqC,iBAAK,GAAGyqC,iBAAR;AACA,kBAAMrN,OAAO,CAACjF,GAAd;AACD;;AAEDiF,iBAAO,CAACoP,iBAAR,CAA0BpP,OAAO,CAACjF,GAAlC;AAED,SARM,MAQA,IAAIiF,OAAO,CAAC8N,MAAR,KAAmB,QAAvB,EAAiC;AACtC9N,iBAAO,CAACqP,MAAR,CAAe,QAAf,EAAyBrP,OAAO,CAACjF,GAAjC;AACD;;AAEDn4B,aAAK,GAAGwqC,iBAAR;AAEA,YAAIoB,MAAM,GAAGxB,QAAQ,CAACT,OAAD,EAAUnR,IAAV,EAAgB4E,OAAhB,CAArB;;AACA,YAAIwO,MAAM,CAAClwC,IAAP,KAAgB,QAApB,EAA8B;AAC5B;AACA;AACAsE,eAAK,GAAGo9B,OAAO,CAACngC,IAAR,GACJwtC,iBADI,GAEJF,sBAFJ;;AAIA,cAAIqB,MAAM,CAACzT,GAAP,KAAeuS,gBAAnB,EAAqC;AACnC;AACD;;AAED,iBAAO;AACLxpC,iBAAK,EAAE0qC,MAAM,CAACzT,GADT;AAELl7B,gBAAI,EAAEmgC,OAAO,CAACngC;AAFT,WAAP;AAKD,SAhBD,MAgBO,IAAI2uC,MAAM,CAAClwC,IAAP,KAAgB,OAApB,EAA6B;AAClCsE,eAAK,GAAGyqC,iBAAR,CADkC,CAElC;AACA;;AACArN,iBAAO,CAAC8N,MAAR,GAAiB,OAAjB;AACA9N,iBAAO,CAACjF,GAAR,GAAcyT,MAAM,CAACzT,GAArB;AACD;AACF;AACF,KAxED;AAyED,GAjS+B,CAmShC;AACA;AACA;AACA;;;AACA,WAASkU,mBAAT,CAA6BF,QAA7B,EAAuC/O,OAAvC,EAAgD;AAC9C,QAAI8N,MAAM,GAAGiB,QAAQ,CAACluC,QAAT,CAAkBm/B,OAAO,CAAC8N,MAA1B,CAAb;;AACA,QAAIA,MAAM,KAAKztC,SAAf,EAA0B;AACxB;AACA;AACA2/B,aAAO,CAAC+O,QAAR,GAAmB,IAAnB;;AAEA,UAAI/O,OAAO,CAAC8N,MAAR,KAAmB,OAAvB,EAAgC;AAC9B;AACA,YAAIiB,QAAQ,CAACluC,QAAT,CAAkB,QAAlB,CAAJ,EAAiC;AAC/B;AACA;AACAm/B,iBAAO,CAAC8N,MAAR,GAAiB,QAAjB;AACA9N,iBAAO,CAACjF,GAAR,GAAc16B,SAAd;AACA4uC,6BAAmB,CAACF,QAAD,EAAW/O,OAAX,CAAnB;;AAEA,cAAIA,OAAO,CAAC8N,MAAR,KAAmB,OAAvB,EAAgC;AAC9B;AACA;AACA,mBAAOR,gBAAP;AACD;AACF;;AAEDtN,eAAO,CAAC8N,MAAR,GAAiB,OAAjB;AACA9N,eAAO,CAACjF,GAAR,GAAc,IAAIoC,SAAJ,CACZ,gDADY,CAAd;AAED;;AAED,aAAOmQ,gBAAP;AACD;;AAED,QAAIkB,MAAM,GAAGxB,QAAQ,CAACc,MAAD,EAASiB,QAAQ,CAACluC,QAAlB,EAA4Bm/B,OAAO,CAACjF,GAApC,CAArB;;AAEA,QAAIyT,MAAM,CAAClwC,IAAP,KAAgB,OAApB,EAA6B;AAC3B0hC,aAAO,CAAC8N,MAAR,GAAiB,OAAjB;AACA9N,aAAO,CAACjF,GAAR,GAAcyT,MAAM,CAACzT,GAArB;AACAiF,aAAO,CAAC+O,QAAR,GAAmB,IAAnB;AACA,aAAOzB,gBAAP;AACD;;AAED,QAAIgC,IAAI,GAAGd,MAAM,CAACzT,GAAlB;;AAEA,QAAI,CAAEuU,IAAN,EAAY;AACVtP,aAAO,CAAC8N,MAAR,GAAiB,OAAjB;AACA9N,aAAO,CAACjF,GAAR,GAAc,IAAIoC,SAAJ,CAAc,kCAAd,CAAd;AACA6C,aAAO,CAAC+O,QAAR,GAAmB,IAAnB;AACA,aAAOzB,gBAAP;AACD;;AAED,QAAIgC,IAAI,CAACzvC,IAAT,EAAe;AACb;AACA;AACAmgC,aAAO,CAAC+O,QAAQ,CAACQ,UAAV,CAAP,GAA+BD,IAAI,CAACxrC,KAApC,CAHa,CAKb;;AACAk8B,aAAO,CAAC1/B,IAAR,GAAeyuC,QAAQ,CAACS,OAAxB,CANa,CAQb;AACA;AACA;AACA;AACA;AACA;;AACA,UAAIxP,OAAO,CAAC8N,MAAR,KAAmB,QAAvB,EAAiC;AAC/B9N,eAAO,CAAC8N,MAAR,GAAiB,MAAjB;AACA9N,eAAO,CAACjF,GAAR,GAAc16B,SAAd;AACD;AAEF,KAnBD,MAmBO;AACL;AACA,aAAOivC,IAAP;AACD,KAvE6C,CAyE9C;AACA;;;AACAtP,WAAO,CAAC+O,QAAR,GAAmB,IAAnB;AACA,WAAOzB,gBAAP;AACD,GApX+B,CAsXhC;AACA;;;AACAO,uBAAqB,CAACD,EAAD,CAArB;AAEAA,IAAE,CAACvB,iBAAD,CAAF,GAAwB,WAAxB,CA1XgC,CA4XhC;AACA;AACA;AACA;AACA;;AACAuB,IAAE,CAAC1B,cAAD,CAAF,GAAqB,YAAW;AAC9B,WAAO,IAAP;AACD,GAFD;;AAIA0B,IAAE,CAAC9qC,QAAH,GAAc,YAAW;AACvB,WAAO,oBAAP;AACD,GAFD;;AAIA,WAAS2sC,YAAT,CAAsBC,IAAtB,EAA4B;AAC1B,QAAI1nC,KAAK,GAAG;AAAE2nC,YAAM,EAAED,IAAI,CAAC,CAAD;AAAd,KAAZ;;AAEA,QAAI,KAAKA,IAAT,EAAe;AACb1nC,WAAK,CAAC4nC,QAAN,GAAiBF,IAAI,CAAC,CAAD,CAArB;AACD;;AAED,QAAI,KAAKA,IAAT,EAAe;AACb1nC,WAAK,CAAC6nC,UAAN,GAAmBH,IAAI,CAAC,CAAD,CAAvB;AACA1nC,WAAK,CAAC8nC,QAAN,GAAiBJ,IAAI,CAAC,CAAD,CAArB;AACD;;AAED,SAAKK,UAAL,CAAgBtpC,IAAhB,CAAqBuB,KAArB;AACD;;AAED,WAASgoC,aAAT,CAAuBhoC,KAAvB,EAA8B;AAC5B,QAAIwmC,MAAM,GAAGxmC,KAAK,CAACioC,UAAN,IAAoB,EAAjC;AACAzB,UAAM,CAAClwC,IAAP,GAAc,QAAd;AACA,WAAOkwC,MAAM,CAACzT,GAAd;AACA/yB,SAAK,CAACioC,UAAN,GAAmBzB,MAAnB;AACD;;AAED,WAAS3B,OAAT,CAAiBJ,WAAjB,EAA8B;AAC5B;AACA;AACA;AACA,SAAKsD,UAAL,GAAkB,CAAC;AAAEJ,YAAM,EAAE;AAAV,KAAD,CAAlB;AACAlD,eAAW,CAACnmC,OAAZ,CAAoBmpC,YAApB,EAAkC,IAAlC;AACA,SAAKS,KAAL,CAAW,IAAX;AACD;;AAEDnxC,SAAO,CAACsE,IAAR,GAAe,UAAShB,MAAT,EAAiB;AAC9B,QAAIgB,IAAI,GAAG,EAAX;;AACA,SAAK,IAAI9B,GAAT,IAAgBc,MAAhB,EAAwB;AACtBgB,UAAI,CAACoD,IAAL,CAAUlF,GAAV;AACD;;AACD8B,QAAI,CAAC6jC,OAAL,GAL8B,CAO9B;AACA;;AACA,WAAO,SAAS5mC,IAAT,GAAgB;AACrB,aAAO+C,IAAI,CAACrD,MAAZ,EAAoB;AAClB,YAAIuB,GAAG,GAAG8B,IAAI,CAACi3B,GAAL,EAAV;;AACA,YAAI/4B,GAAG,IAAIc,MAAX,EAAmB;AACjB/B,cAAI,CAACwD,KAAL,GAAavC,GAAb;AACAjB,cAAI,CAACT,IAAL,GAAY,KAAZ;AACA,iBAAOS,IAAP;AACD;AACF,OARoB,CAUrB;AACA;AACA;;;AACAA,UAAI,CAACT,IAAL,GAAY,IAAZ;AACA,aAAOS,IAAP;AACD,KAfD;AAgBD,GAzBD;;AA2BA,WAASogB,MAAT,CAAgBmY,QAAhB,EAA0B;AACxB,QAAIA,QAAJ,EAAc;AACZ,UAAIsX,cAAc,GAAGtX,QAAQ,CAACqT,cAAD,CAA7B;;AACA,UAAIiE,cAAJ,EAAoB;AAClB,eAAOA,cAAc,CAAC1uC,IAAf,CAAoBo3B,QAApB,CAAP;AACD;;AAED,UAAI,OAAOA,QAAQ,CAACv4B,IAAhB,KAAyB,UAA7B,EAAyC;AACvC,eAAOu4B,QAAP;AACD;;AAED,UAAI,CAACuX,KAAK,CAACvX,QAAQ,CAAC74B,MAAV,CAAV,EAA6B;AAC3B,YAAIqB,CAAC,GAAG,CAAC,CAAT;AAAA,YAAYf,IAAI,GAAG,SAASA,IAAT,GAAgB;AACjC,iBAAO,EAAEe,CAAF,GAAMw3B,QAAQ,CAAC74B,MAAtB,EAA8B;AAC5B,gBAAIgsC,MAAM,CAACvqC,IAAP,CAAYo3B,QAAZ,EAAsBx3B,CAAtB,CAAJ,EAA8B;AAC5Bf,kBAAI,CAACwD,KAAL,GAAa+0B,QAAQ,CAACx3B,CAAD,CAArB;AACAf,kBAAI,CAACT,IAAL,GAAY,KAAZ;AACA,qBAAOS,IAAP;AACD;AACF;;AAEDA,cAAI,CAACwD,KAAL,GAAazD,SAAb;AACAC,cAAI,CAACT,IAAL,GAAY,IAAZ;AAEA,iBAAOS,IAAP;AACD,SAbD;;AAeA,eAAOA,IAAI,CAACA,IAAL,GAAYA,IAAnB;AACD;AACF,KA7BuB,CA+BxB;;;AACA,WAAO;AAAEA,UAAI,EAAEwuC;AAAR,KAAP;AACD;;AACD/vC,SAAO,CAAC2hB,MAAR,GAAiBA,MAAjB;;AAEA,WAASouB,UAAT,GAAsB;AACpB,WAAO;AAAEhrC,WAAK,EAAEzD,SAAT;AAAoBR,UAAI,EAAE;AAA1B,KAAP;AACD;;AAEDgtC,SAAO,CAAC7rC,SAAR,GAAoB;AAClBD,eAAW,EAAE8rC,OADK;AAGlBqD,SAAK,EAAE,eAASG,aAAT,EAAwB;AAC7B,WAAKC,IAAL,GAAY,CAAZ;AACA,WAAKhwC,IAAL,GAAY,CAAZ,CAF6B,CAG7B;AACA;;AACA,WAAK4uC,IAAL,GAAY,KAAKC,KAAL,GAAa9uC,SAAzB;AACA,WAAKR,IAAL,GAAY,KAAZ;AACA,WAAKkvC,QAAL,GAAgB,IAAhB;AAEA,WAAKjB,MAAL,GAAc,MAAd;AACA,WAAK/S,GAAL,GAAW16B,SAAX;AAEA,WAAK0vC,UAAL,CAAgBzpC,OAAhB,CAAwB0pC,aAAxB;;AAEA,UAAI,CAACK,aAAL,EAAoB;AAClB,aAAK,IAAIhyC,IAAT,IAAiB,IAAjB,EAAuB;AACrB;AACA,cAAIA,IAAI,CAACmL,MAAL,CAAY,CAAZ,MAAmB,GAAnB,IACAwiC,MAAM,CAACvqC,IAAP,CAAY,IAAZ,EAAkBpD,IAAlB,CADA,IAEA,CAAC+xC,KAAK,CAAC,CAAC/xC,IAAI,CAACgI,KAAL,CAAW,CAAX,CAAF,CAFV,EAE4B;AAC1B,iBAAKhI,IAAL,IAAagC,SAAb;AACD;AACF;AACF;AACF,KA3BiB;AA6BlBkwC,QAAI,EAAE,gBAAW;AACf,WAAK1wC,IAAL,GAAY,IAAZ;AAEA,UAAI2wC,SAAS,GAAG,KAAKT,UAAL,CAAgB,CAAhB,CAAhB;AACA,UAAIU,UAAU,GAAGD,SAAS,CAACP,UAA3B;;AACA,UAAIQ,UAAU,CAACnyC,IAAX,KAAoB,OAAxB,EAAiC;AAC/B,cAAMmyC,UAAU,CAAC1V,GAAjB;AACD;;AAED,aAAO,KAAK2V,IAAZ;AACD,KAvCiB;AAyClBtB,qBAAiB,EAAE,2BAASuB,SAAT,EAAoB;AACrC,UAAI,KAAK9wC,IAAT,EAAe;AACb,cAAM8wC,SAAN;AACD;;AAED,UAAI3Q,OAAO,GAAG,IAAd;;AACA,eAAS4Q,MAAT,CAAgBC,GAAhB,EAAqBC,MAArB,EAA6B;AAC3BtC,cAAM,CAAClwC,IAAP,GAAc,OAAd;AACAkwC,cAAM,CAACzT,GAAP,GAAa4V,SAAb;AACA3Q,eAAO,CAAC1/B,IAAR,GAAeuwC,GAAf;;AAEA,YAAIC,MAAJ,EAAY;AACV;AACA;AACA9Q,iBAAO,CAAC8N,MAAR,GAAiB,MAAjB;AACA9N,iBAAO,CAACjF,GAAR,GAAc16B,SAAd;AACD;;AAED,eAAO,CAAC,CAAEywC,MAAV;AACD;;AAED,WAAK,IAAIzvC,CAAC,GAAG,KAAK0uC,UAAL,CAAgB/vC,MAAhB,GAAyB,CAAtC,EAAyCqB,CAAC,IAAI,CAA9C,EAAiD,EAAEA,CAAnD,EAAsD;AACpD,YAAI2G,KAAK,GAAG,KAAK+nC,UAAL,CAAgB1uC,CAAhB,CAAZ;AACA,YAAImtC,MAAM,GAAGxmC,KAAK,CAACioC,UAAnB;;AAEA,YAAIjoC,KAAK,CAAC2nC,MAAN,KAAiB,MAArB,EAA6B;AAC3B;AACA;AACA;AACA,iBAAOiB,MAAM,CAAC,KAAD,CAAb;AACD;;AAED,YAAI5oC,KAAK,CAAC2nC,MAAN,IAAgB,KAAKW,IAAzB,EAA+B;AAC7B,cAAIS,QAAQ,GAAG/E,MAAM,CAACvqC,IAAP,CAAYuG,KAAZ,EAAmB,UAAnB,CAAf;AACA,cAAIgpC,UAAU,GAAGhF,MAAM,CAACvqC,IAAP,CAAYuG,KAAZ,EAAmB,YAAnB,CAAjB;;AAEA,cAAI+oC,QAAQ,IAAIC,UAAhB,EAA4B;AAC1B,gBAAI,KAAKV,IAAL,GAAYtoC,KAAK,CAAC4nC,QAAtB,EAAgC;AAC9B,qBAAOgB,MAAM,CAAC5oC,KAAK,CAAC4nC,QAAP,EAAiB,IAAjB,CAAb;AACD,aAFD,MAEO,IAAI,KAAKU,IAAL,GAAYtoC,KAAK,CAAC6nC,UAAtB,EAAkC;AACvC,qBAAOe,MAAM,CAAC5oC,KAAK,CAAC6nC,UAAP,CAAb;AACD;AAEF,WAPD,MAOO,IAAIkB,QAAJ,EAAc;AACnB,gBAAI,KAAKT,IAAL,GAAYtoC,KAAK,CAAC4nC,QAAtB,EAAgC;AAC9B,qBAAOgB,MAAM,CAAC5oC,KAAK,CAAC4nC,QAAP,EAAiB,IAAjB,CAAb;AACD;AAEF,WALM,MAKA,IAAIoB,UAAJ,EAAgB;AACrB,gBAAI,KAAKV,IAAL,GAAYtoC,KAAK,CAAC6nC,UAAtB,EAAkC;AAChC,qBAAOe,MAAM,CAAC5oC,KAAK,CAAC6nC,UAAP,CAAb;AACD;AAEF,WALM,MAKA;AACL,kBAAM,IAAInlC,KAAJ,CAAU,wCAAV,CAAN;AACD;AACF;AACF;AACF,KAnGiB;AAqGlB2kC,UAAM,EAAE,gBAAS/wC,IAAT,EAAey8B,GAAf,EAAoB;AAC1B,WAAK,IAAI15B,CAAC,GAAG,KAAK0uC,UAAL,CAAgB/vC,MAAhB,GAAyB,CAAtC,EAAyCqB,CAAC,IAAI,CAA9C,EAAiD,EAAEA,CAAnD,EAAsD;AACpD,YAAI2G,KAAK,GAAG,KAAK+nC,UAAL,CAAgB1uC,CAAhB,CAAZ;;AACA,YAAI2G,KAAK,CAAC2nC,MAAN,IAAgB,KAAKW,IAArB,IACAtE,MAAM,CAACvqC,IAAP,CAAYuG,KAAZ,EAAmB,YAAnB,CADA,IAEA,KAAKsoC,IAAL,GAAYtoC,KAAK,CAAC6nC,UAFtB,EAEkC;AAChC,cAAIoB,YAAY,GAAGjpC,KAAnB;AACA;AACD;AACF;;AAED,UAAIipC,YAAY,KACX3yC,IAAI,KAAK,OAAT,IACAA,IAAI,KAAK,UAFE,CAAZ,IAGA2yC,YAAY,CAACtB,MAAb,IAAuB5U,GAHvB,IAIAA,GAAG,IAAIkW,YAAY,CAACpB,UAJxB,EAIoC;AAClC;AACA;AACAoB,oBAAY,GAAG,IAAf;AACD;;AAED,UAAIzC,MAAM,GAAGyC,YAAY,GAAGA,YAAY,CAAChB,UAAhB,GAA6B,EAAtD;AACAzB,YAAM,CAAClwC,IAAP,GAAcA,IAAd;AACAkwC,YAAM,CAACzT,GAAP,GAAaA,GAAb;;AAEA,UAAIkW,YAAJ,EAAkB;AAChB,aAAKnD,MAAL,GAAc,MAAd;AACA,aAAKxtC,IAAL,GAAY2wC,YAAY,CAACpB,UAAzB;AACA,eAAOvC,gBAAP;AACD;;AAED,aAAO,KAAK4D,QAAL,CAAc1C,MAAd,CAAP;AACD,KArIiB;AAuIlB0C,YAAQ,EAAE,kBAAS1C,MAAT,EAAiBsB,QAAjB,EAA2B;AACnC,UAAItB,MAAM,CAAClwC,IAAP,KAAgB,OAApB,EAA6B;AAC3B,cAAMkwC,MAAM,CAACzT,GAAb;AACD;;AAED,UAAIyT,MAAM,CAAClwC,IAAP,KAAgB,OAAhB,IACAkwC,MAAM,CAAClwC,IAAP,KAAgB,UADpB,EACgC;AAC9B,aAAKgC,IAAL,GAAYkuC,MAAM,CAACzT,GAAnB;AACD,OAHD,MAGO,IAAIyT,MAAM,CAAClwC,IAAP,KAAgB,QAApB,EAA8B;AACnC,aAAKoyC,IAAL,GAAY,KAAK3V,GAAL,GAAWyT,MAAM,CAACzT,GAA9B;AACA,aAAK+S,MAAL,GAAc,QAAd;AACA,aAAKxtC,IAAL,GAAY,KAAZ;AACD,OAJM,MAIA,IAAIkuC,MAAM,CAAClwC,IAAP,KAAgB,QAAhB,IAA4BwxC,QAAhC,EAA0C;AAC/C,aAAKxvC,IAAL,GAAYwvC,QAAZ;AACD;;AAED,aAAOxC,gBAAP;AACD,KAxJiB;AA0JlB6D,UAAM,EAAE,gBAAStB,UAAT,EAAqB;AAC3B,WAAK,IAAIxuC,CAAC,GAAG,KAAK0uC,UAAL,CAAgB/vC,MAAhB,GAAyB,CAAtC,EAAyCqB,CAAC,IAAI,CAA9C,EAAiD,EAAEA,CAAnD,EAAsD;AACpD,YAAI2G,KAAK,GAAG,KAAK+nC,UAAL,CAAgB1uC,CAAhB,CAAZ;;AACA,YAAI2G,KAAK,CAAC6nC,UAAN,KAAqBA,UAAzB,EAAqC;AACnC,eAAKqB,QAAL,CAAclpC,KAAK,CAACioC,UAApB,EAAgCjoC,KAAK,CAAC8nC,QAAtC;AACAE,uBAAa,CAAChoC,KAAD,CAAb;AACA,iBAAOslC,gBAAP;AACD;AACF;AACF,KAnKiB;AAqKlB,aAAS,gBAASqC,MAAT,EAAiB;AACxB,WAAK,IAAItuC,CAAC,GAAG,KAAK0uC,UAAL,CAAgB/vC,MAAhB,GAAyB,CAAtC,EAAyCqB,CAAC,IAAI,CAA9C,EAAiD,EAAEA,CAAnD,EAAsD;AACpD,YAAI2G,KAAK,GAAG,KAAK+nC,UAAL,CAAgB1uC,CAAhB,CAAZ;;AACA,YAAI2G,KAAK,CAAC2nC,MAAN,KAAiBA,MAArB,EAA6B;AAC3B,cAAInB,MAAM,GAAGxmC,KAAK,CAACioC,UAAnB;;AACA,cAAIzB,MAAM,CAAClwC,IAAP,KAAgB,OAApB,EAA6B;AAC3B,gBAAI8yC,MAAM,GAAG5C,MAAM,CAACzT,GAApB;AACAiV,yBAAa,CAAChoC,KAAD,CAAb;AACD;;AACD,iBAAOopC,MAAP;AACD;AACF,OAXuB,CAaxB;AACA;;;AACA,YAAM,IAAI1mC,KAAJ,CAAU,uBAAV,CAAN;AACD,KArLiB;AAuLlB2mC,iBAAa,EAAE,uBAASxY,QAAT,EAAmB0W,UAAnB,EAA+BC,OAA/B,EAAwC;AACrD,WAAKT,QAAL,GAAgB;AACdluC,gBAAQ,EAAE6f,MAAM,CAACmY,QAAD,CADF;AAEd0W,kBAAU,EAAEA,UAFE;AAGdC,eAAO,EAAEA;AAHK,OAAhB;;AAMA,UAAI,KAAK1B,MAAL,KAAgB,MAApB,EAA4B;AAC1B;AACA;AACA,aAAK/S,GAAL,GAAW16B,SAAX;AACD;;AAED,aAAOitC,gBAAP;AACD;AArMiB,GAApB,CA3egC,CAmrBhC;AACA;AACA;AACA;;AACA,SAAOvuC,OAAP;AAED,CAzrBc,EA0rBb;AACA;AACA;AACA;AACA,8BAAO+M,MAAP,OAAkB,QAAlB,GAA6BA,MAAM,CAAC/M,OAApC,GAA8C,EA9rBjC,CAAf;;AAisBA,IAAI;AACFuyC,oBAAkB,GAAGxF,OAArB;AACD,CAFD,CAEE,OAAOyF,oBAAP,EAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA1e,UAAQ,CAAC,GAAD,EAAM,wBAAN,CAAR,CAAwCiZ,OAAxC;AACD,C;;;;;;;;;;;;ACrtBDhgC,MAAM,CAAC/M,OAAP,GAAiB,UAAS+M,MAAT,EAAiB;AACjC,MAAI,CAACA,MAAM,CAAC0lC,eAAZ,EAA6B;AAC5B1lC,UAAM,CAAC2lC,SAAP,GAAmB,YAAW,CAAE,CAAhC;;AACA3lC,UAAM,CAAC4lC,KAAP,GAAe,EAAf,CAF4B,CAG5B;;AACA,QAAI,CAAC5lC,MAAM,CAACm3B,QAAZ,EAAsBn3B,MAAM,CAACm3B,QAAP,GAAkB,EAAlB;AACtB/hC,UAAM,CAACmwB,cAAP,CAAsBvlB,MAAtB,EAA8B,QAA9B,EAAwC;AACvC6lC,gBAAU,EAAE,IAD2B;AAEvC9hC,SAAG,EAAE,eAAW;AACf,eAAO/D,MAAM,CAAC4a,CAAd;AACA;AAJsC,KAAxC;AAMAxlB,UAAM,CAACmwB,cAAP,CAAsBvlB,MAAtB,EAA8B,IAA9B,EAAoC;AACnC6lC,gBAAU,EAAE,IADuB;AAEnC9hC,SAAG,EAAE,eAAW;AACf,eAAO/D,MAAM,CAACzK,CAAd;AACA;AAJkC,KAApC;AAMAyK,UAAM,CAAC0lC,eAAP,GAAyB,CAAzB;AACA;;AACD,SAAO1lC,MAAP;AACA,CArBD,C;;;;;;;;;;;ACAA;;;;;;;;AAQA,IAAMmL,EAAE,GAAGxY,mBAAO,CAAC,0BAAD,CAAlB;;AACA,IAAM+D,IAAI,GAAG/D,mBAAO,CAAC,kBAAD,CAApB,C,CAEA;;;AAEA,IAAMwiB,GAAG,GACL1e,MAAA,uCADJ;;uBAK2C0U,EAAE,CAACgV,YAAH,CACvCzpB,IAAI,CAACmJ,OAAL,CACIimC,SADJ,EAEI,OAFJ,mBAIQrvC,MAAA,GAA0C,SAA1C,GAAkD,MAJ1D,WADuC,C;IAAnCsvC,U,oBAAAA,U;IAAYC,kB,oBAAAA,kB;;AAUpBhmC,MAAM,CAAC/M,OAAP,GAAiB;AACb;AACAkiB,KAAG,EAAHA,GAFa;;AAIb;AACA4L,MAAI,EACAtqB,OAAO,CAACgV,GAAR,CAAYw6B,2BAAZ,KACCxvC,MAAA,GACK,SADL,CACU;AADV,IAEK,IAHN,CANS;AASI;;AAEjB;AACAsvC,YAAU,EAAVA,UAZa;;AAcb;AACAC,oBAAkB,EAAlBA,kBAfa;;AAiBb;AACAE,YAAU,EAAExvC,IAAI,CAACmJ,OAAL,CAAaimC,SAAb,EAAwB,UAAxB,CAlBC;;AAoBb;AACAK,cAAY,EAAE,CArBD;;AAuBb;AAEAC,gBAAc,EAAE;AAzBH,CAAjB,C;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAEO,IAAMriC,GAAG,GAAG,SAANA,GAAM,CAACoZ,MAAD;AAAA,SACfkpB,8DAAO,CAAS,KAAT,EAAgB;AACnBlxB,OAAG,gCAAyB8E,kBAAkB,CAACkD,MAAD,CAA3C;AADgB,GAAhB,CADQ;AAAA,CAAZ,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;AAEO,IAAMpZ,GAAG,GAAG,SAANA,GAAM,CAACuiC,QAAD;AAAA,SACfD,8DAAO,CAAS,KAAT,EAAgB;AACnBlxB,OAAG,2BAAoBmxB,QAApB;AADgB,GAAhB,CADQ;AAAA,CAAZ,C;;;;;;;;;;;ACHP,iBAAiB,qBAAuB,0C;;;;;;;;;;;;ACAxC;AAAA;AAAA;AAAA;AAAA;AACA;AAEA,IAAMC,MAAM,GAAGC,mDAAM,CAAC;AAClBv+B,QAAM,EAAEtV,mBAAO,CAAC,sEAAD;AADG,CAAD,CAAN,CAEZ,UAAAwD,KAAK;AAAA,SAAI,kEAASA,KAAT,CAAJ;AAAA,CAFO,CAAf;AAIeowC,qEAAf,E;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,WAAW,iBAAiB,iBAAiB,kBAAkB,mCAAmC,oCAAoC,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;ACAtxB;AACA;AAEA,IAAME,IAAI,GAAGD,mDAAM,CAAC;AAChBv+B,QAAM,EAAEtV,mBAAO,CAAC,oEAAD;AADC,CAAD,CAAN,CAEV;AAAA,MAAGmX,SAAH,QAAGA,SAAH;AAAA,MAAcsG,KAAd,QAAcA,KAAd;AAAA,MAAqBkH,EAArB,QAAqBA,EAArB;AAAA,MAAyBovB,IAAzB,QAAyBA,IAAzB;AAAA,MAAkCvwC,KAAlC;;AAAA,SACC;AACI,SAAK,EAAC,4BADV;AAEI,cAAU,EAAC,8BAFf;AAGI,aAAS,EAAE2T,SAHf;AAII,SAAK,EAAEsG;AAJX,KAKQja,KALR,GAOI;AAAK,aAAS,EAAE,YAAYmhB,EAAE,IAAIovB,IAAlB;AAAhB,IAPJ,CADD;AAAA,CAFU,CAAb;AAceD,mEAAf,E;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,qBAAqB,WAAW,YAAY,eAAe,oBAAoB,kBAAkB,wBAAwB,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;;;ACAzwB;AACA;AAEA,IAAME,OAAO,GAAGH,mDAAM,CAAC;AACnBv+B,QAAM,EAAEtV,mBAAO,CAAC,+EAAD;AADI,CAAD,CAAN,CAEb,gBAAqD;AAAA,MAAlDmX,SAAkD,QAAlDA,SAAkD;AAAA,MAAvCuJ,SAAuC,QAAvCA,SAAuC;AAAA,MAA5BjD,KAA4B,QAA5BA,KAA4B;AAAA,MAArByT,IAAqB,QAArBA,IAAqB;AAAA,MAAZ1tB,KAAY;;AACpD,MAAMiU,SAAS,GAAGiJ,SAAS,IAAI,MAA/B;AAEA,MAAIwQ,IAAI,IAAI,QAAOzT,KAAP,MAAiB,QAA7B,EAAuCA,KAAK,GAAG,EAAR;;AACvC,MAAIyT,IAAJ,EAAU;AACN,QAAM+iB,CAAC,GAAGC,QAAQ,CAAChjB,IAAD,CAAlB;AACAzT,SAAK,CAAC02B,KAAN,aAAiBF,CAAjB;AACAx2B,SAAK,CAAC22B,MAAN,aAAkBH,CAAlB;AACH;;AAED,SAAO,2DAAC,SAAD;AAAW,aAAS,EAAE98B,SAAtB;AAAiC,SAAK,EAAEsG;AAAxC,KAAmDja,KAAnD,EAAP;AACH,CAbe,CAAhB;AAeewwC,sEAAf,E;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,qBAAqB,WAAW,YAAY,sBAAsB,kBAAkB,8BAA8B,sBAAsB,6BAA6B,WAAW,kBAAkB,MAAM,SAAS,OAAO,QAAQ,kBAAkB,eAAe,6BAA6B,UAAU,0BAA0B,kBAAkB,gCAAgC,wBAAwB,2CAA2C,mCAAmC,yCAAyC,iCAAiC,4BAA4B,WAAW,+BAA+B,uBAAuB,WAAW,gCAAgC,yBAAyB,oBAAoB,GAAG,+BAA+B,uBAAuB,GAAG,gCAAgC,yBAAyB,cAAc,yBAAyB,EAAgB,gEAAC,Y;;;;;;;;;;;;ACArgD;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,kBAAkB,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAlqB;AACA;AACA;CAIA;;AAMA;IAIMK,Q,WAHLR,mDAAM,CAAC;AACJv+B,QAAM,EAANA,0DAAMA;AADF,CAAD,C;;;;;;;;;;;;;;;;;;mEAI6CkC,4CAAK,CAAC88B,SAAN,E;;;;;;;wCACtB;AACtB,UAAI,KAAKC,YAAL,CAAkB5qC,OAAtB,EAA+B;AAC3B,YAAM6qC,KAAK,GAAG,KAAKD,YAAL,CAAkB5qC,OAAlB,CAA0B8qC,gBAA1B,CACV,eADU,CAAd;;AAGA,aAAK,IAAI7xC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4xC,KAAK,CAACjzC,MAA1B,EAAkCqB,CAAC,EAAnC,EAAuC;AACnC4xC,eAAK,CAAC5xC,CAAD,CAAL,CAASkQ,YAAT,CAAsB,QAAtB,EAAgC,QAAhC;AACH;AACJ;AACJ;;;6BACyB;AACtB,aACI;AACI,iBAAS,EAAE,KAAKtP,KAAL,CAAW2T,SAD1B;AAEI,+BAAuB,EAAE;AACrBu9B,gBAAM,EAAEC,6CAAM,CAAC,KAAKnxC,KAAL,CAAWX,MAAZ;AADO,SAF7B;AAKI,WAAG,EAAE,KAAK0xC;AALd,QADJ;AASH;;;;EAtBkB/8B,4CAAK,CAACo9B,a;AAyBdP,uEAAf,E;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAO,IAAMQ,YAAY,GAAG,cAArB;AACA,IAAMC,aAAa,GAAG,eAAtB,C;;;;;;;;;;;;ACDP;AAAA;AAAA;AAAA;AAAO,IAAMC,IAAI,GAAG,qCAAb;AACA,IAAMvyB,GAAG,4BAAT;AAEA,IAAMjI,SAAS,GAAG;AACrBlO,KAAG,EAAE,MADgB;AAErBjE,QAAM;AAFe,CAAlB,C;;;;;;;;;;;;ACHP;AAAA;;;AAIe;AACX4sC,kBAAgB,EAAE;AAAA,oCAAwB,IAAIhY,IAAJ,GAAWiY,WAAX,EAAxB;AAAA,GADP;AAEXC,aAAW,EAAEC,2gLAFF;AAIXC,eAAa,EAAE,uBAACt1C,QAAD,EAAWqE,KAAX,EAAkB4Y,GAAlB,EAA0B;AACrC,QACI,oBAAoBzE,IAApB,CAAyByE,GAAG,CAAChZ,IAA7B,KACA,wBAAwBuU,IAAxB,CAA6ByE,GAAG,CAAChZ,IAAjC,CAFJ,EAGE;AACE,UAAMsxC,KAAK,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,OAAnB,CAAd;AACA,2HAEuBA,KAAK,CACvB1tC,MADkB,CACX0tC,KAAK,CAAC,CAAD,CADM,EAElBjrC,GAFkB,CAEd,UAAA2pC,IAAI;AAAA,eACL,+MAG6BA,IAH7B,qFAOKtuC,OAPL,CAOa,KAPb,EAOoB,EAPpB,EAQKA,OARL,CAQa,QARb,EAQuB,EARvB,CADK;AAAA,OAFU,EAalB2R,IAbkB,CAab,EAba,CAFvB;AAiBH;;AACD,WAAO,EAAP;AACH;AA7BU,CAAf,E;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;;;;;;AAKA,IAAMqI,MAAM,GAAG;AACX1b,MAAI,EAAE,GADK;AAEX2c,WAAS,EAAE40B,kDAFA;AAEK;AAEhBv1B,YAAU,EAAE;AACR;;;;AAIAW,aAAS,EAAE60B,qDAAUA;AAErB;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAnBQ,GAJD;AA0BX/1B,aAAW,EAAE,CACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIzb,QAAI,YAAKwW,wDAAS,CAACnS,MAAV,CAAiBa,MAAjB,CAAwB,CAAxB,CAAL,eADR;AAEIqiC,gBAAY,EAAE,sBAACluB,SAAD,EAAYo4B,EAAZ,EAAmB;AAC7B,8IAGE1+B,IAHF,CAGO,UAAAzJ,MAAM,EAAI;AACb,YAAIooC,6DAAU,CAACr4B,SAAD,CAAd,EAA2Bo4B,EAAE,CAAC,IAAD,EAAOnoC,MAAM,CAACpN,OAAd,CAAF;AAC9B,OALD;AAMH,KATL;AAUIuf,eAAW,EAAE,CACT;AACIzb,UAAI,EAAE;AADV,KADS;AAVjB,GAvBS;AA1BF,CAAf;;AAoEA,IAAImS,KAAJ,EAAa,EASZ;;AAEcuJ,qEAAf,E;;;;;;;;;;;;AC3FA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;AAMA;AACA;AACA;AAEA;CAGA;AACA;;AAEe,+EAAOi2B,GAAP,EAAmC;AAC9C;AAEA;AACA,MAAMC,cAAc,GAAG,IAAIC,0CAAJ,EAAvB;AAIAD,gBAAc,CAACE,GAAf,CAAmBC,4DAAkB,qBAAcC,yDAAd,GAA+B,EAA/B,CAArC;AACAJ,gBAAc,CAACE,GAAf,CAAmB,kBAAY,CAAE,CAAjC;AACAH,KAAG,CAACG,GAAJ,CAAQG,gDAAQ,CAACz7B,wDAAS,CAAClO,GAAX,EAAgBspC,cAAhB,CAAhB,EAV8C,CAY9C;AACA;AACH,CAdD,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AAEA;AACA;AAEe,2EAAM;AACjB,MAAIxnC,WAAJ;;AACA,MAAI+I,KAAJ,EAA2B,EAI1B;;AAED,SAAO9J,yEAAsB,CACzB;AACIjJ,SAAK,oBACE8J,wDAAmB,CAACC,QADtB,CADT;AAIIA,YAAQ,EAAE,EAJd;AAKI1B,WAAO,EAAE,EALb;AAMI6B,WAAO,EAAE;AACLjG,YAAM,EAAE6tC,uDADH;AAELjsC,aAAO,EAAEksC,wDAAaA;AAFjB;AANb,GADyB,EAYzBjoC,wDAAmB,CAACgN,YAZK,EAazB9M,WAbyB,CAA7B;AAeH,CAvBD,E;;;;;;;;;;;;;;;;;;;ACNA;AACA;AAEA,IAAMgoC,qBAAqB,GAAG,8BAA9B;AAEe;AACXhyC,OAAK,EAAE,EADI;AAEX+J,UAAQ,sBACHioC,qBADG,YACoBhyC,KADpB,EACyC;AAAA,QAAd2H,OAAc,uEAAJ,EAAI;AAAA,QACjCsqC,IADiC,GAChBtqC,OADgB,CACjCsqC,IADiC;AAAA,QAC3Bh0B,MAD2B,GAChBtW,OADgB,CAC3BsW,MAD2B;AAEzC,QAAIg0B,IAAI,IAAIh0B,MAAZ,EAAoBje,KAAK,CAACie,MAAD,CAAL,GAAgBg0B,IAAhB;AACpB,WAAOjyC,KAAP;AACH,GALG,CAFG;AASXqI,SAAO,sBACFsoC,gEADE,kBAQD;AAAA,QALM/nC,MAKN,QALMA,MAKN;AAAA,QAJM5I,KAIN,QAJMA,KAIN;AAAA,QADE2H,OACF,uEADY,EACZ;AAAA,QACUsW,MADV,GACqBtW,OADrB,CACUsW,MADV;AAEE,QAAI,CAACA,MAAL,EAAa,OAFf,CAIE;;AACA,QAAI,QAAOje,KAAK,CAACie,MAAD,CAAZ,MAAyB,QAA7B,EACI,OAAO,IAAInV,OAAJ,CAAY,UAAAC,OAAO;AAAA,aAAIA,OAAO,CAAC/I,KAAK,CAACie,MAAD,CAAN,CAAX;AAAA,KAAnB,CAAP;AAEJ,WAAO4I,wDAAU,CAAC5I,MAAD,CAAV,CAAmBtL,IAAnB,CAAwB,UAAAs/B,IAAI;AAAA,aAC/BrpC,MAAM,CAACopC,qBAAD,EAAwB;AAAEC,YAAI,EAAJA,IAAF;AAAQh0B,cAAM,EAANA;AAAR,OAAxB,CADyB;AAAA,KAA5B,CAAP;AAGH,GAnBE,CATI;AA8BX/T,SAAO,EAAE;AA9BE,CAAf,E;;;;;;;;;;;;;;;;;;;ACLA;;;;;;;;AAQA;AACA;AAEA,IAAMgoC,iBAAiB,GAAG,yBAA1B;AAEe;AACXlyC,OAAK,EAAE,EADI;AAEX+J,UAAQ,sBACHmoC,iBADG,YACgBlyC,KADhB,EACqC;AAAA,QAAd2H,OAAc,uEAAJ,EAAI;AAAA,QAC7B1D,MAD6B,GACd0D,OADc,CAC7B1D,MAD6B;AAAA,QACrBuc,EADqB,GACd7Y,OADc,CACrB6Y,EADqB;AAErC,QAAIvc,MAAM,IAAIuc,EAAd,EAAkBxgB,KAAK,CAACwgB,EAAD,CAAL,GAAYvc,MAAZ;AAClB,WAAOjE,KAAP;AACH,GALG,CAFG;AASXqI,SAAO,sBACFqoC,+DADE,kBAQD;AAAA,QALM9nC,MAKN,QALMA,MAKN;AAAA,QAJM5I,KAIN,QAJMA,KAIN;AAAA,QADE2H,OACF,uEADY,EACZ;AAAA,QACU6Y,EADV,GACiB7Y,OADjB,CACU6Y,EADV;AAEE,QAAI,CAACA,EAAL,EAAS,OAFX,CAIE;;AACA,QAAI,QAAOxgB,KAAK,CAACwgB,EAAD,CAAZ,MAAqB,QAAzB,EACI,OAAO,IAAI1X,OAAJ,CAAY,UAAAC,OAAO;AAAA,aAAIA,OAAO,CAAC/I,KAAK,CAACwgB,EAAD,CAAN,CAAX;AAAA,KAAnB,CAAP;AAEJ,WAAO2xB,uDAAS,CAAC3xB,EAAD,CAAT,CACF7N,IADE,CACG,UAAA1O,MAAM;AAAA,aAAI2E,MAAM,CAACspC,iBAAD,EAAoB;AAAEjuC,cAAM,EAANA,MAAF;AAAUuc,UAAE,EAAFA;AAAV,OAApB,CAAV;AAAA,KADT,EAEF7N,IAFE,CAEG,UAAA6B,CAAC;AAAA,aAAIA,CAAC,CAAC7M,OAAF,CAAU1D,MAAd;AAAA,KAFJ,CAAP;AAGH,GAnBE,CATI;AA8BXiG,SAAO,EAAE;AA9BE,CAAf,E;;;;;;;;;;;;ACbA;AAAA;;;AAGA,IAAMkoC,QAAQ,GAAG,SAAXA,QAAW,CAACC,UAAD,EAAwD;AAAA,MAArBC,MAAqB,uEAAZ,CAAY;AACrE,MAAIC,CAAC,GAAGD,MAAR;;AACA,MAAI,OAAOD,UAAP,KAAsB,QAA1B,EAAoC;AAChCE,KAAC,IAAIF,UAAL;AACH,GAFD,MAEO,IAAIA,UAAU,YAAYG,OAA1B,EAAmC;AACtC,QAAMC,IAAI,GAAGJ,UAAU,CAACK,qBAAX,EAAb;AACAH,KAAC,IAAIE,IAAI,CAACE,GAAL,GAAWlmC,MAAM,CAACmmC,WAAvB;AACH;;AACDC,UAAQ,CAACN,CAAD,CAAR;AACH,CATD;;AAWeH,uEAAf,E,CAEA;;AAEA,IAAMS,QAAQ,GAAG,SAAXA,QAAW,CAACN,CAAD,EAAqB;AAClC,MAAI,OAAO9lC,MAAM,CAACqmC,MAAd,KAAyB,UAA7B,EAAyC;AACrC,QAAI;AACArmC,YAAM,CAACqmC,MAAP,CAAc;AACVH,WAAG,EAAEJ,CADK;AAEVQ,YAAI,EAAE,CAFI;AAGVC,gBAAQ,EAAE;AAHA,OAAd;AAKH,KAND,CAME,OAAOn6B,CAAP,EAAU;AACRo6B,sBAAgB,CAACV,CAAD,CAAhB;AACH;AACJ,GAVD,MAUO;AACHU,oBAAgB,CAACV,CAAD,CAAhB;AACH;AACJ,CAdD;;AAgBA,IAAMU,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACV,CAAD,EAAqB;AAC1C9lC,QAAM,CAAC2lC,QAAP,CAAgB,CAAhB,EAAmBG,CAAnB;AACH,CAFD,C;;;;;;;;;;;;AClCA;AAAA;AAAA;AAEA;;;;;AAIA,SAASW,MAAT,CAAgB70B,GAAhB,EAAqC;AACjC,MAAIA,GAAG,CAAChG,QAAJ,CAAa,KAAb,CAAJ,EAAyB,OAAOgG,GAAP;AAEzB,MAAM80B,GAAG,GAAG,IAAI5xC,MAAJ,YAAe6U,wDAAS,CAAClO,GAAzB,GAAgCiM,IAAhC,CAAqCkK,GAArC,IACNA,GADM,GAENjI,wDAAS,CAAClO,GAAV,IAAiB,CAACmW,GAAG,IAAI,EAAR,EAAYvZ,MAAZ,CAAmB,CAAnB,EAAsB,CAAtB,MAA6B,GAA7B,GAAmC,GAAnC,GAAyC,EAA1D,IAAgEuZ,GAFtE;AAIA,MAAItL,KAAJ,EAAgB;AAEhB,oCACIhB,MAAO,GAAGpS,SAAH,GAAsCA,OAAO,CAACgV,GAAR,CAAYwV,WAD7D,SAEGgpB,GAFH;AAGH;;AAEcD,qEAAf,E;;;;;;;;;;;;ACpBA;AAAA;AACe,yEAACE,WAAD,EAAkC;AAC7C,MAAMC,IAAI,GAAGC,EAAE,CAAC,aAAD,CAAf;;AACA,MAAIF,WAAJ,EAAiB,iBAAUA,WAAV,gBAA2BC,IAA3B;AACjB,SAAOA,IAAP;AACH,CAJD,E;;;;;;;;;;;;;ACDA;AAAA;;;AAGA,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,SAAD,EAA+C;AAC/D,MAAMC,CAAC,GAAGD,SAAS,YAAY3a,IAArB,GAA4B2a,SAA5B,GAAwC,IAAI3a,IAAJ,CAAS2a,SAAT,CAAlD;AACA,MAAME,IAAI,GAAG7a,IAAI,CAACC,GAAL,KAAa2a,CAAC,CAACE,OAAF,EAA1B;AAEA,MAAMC,OAAO,GAAGF,IAAI,GAAG,IAAvB;AACA,MAAIE,OAAO,GAAG,EAAV,IAAgBA,OAAO,IAAI,CAA/B,EAAkC,OAAON,EAAE,CAAC,sBAAD,CAAT,CAAlC,KACK,IAAIM,OAAO,GAAG,CAAC,EAAX,IAAiBA,OAAO,GAAG,CAAC,CAAhC,EACD,OAAON,EAAE,CAAC,yBAAD,EAA4B;AACjCO,UAAM,EAAE,KAAKjvC,IAAI,CAACkvC,KAAL,CAAWF,OAAX;AADoB,GAA5B,CAAT,CADC,KAIA,IAAIA,OAAO,IAAI,CAAC,CAAZ,IAAiBA,OAAO,GAAG,CAA/B,EACD,OAAON,EAAE,CAAC,wBAAD,EAA2B;AAChCO,UAAM,EAAE,KAAKjvC,IAAI,CAACkvC,KAAL,CAAWF,OAAX;AADmB,GAA3B,CAAT;AAIJ,MAAMG,OAAO,GAAGH,OAAO,GAAG,EAA1B;AACA,MAAIG,OAAO,GAAG,EAAV,IAAgBA,OAAO,GAAG,CAA9B,EACI,OAAOT,EAAE,CAAC,0BAAD,EAA6B;AAClCU,UAAM,EAAE,KAAKpvC,IAAI,CAACqvC,IAAL,CAAUF,OAAV;AADqB,GAA7B,CAAT,CADJ,KAIK,IAAIA,OAAO,IAAI,CAAX,IAAgBA,OAAO,IAAI,CAA/B,EACD,OAAOT,EAAE,CAAC,yBAAD,EAA4B;AACjCU,UAAM,EAAE,KAAKpvC,IAAI,CAACqvC,IAAL,CAAUF,OAAV;AADoB,GAA5B,CAAT,CADC,KAIA,IAAIA,OAAO,GAAG,CAAC,EAAX,IAAiBA,OAAO,GAAG,CAAC,CAAhC,EACD,OAAOT,EAAE,CAAC,yBAAD,EAA4B;AACjCU,UAAM,EAAE,KAAKpvC,IAAI,CAACkvC,KAAL,CAAWC,OAAX;AADoB,GAA5B,CAAT,CADC,KAIA,IAAIA,OAAO,IAAI,CAAC,CAAZ,IAAiBA,OAAO,GAAG,CAA/B,EACD,OAAOT,EAAE,CAAC,wBAAD,EAA2B;AAChCU,UAAM,EAAE,KAAKpvC,IAAI,CAACkvC,KAAL,CAAWC,OAAX;AADmB,GAA3B,CAAT;AAIJ,MAAMG,KAAK,GAAGH,OAAO,GAAG,EAAxB;AACA,MAAIG,KAAK,GAAG,EAAR,IAAcA,KAAK,GAAG,CAA1B,EACI,OAAOZ,EAAE,CAAC,wBAAD,EAA2B;AAChCa,QAAI,EAAE,KAAKvvC,IAAI,CAACqvC,IAAL,CAAUC,KAAV;AADqB,GAA3B,CAAT,CADJ,KAIK,IAAIA,KAAK,IAAI,CAAT,IAAcA,KAAK,IAAI,CAA3B,EACD,OAAOZ,EAAE,CAAC,uBAAD,EAA0B;AAC/Ba,QAAI,EAAE,KAAKvvC,IAAI,CAACqvC,IAAL,CAAUC,KAAV;AADoB,GAA1B,CAAT,CADC,KAIA,IAAIA,KAAK,GAAG,CAAC,EAAT,IAAeA,KAAK,GAAG,CAAC,CAA5B,EACD,OAAOZ,EAAE,CAAC,uBAAD,EAA0B;AAC/Ba,QAAI,EAAE,KAAKvvC,IAAI,CAACkvC,KAAL,CAAWI,KAAX;AADoB,GAA1B,CAAT,CADC,KAIA,IAAIA,KAAK,IAAI,CAAC,CAAV,IAAeA,KAAK,GAAG,CAA3B,EACD,OAAOZ,EAAE,CAAC,sBAAD,EAAyB;AAC9Ba,QAAI,EAAE,KAAKvvC,IAAI,CAACkvC,KAAL,CAAWI,KAAX;AADmB,GAAzB,CAAT;AAIJ,MAAME,IAAI,GAAGF,KAAK,GAAG,EAArB;AACA,MAAIE,IAAI,GAAG,CAAX,EACI,OAAOd,EAAE,CAAC,uBAAD,EAA0B;AAC/Be,OAAG,EAAE,KAAKzvC,IAAI,CAACqvC,IAAL,CAAUG,IAAV;AADqB,GAA1B,CAAT,CADJ,KAIK,IAAIA,IAAI,IAAI,CAAR,IAAaA,IAAI,IAAI,CAAzB,EACD,OAAOd,EAAE,CAAC,sBAAD,EAAyB;AAC9Be,OAAG,EAAE,KAAKzvC,IAAI,CAACqvC,IAAL,CAAUG,IAAV;AADoB,GAAzB,CAAT,CADC,KAIA,IAAIA,IAAI,GAAG,CAAC,CAAZ,EACD,OAAOd,EAAE,CAAC,sBAAD,EAAyB;AAC9Be,OAAG,EAAE,KAAKzvC,IAAI,CAACkvC,KAAL,CAAWM,IAAX;AADoB,GAAzB,CAAT,CADC,KAIA,IAAIA,IAAI,IAAI,CAAC,CAAT,IAAcA,IAAI,GAAG,CAAzB,EACD,OAAOd,EAAE,CAAC,qBAAD,EAAwB;AAC7Be,OAAG,EAAE,KAAKzvC,IAAI,CAACkvC,KAAL,CAAWM,IAAX;AADmB,GAAxB,CAAT;AAIJ,SAAO,KAAKV,IAAZ;AACH,CAtED;;AAwEeH,0EAAf,E;;;;;;;;;;;;;AC3EA;AAAA;;;;;AAKe,yEAACe,SAAD,EAAgC;AAC3C,MAAIA,SAAJ,EAAe,iBAAUA,SAAV,gBAAyBC,aAAzB;AACf,SAAOA,aAAP;AACH,CAHD,E;;;;;;;;;;;;;;;;;;;;;;ACLA;AAEA;;AASA,SAAShF,OAAT,GAGc;AAAA,MAFVp0B,MAEU,uEAF4B,EAE5B;AAAA,MADVq5B,OACU;;AACV,MAAI,OAAOr5B,MAAP,KAAkB,QAAtB,EAAgC;AAC5B,WAAOo0B,OAAO,mBACNiF,OAAO,IAAI,EADL;AAEVtJ,YAAM,EAAE/vB;AAFE,OAAd;AAIH;;AAED,MAAIA,MAAM,CAACkD,GAAX,EAAgBlD,MAAM,CAACkD,GAAP,GAAa60B,8DAAM,CAAC/3B,MAAM,CAACkD,GAAR,CAAnB;AAEhB,SAAOo2B,4CAAK,CAACt5B,MAAD,CAAL,CAAcxI,IAAd,CAAmB,UAAA9J,GAAG,EAAI;AAC7B,QAAIA,GAAG,CAAC6rC,MAAJ,KAAe,GAAf,IAAsB7rC,GAAG,CAAC8rC,UAAJ,KAAmB,IAA7C,EAAmD;AAC/C,UAAMzzB,GAAG,GAAG,IAAIpZ,KAAJ,CAAU,cAAV,CAAZ;AACAxJ,YAAM,CAACC,MAAP,CAAc2iB,GAAd,EAAmB;AACf0zB,gBAAQ,EAAE/rC;AADK,OAAnB;AAGA,YAAMqY,GAAN;AACH;;AACD,WAAOrY,GAAG,CAACsD,IAAX;AACH,GATM,CAAP;AAUH;;AAEcojC,sEAAf,E;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,kBAAkB,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;ACAlqB;AACA;CAIA;AAEA;;AAEA,IAAM4B,GAAG,GAAGzB,mDAAM,CAAC;AACfv+B,QAAM,EAANA,wDAAMA;AADS,CAAD,CAAN,CAGR;AAAA,MAAG6B,SAAH,QAAGA,SAAH;AAAA,MAAcqtB,QAAd,QAAcA,QAAd;AAAA,MAA2BhhC,KAA3B;;AAAA,SACI;AAAM,MAAE,EAAC,MAAT;AAAgB,aAAS,EAAE2T,SAA3B;AAAsC,YAAQ,EAAEqtB;AAAhD,IADJ;AAAA,CAHQ,CAAZ;AAOe8Q,kEAAf,E;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,qBAAqB,aAAa,gCAAgC,wBAAwB,eAAe,MAAM,OAAO,YAAY,YAAY,YAAY,gBAAgB,gBAAgB,8BAA8B,gDAAgD,wCAAwC,gEAAgE,QAAQ,qBAAqB,yCAAyC,QAAQ,kBAAkB,UAAU,QAAQ,mCAAmC,2BAA2B,eAAe,+CAA+C,cAAc,sCAAsC,8BAA8B,iDAAiD,aAAa,eAAe,OAAO,kBAAkB,gBAAgB,eAAe,mBAAmB,kBAAkB,qBAAqB,YAAY,eAAe,iEAAiE,wBAAwB,mBAAmB,gBAAgB,6CAA6C,4BAA4B,kBAAkB,WAAW,SAAS,oBAAoB,4BAA4B,kBAAkB,QAAQ,SAAS,mBAAmB,oBAAoB,WAAW,YAAY,uCAAuC,wCAAwC,cAAc,yBAAyB,qBAAqB,yBAAyB,qBAAqB,sBAAsB,iBAAiB,qBAAqB,aAAa,kCAAkC,mBAAmB,gBAAgB,qBAAqB,mBAAmB,eAAe,qBAAqB,eAAe,2BAA2B,wCAAwC,eAAe,gBAAgB,eAAe,OAAO,gBAAgB,wBAAwB,cAAc,kBAAkB,mBAAmB,kCAAkC,wCAAwC,wDAAwD,kCAAkC,2CAA2C,qDAAqD,kCAAkC,eAAe,4JAA4J,kCAAkC,kBAAkB,eAAe,OAAO,cAAc,eAAe,wCAAwC,wBAAwB,cAAc,kCAAkC,4BAA4B,kBAAkB,UAAU,WAAW,0BAA0B,gBAAgB,kEAAkE,aAAa,eAAe,MAAM,QAAQ,yCAAyC,kEAAkE,eAAe,kCAAkC,YAAY,WAAW,YAAY,wCAAwC,kBAAkB,QAAQ,SAAS,iBAAiB,kBAAkB,WAAW,YAAY,gCAAgC,WAAW,WAAW,YAAY,UAAU,8BAA8B,oBAAoB,kDAAkD,0CAA0C,cAAc,8BAA8B,4BAA4B,+GAA+G,gCAAgC,8BAA8B,sCAAsC,WAAW,kBAAkB,WAAW,YAAY,mCAAmC,gCAAgC,8BAA8B,+GAA+G,gCAAgC,+BAA+B,4CAA4C,uBAAuB,eAAe,oEAAoE,UAAU,uCAAuC,+BAA+B,mBAAmB,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEjwJ;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;CAGA;;AAEA,IAAM0D,cAAc,GAAGC,0CAAG,CAAC,gBAAD,CAA1B;AAMA;AAEA,IAAMC,KAAK,GAAGrF,mDAAM,CAAiB;AACjCv+B,QAAM,EAANA,0DAAMA;AAD2B,CAAjB,CAAN,CAGVkC,4CAAK,CAAC/N,IAAN,CACI,gBAAmD;AAAA,MAAhD0N,SAAgD,QAAhDA,SAAgD;AAAA,MAArCnN,OAAqC,QAArCA,OAAqC;AAAA,MAA5B2pC,QAA4B,QAA5BA,QAA4B;AAAA,MACvCnpB,MADuC,GACUxgB,OADV,CACvCwgB,MADuC;AAAA,MAC/B2uB,sBAD+B,GACUnvC,OADV,CAC/BmvC,sBAD+B;AAAA,yBACUnvC,OADV,CACPklB,OADO;AAAA,MACPA,OADO,iCACG,EADH;AAE/C,MAAMkqB,cAAc,GAChB33C,KAAK,CAACiD,OAAN,CAAcwqB,OAAd,KAA0BA,OAAO,CAAC3tB,MAAlC,GACM2tB,OAAO,CAACmqB,IAAR,CACI,UAAC/0C,CAAD,EAAIC,CAAJ;AAAA,WACI,IAAIy4B,IAAJ,CAASz4B,CAAC,CAAC+0C,MAAF,CAASC,UAAlB,EAA8BzB,OAA9B,KACA,IAAI9a,IAAJ,CAAS14B,CAAC,CAACg1C,MAAF,CAASC,UAAlB,EAA8BzB,OAA9B,EAFJ;AAAA,GADJ,EAIE,CAJF,EAIKwB,MAJL,CAIYE,aALlB,GAMM53C,SAPV;AAQA,SACI,2DAAC,4CAAD,CAAO,QAAP,QACI,2DAAC,mBAAD,OADJ,EAEI;AAAK,aAAS,EAAEuV;AAAhB,KACI,2DAAC,IAAD;AAAM,UAAM,EAAEqT;AAAd,IADJ,EAEI,2DAAC,OAAD;AACI,YAAQ,EAAEmpB,QADd;AAEI,kBAAc,EACVA,QAAQ,KAAKyF,cAAb,GACMA,cADN,GAEMx3C;AALd,IAFJ,EAUI,2DAAC,SAAD;AACI,0BAAsB,EAAEu3C;AAD5B,IAVJ,CAFJ,CADJ;AAmBH,CA9BL,CAHU,CAAd;AAqCeD,oEAAf,E,CAEA;;AAOA,IAAMO,IAAI,GAAGjiC,4CAAK,CAAC/N,IAAN,CACT;AAAA,MAAG+gB,MAAH,SAAGA,MAAH;AAAA,MAAWupB,IAAX,SAAWA,IAAX;AAAA,MAAiBn0C,IAAjB,SAAiBA,IAAjB;AAAA,SACI;AAAK,aAAS,YAAK85C,0DAAL;AAAd,KACI;AACI,aAAS,EAAC,MADd;AAEI,SAAK,EAAE;AACHC,qBAAe,EAAE5F,IAAI,iBAAUA,IAAV,SAAoBnyC;AADtC;AAFX,KAMI;AAAK,aAAS,EAAC;AAAf,IANJ,EAOK,CAACmyC,IAAD,IAAS,2DAAC,wDAAD;AAAM,aAAS,EAAC,SAAhB;AAA0B,QAAI,EAAC;AAA/B,IAPd,CADJ,EAUK,CAAC,CAACn0C,IAAF,GAAS;AAAI,aAAS,EAAC;AAAd,KAAsBA,IAAtB,CAAT,GAA4C,IAVjD,EAWI;AAAQ,aAAS,EAAC;AAAlB,KAA4B4qB,MAA5B,CAXJ,CADJ;AAAA,CADS,CAAb,C,CAkBA;;AAMA,IAAMovB,OAAO,GAAGpiC,4CAAK,CAAC/N,IAAN,CACZ;AAAA,MAAG2vC,cAAH,SAAGA,cAAH;AAAA,MAAmBzF,QAAnB,SAAmBA,QAAnB;AAAA,SACI;AAAK,aAAS,YAAK+F,0DAAL;AAAd,KACK,CAAC,CAACN,cAAF,GACG,2DAAC,4CAAD,CAAO,QAAP,QACI,2DAAC,MAAD;AAAQ,YAAQ,EAAEA;AAAlB,KACK3B,EAAE,CAAC,mCAAD,CADP,CADJ,EAII,2DAAC,MAAD;AAAQ,YAAQ,EAAE9D;AAAlB,KACK8D,EAAE,CAAC,oCAAD,CADP,CAJJ,CADH,GAUG,2DAAC,MAAD;AAAQ,YAAQ,EAAE9D;AAAlB,KACK8D,EAAE,CAAC,mCAAD,CADP,CAXR,EAeI,2DAAC,MAAD;AAAQ,YAAQ,EAAE9D,QAAlB;AAA4B,QAAI,EAAC;AAAjC,KACK8D,EAAE,CAAC,oCAAD,CADP,CAfJ,CADJ;AAAA,CADY,CAAhB;AA6BA,IAAMoC,MAAM,GAAGhG,mDAAM,CAAc;AAC/Bh/B,SAAO,EAAE,iBAAA1Q,KAAK;AAAA,WAAK;AACfmgB,qBAAe,EAAEngB,KAAK,CAAC+W,OAAN,CAAcqJ,yBAAd,CAAwCvgB;AAD1C,KAAL;AAAA;AADiB,CAAd,CAAN,CAKXwT,4CAAK,CAAC/N,IAAN,CACI,iBAKmD;AAAA,MAJ/CkqC,QAI+C,SAJ/CA,QAI+C;AAAA,MAH/C9zC,IAG+C,SAH/CA,IAG+C;AAAA,MAF/C2kC,QAE+C,SAF/CA,QAE+C;AAAA,MAD/ClgB,eAC+C,SAD/CA,eAC+C;AAC/C,MAAM7M,SAAS,GAAG,CAAC,CAAC5X,IAAF,GAASi6C,iDAAT,GAAgBC,sDAAlC;AACA,MAAMC,IAAI,aAAMz/B,wDAAS,CAACnS,MAAhB,cAA0BurC,QAA1B,SACN9zC,IAAI,cAAOA,IAAP,IAAgB,EADd,CAAV;AAGA,MAAMuI,MAAM,GAAG,IAAI1C,MAAJ,YAAes0C,IAAf,aAA6Bve,IAA7B,CACXnX,eAAe,IAAI,EADR,CAAf;AAGA,MAAM6hB,QAAQ,GACV,CAACtmC,IAAD,IACA4B,KAAK,CAACiD,OAAN,CAAc0D,MAAd,CADA,IAEA6xC,0CAAI,CAACvlC,IAAL,CAAU;AAAA;AAAA,QAAE4iC,GAAF;;AAAA,WAAWA,GAAG,KAAKlvC,MAAM,CAAC,CAAD,CAAzB;AAAA,GAAV,CAHJ;AAIA,SACI,2DAAC,SAAD;AACI,MAAE,EAAE4xC,IADR;AAEI,aAAS,EAAEE,iDAAU,CAAC,CAClB,QADkB,EAElB;AACI,mBAAa/T;AADjB,KAFkB,CAAD,CAFzB;AAQI,mBAAe,EAAC;AARpB,KAUK3B,QAVL,CADJ;AAcH,CAhCL,CALW,CAAf,C,CAyCA;;IAQM2V,S;;;;;AAEF,qBAAY32C,KAAZ,EAAmC;AAAA;;AAAA;;AAC/B,mFAAMA,KAAN;;AAD+B;;AAE/B,UAAKW,KAAL,GAAa;AACTi5B,eAAS,EAAE,MAAKgd,YAAL;AADF,KAAb;AAF+B;AAKlC;;;;mCAGS;AAAA,UADNjB,sBACM,uEADmB,KAAK31C,KAAL,CAAW21C,sBAC9B;AACN,aAAOA,sBAAsB,GAAGnc,IAAI,CAACC,GAAL,EAAhC;AACH;;;wCACyB;AAAA;;AACtB,WAAKod,SAAL,GAAiBC,WAAW,CAAC,YAAM;AAC/B,cAAI,CAACvjC,QAAL,CAAc;AACVqmB,mBAAS,EAAE,MAAI,CAACgd,YAAL;AADD,SAAd;AAGH,OAJ2B,EAIzB,IAJyB,CAA5B;AAKH;;;2CAC4B;AACzB,UAAI,KAAKC,SAAT,EAAoBE,aAAa,CAAC,KAAKF,SAAN,CAAb;AACvB;;;6BACyB;AACtB,aACI;AAAK,iBAAS,YAAKX,0DAAL;AAAd,SACKjC,EAAE,CAAC,gCAAD,CADP,EAEI;AAAQ,iBAAS,EAAC;AAAlB,SACK+C,gDAAQ,CAAC,KAAKr2C,KAAL,CAAWi5B,SAAZ,EAAuB;AAC5Bqd,4BAAoB,EAAE,CADM;AAE5BC,iBAAS,EAAE;AAFiB,OAAvB,CADb,CAFJ,CADJ;AAWH;;;;EAnCmBljC,4CAAK,CAACo9B,a,GAsC9B;;;IAWM+F,mB,WANL9G,mDAAM,CAAC;AACJh/B,SAAO,EAAE,iBAAA1Q,KAAK;AAAA,WAAK;AACfH,cAAQ,EAAEG,KAAK,CAAC+W,OAAN,CAAcqJ,yBAAd,CAAwCvgB;AADnC,KAAL;AAAA,GADV;AAIJuR,KAAG,EAAE;AAJD,CAAD,C;;;;;AAcH,+BAAY/R,KAAZ,EAAuB;AAAA;;AAAA;;AACnB,8FAAMA,KAAN;;AADmB,mEAFTgU,4CAAK,CAAC88B,SAAN,EAES;;AAEnB,WAAKnwC,KAAL,GAAa;AACTy2C,gBAAU,EAAE;AADH,KAAb;AAIA,WAAKC,YAAL,GAAoB,OAAKA,YAAL,CAAkBtjC,IAAlB,gCAApB;AACA,WAAKujC,mBAAL,GAA2B,OAAKA,mBAAL,CAAyBvjC,IAAzB,gCAA3B;AAPmB;AAQtB;;;;mCAEoB;AAAA;;AACjBpF,gBAAU,CAAC,YAAM;AACb,YACI,MAAI,CAAC4oC,WAAL,IACA,MAAI,CAACA,WAAL,CAAiBpxC,OADjB,IAEA,MAAI,CAACoxC,WAAL,CAAiBpxC,OAAjB,CAAyBqxC,OAH7B,EAKI,MAAI,CAACjkC,QAAL,CAAc;AACV6jC,oBAAU,EAAE;AADF,SAAd;AAGP,OATS,EASP,CATO,CAAV;AAUH;;;wCAEGK,G,EACI;AACJ,UACIA,GAAG,CAACC,WAAJ,CAAgBC,YAAhB,KAAiC,SAAjC,IACAC,UAAU,CAACC,gBAAgB,CAACJ,GAAG,CAACK,aAAL,CAAhB,CAAoCC,OAApC,IAA+C,GAAhD,CAAV,GAAiE,GAFrE,EAGE;AACE,aAAKxkC,QAAL,CAAc;AACV6jC,oBAAU,EAAE;AADF,SAAd;AAGH;AACJ;;;uCAEkBhkC,S,EAA2C;AAC1D,UACI,KAAKpT,KAAL,CAAWQ,QAAX,KAAwB4S,SAAS,CAAC5S,QAAlC,IACA,KAAK+2C,WADL,IAEA,KAAKA,WAAL,CAAiBpxC,OAFjB,IAGA,KAAKoxC,WAAL,CAAiBpxC,OAAjB,CAAyBqxC,OAJ7B,EAKE;AACE,aAAKD,WAAL,CAAiBpxC,OAAjB,CAAyBqxC,OAAzB,GAAmC,KAAnC;AACH;AACJ;;;6BAEyB;AACtB,aACI,2DAAC,4CAAD,CAAO,QAAP,QACI;AACI,UAAE,EAAEhC,cADR;AAEI,iBAAS,YAAKU,0DAAL,yBAFb;AAGI,YAAI,EAAC,UAHT;AAII,sBAAc,EAAE,KAJpB;AAKI,WAAG,EAAE,KAAKqB;AALd,QADJ,EAQI;AACI,iBAAS,YAAKrB,0DAAL,uBADb;AAEI,eAAO,EAAEV,cAFb;AAGI,eAAO,EAAE,KAAK6B;AAHlB,SAKI;AAAK,iBAAS,EAAC;AAAf,SACI,2DAAC,wDAAD;AAAM,YAAI,EAAC,OAAX;AAAmB,iBAAS,EAAC;AAA7B,QADJ,CALJ,EAQK,KAAK12C,KAAL,CAAWy2C,UAAX,IACG;AACI,iBAAS,EAAC,MADd;AAEI,uBAAe,EAAE,KAAKE;AAF1B,QATR,CARJ,CADJ;AA0BH;;;;EAjF6BtjC,4CAAK,CAACo9B,a;;;;;;;;;;;;;AC9NxC;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,kBAAkB,iBAAiB,oBAAoB,gEAAgE,QAAQ,4BAA4B,yCAAyC,QAAQ,gBAAgB,gBAAgB,kBAAkB,SAAS,cAAc,WAAW,kBAAkB,eAAe,oBAAoB,wCAAwC,WAAW,oBAAoB,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACE5iC;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;CAIA;;AAYA;AAEA,IAAM4G,cAAc,GAAG,SAAjBA,cAAiB,CAACh4C,KAAD,EAA+C;AAAA,2BACxBA,KADwB,CAC1DkiC,WAD0D;AAAA,MAC1DA,WAD0D,mCAC5C,EAD4C;AAAA,sBACxBliC,KADwB,CACxCs/B,MADwC;AAAA,MACxCA,MADwC,8BAC/B,EAD+B;AAElE,SAAOA,MAAM,CAAC6Q,QAAP,IAAmBjO,WAAW,CAACiO,QAAtC;AACH,CAHD,C,CAIA;;;AACA,IAAM8H,mBAAmB,GAAG,SAAtBA,mBAAsB,CACxBlvC,QADwB,EAExBoY,EAFwB,EAGR;AAChB,MAAI,CAACA,EAAL,EAAS,IAAI1Y,KAAJ,CAAU,OAAV;AACT,SAAOM,QAAQ,CAACsoC,+DAAD,EAAe;AAC1BlwB,MAAE,EAAFA,EAD0B,CAE1B;;AAF0B,GAAf,CAAR,CAGJ7N,IAHI,CAGC,UAAC6B,CAAD,EAAY;AAChB,QAAMyJ,MAAM,GAAGzJ,CAAC,CAAC6J,GAAjB;AACA,QAAI,CAACJ,MAAL,EAAa;AACb,WAAO7V,QAAQ,CAACuoC,gEAAD,EAAgB;AAC3B1yB,YAAM,EAANA;AAD2B,KAAhB,CAAf;AAGH,GATM,CAAP;AAUH,CAfD,C,CAiBA;;;IA8BMs5B,U,WA5BL7H,mDAAM,CAAC;AACJh/B,SAAO,EAAE,iBAAC1Q,KAAD,EAAQX,KAAR,EAAkC;AAAA,eAClBA,KAAK,CAACs/B,MAAN,IAAgB,EADE;AAAA,QAC/B6Q,QAD+B,QAC/BA,QAD+B;;AAEvC,QAAI,CAACA,QAAL,EAAe,OAAO,EAAP;AAFwB,QAGnBvrC,MAHmB,GAGRjE,KAAK,CAACiE,MAHE,CAG9BurC,QAH8B;AAIvC,QAAI,CAACvrC,MAAL,EAAa,OAAO,EAAP;AAJ0B,QAK1Bga,MAL0B,GAKfha,MALe,CAK/Boa,GAL+B;AAMvC,QAAMxY,OAAO,GAAG7F,KAAK,CAAC6F,OAAN,CAAcoY,MAAd,KAAyB,EAAzC;AACA,WAAO;AAAEha,YAAM,EAANA,MAAF;AAAU4B,aAAO,EAAPA;AAAV,KAAP;AACH,GATG;AAUJsK,UAAQ,EAAE,kBAACnQ,KAAD,EAAQX,KAAR;AAAA,WAAmC;AACzCwO,WAAK,EAAE2pC,gEAAQ,WACRlE,EAAE,CAAC,oBAAD,CADM,eACqBj0C,KAAK,CAACs/B,MAAN,CAAa6Q,QADlC,OAD0B;AAIzC1hC,WAAK,EAAE,CACH;AACIslC,mBAAW,EAAEqE,sEAAc,WACpBnE,EAAE,CAAC,0BAAD,CADkB,eAEnBj0C,KAAK,CAACs/B,MAAN,CAAa6Q,QAFM;AAD/B,OADG;AAJkC,KAAnC;AAAA,GAVN;AAwBJrjC,MAAI,EAAE,cAACnM,KAAD,EAAQ+P,WAAR,EAAqB3H,QAArB;AAAA,WACFkvC,mBAAmB,CAAClvC,QAAD,EAAWivC,cAAc,CAACtnC,WAAD,CAAzB,CADjB;AAAA,GAxBF;AA0BJoB,QAAM,EAANA,0DAAMA;AA1BF,CAAD,C;;;;;AA6BH,sBAAY9R,KAAZ,EAAmC;AAAA;;AAAA;;AAC/B,oFAAMA,KAAN;AAEA,UAAKW,KAAL,GAAa;AACT03C,aAAO,EAAE;AADA,KAAb;AAH+B;AAMlC;;;;uCAEkBjlC,S,EAAiC;AAAA,kBACnBA,SAAS,CAACksB,MAAV,IAAoB,EADD;AAAA,UAC9BgZ,MAD8B,SACxCnI,QADwC;;AAAA,kBAEpB,KAAKnwC,KAAL,CAAWs/B,MAAX,IAAqB,EAFD;AAAA,UAE9BiZ,KAF8B,SAExCpI,QAFwC;;AAGhD,UAAImI,MAAM,KAAKC,KAAf,EAAsB;AAClB,aAAKhlC,QAAL,CAAc;AACV8kC,iBAAO,EAAE;AADC,SAAd;AAGAJ,2BAAmB,CACf,KAAKj4C,KAAL,CAAW+I,QADI,EAEfivC,cAAc,CAAC,KAAKh4C,KAAN,CAFC,CAAnB;AAIH;AACJ;;;wCAEyB;AAAA,UACd4E,MADc,GACH,KAAK5E,KADF,CACd4E,MADc;;AAEtB,UAAI,QAAOA,MAAP,MAAkB,QAAtB,EAAgC;AAC5B;AACA,YAAM4zC,MAAM,GAAG3pC,QAAQ,CAACqL,aAAT,CAAuB,kBAAvB,CAAf;;AACA,YAAIs+B,MAAJ,EAAY;AACRC,2DAAS,CAACD,MAAD,EAAS,eAAT,EAA0B,UAASf,GAAT,EAAc;AAC7C,gBACIA,GAAG,CAACE,YAAJ,KAAqB,SAArB,IACA,CAACF,GAAG,CAACt4C,MAAJ,CAAW8a,KAAX,CAAiB89B,OAFtB,EAIIN,GAAG,CAACt4C,MAAJ,CAAWgQ,UAAX,CAAsBD,WAAtB,CAAkCuoC,GAAG,CAACt4C,MAAtC;AACP,WANQ,CAAT;AAOAq5C,gBAAM,CAACE,SAAP,CAAiBxV,GAAjB,CAAqB,KAArB;AACH;AACJ;AACJ;;;6BAC4B;AAAA,wBAKrB,KAAKljC,KALgB;AAAA,UAErB4E,MAFqB,eAErBA,MAFqB;AAAA,UAGrB4B,OAHqB,eAGrBA,OAHqB;AAAA,2CAIrB84B,MAJqB;AAAA,UAIX6Q,QAJW,sBAIXA,QAJW;AAAA,qDAIDwI,GAJC;AAAA,UAIDA,GAJC,sCAIK,EAJL;AAOzB,UAAI,CAAC/zC,MAAD,IAAW,QAAOA,MAAP,MAAkB,QAAjC,EACI,OACI;AAAK,iBAAS,YAAK,KAAK5E,KAAL,CAAW2T,SAAhB;AAAd,sBADJ,CARqB,CAazB;;AAEA,aACI;AAAK,iBAAS,EAAE,KAAK3T,KAAL,CAAW2T;AAA3B,SACI,2DAAC,8CAAD;AAAO,eAAO,EAAEnN,OAAhB;AAAyB,gBAAQ,EAAE2pC;AAAnC,QADJ,EAEI,2DAAC,6CAAD;AACI,eAAO,EAAE3pC,OADb;AAEI,gBAAQ,EAAE2pC,QAFd;AAGI,cAAM,EAAEvrC,MAHZ;AAII,WAAG,EAAE+zC;AAJT,QAFJ,CADJ;AAWH;;;;EAlEoB3kC,4CAAK,CAACo9B,a;AAqEhB8G,yEAAf,E;;;;;;;;;;;;;ACxJA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,kBAAkB,QAAQ,cAAc,WAAW,kBAAkB,eAAe,oBAAoB,wCAAwC,WAAW,oBAAoB,EAAgB,gEAAC,Y;;;;;;;;;;;;ACA/zB;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;CAIA;;AAMA;AAEA,IAAMU,KAAK,GAAGvI,mDAAM,CAAiB;AACjCv+B,QAAM,EAANA,0DAAMA;AAD2B,CAAjB,CAAN,CAGVkC,4CAAK,CAAC/N,IAAN,CACI;AAAA,MAAG0N,SAAH,QAAGA,SAAH;AAAA,MAAcklC,IAAd,QAAcA,IAAd;AAAA,SACI;AAAK,aAAS,EAAEllC;AAAhB,KACKklC,IAAI,IAAI5E,EAAE,CAAC,uBAAD,CADf,CADJ;AAAA,CADJ,CAHU,CAAd;AAYe2E,oEAAf,E;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,kBAAkB,aAAa,aAAa,0DAA0D,cAAc,cAAc,cAAc,0CAA0C,kBAAkB,kBAAkB,kDAAkD,yCAAyC,cAAc,gBAAgB,oBAAoB,kCAAkC,eAAe,mBAAmB,qBAAqB,wCAAwC,gBAAgB,kCAAkC,+CAA+C,sCAAsC,8DAA8D,gDAAgD,sCAAsC,wBAAwB,oBAAoB,+CAA+C,sCAAsC,EAAgB,gEAAC,Y;;;;;;;;;;;;ACExhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;CAIA;;AAOA;AAEA,IAAMt5B,OAAO,GAAG+wB,mDAAM,CAAiB;AACnCv+B,QAAM,EAANA,0DAAMA;AAD6B,CAAjB,CAAN,CAGZkC,4CAAK,CAAC/N,IAAN,CACI,gBAAoD;AAAA,MAAjD0N,SAAiD,QAAjDA,SAAiD;AAAA,MAAtCnN,OAAsC,QAAtCA,OAAsC;AAAA,MAA7BsyC,SAA6B,QAA7BA,SAA6B;AAAA,MACxCptB,OADwC,GAC5BllB,OAD4B,CACxCklB,OADwC;AAEhD,SACI;AAAK,aAAS,EAAE/X;AAAhB,KACK+X,OAAO,CAAC9kB,GAAR,CAAY,UAAArF,IAAI;AAAA,WACb,2DAAC,IAAD;AAAM,UAAI,EAAEA,IAAZ;AAAkB,SAAG,EAAEA,IAAI,CAACu0C,MAAL,CAAYE;AAAnC,MADa;AAAA,GAAhB,CADL,CADJ;AAOH,CAVL,CAHY,CAAhB;AAiBe12B,sEAAf,E,CAEA;;AAKA,IAAMy5B,IAAI,GAAG/kC,4CAAK,CAAC/N,IAAN,CACT,iBAA0D;AAAA,yBAAvD1E,IAAuD;AAAA,MAA/Cu0C,MAA+C,cAA/CA,MAA+C;AAAA,MAAvCkD,MAAuC,cAAvCA,MAAuC;AACtD,SACI,2DAAC,iDAAD;AACI,aAAS,EAAC,MADd,CAEI;AAFJ;AAGI,MAAE,YAAKjiC,wDAAS,CAACnS,MAAf,cAAyBkxC,MAAM,CAACE,aAAhC;AAHN,KAKI;AAAM,aAAS,EAAC;AAAhB,KAAwB9B,oEAAW,CAAC4B,MAAM,CAACC,UAAR,CAAnC,CALJ,EAMI;AAAM,aAAS,EAAC;AAAhB,KACK9B,EAAE,CAAC,uCAAD,EAA0C;AACzC75B,SAAK,EACD,KACAnb,MAAM,CAACwf,MAAP,CAAcu6B,MAAd,EAAsBhzC,MAAtB,CACI,UAACizC,GAAD,EAAMC,eAAN;AAAA,aACID,GAAG,GAAGC,eAAe,CAACn7C,MAD1B;AAAA,KADJ,EAGI,CAHJ;AAHqC,GAA1C,CADP,CANJ,CADJ;AAoBH,CAtBQ,CAAb,C;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,kBAAkB,UAAU,qBAAqB,aAAa,gCAAgC,wBAAwB,iBAAiB,eAAe,iBAAiB,kBAAkB,wBAAwB,gBAAgB,WAAW,wCAAwC,YAAY,iDAAiD,eAAe,OAAO,sBAAsB,eAAe,eAAe,cAAc,SAAS,qBAAqB,kBAAkB,gBAAgB,mBAAmB,gBAAgB,WAAW,YAAY,8BAA8B,gBAAgB,kBAAkB,qBAAqB,aAAa,6BAA6B,qBAAqB,WAAW,eAAe,0BAA0B,kBAAkB,cAAc,kBAAkB,eAAe,YAAY,iBAAiB,wCAAwC,mBAAmB,iCAAiC,kBAAkB,eAAe,gBAAgB,qBAAqB,gBAAgB,6CAA6C,2CAA2C,kBAAkB,gBAAgB,mBAAmB,6CAA6C,yCAAyC,WAAW,6CAA6C,YAAY,mCAAmC,qCAAqC,oCAAoC,yCAAyC,qCAAqC,qCAAqC,8CAA8C,qCAAqC,iEAAiE,UAAU,sFAAsF,sCAAsC,4HAA4H,YAAY,gCAAgC,WAAW,kBAAkB,YAAY,UAAU,WAAW,WAAW,0CAA0C,gBAAgB,oBAAoB,mCAAmC,2BAA2B,sCAAsC,8BAA8B,gDAAgD,oCAAoC,kCAAkC,eAAe,2CAA2C,mCAAmC,mDAAmD,6CAA6C,uDAAuD,UAAU,kKAAkK,kCAAkC,0CAA0C,uBAAuB,eAAe,2BAA2B,UAAU,kCAAkC,oBAAoB,aAAa,kBAAkB,UAAU,eAAe,OAAO,gDAAgD,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACE9rH;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;CAIA;;AAEO,IAAM04C,IAAI,GAAG,CAChB,CAAC,EAAD,EAAK,KAAL,CADgB,EAEhB;AACA;AACA;AACA;AACA,CAAC,gBAAD,EAAmB,gBAAnB,CANgB,EAOhB,CAAC,cAAD,EAAiB,cAAjB,CAPgB,EAQhB,CAAC,eAAD,EAAkB,eAAlB,CARgB,EAShB,CAAC,YAAD,EAAe,YAAf,CATgB,EAUhB,CAAC,SAAD,EAAY,SAAZ,CAVgB,CAAb;AAYA,IAAI0C,SAAJ,C,CAEP;;AAQA,IAAMC,IAAI,GAAG/I,mDAAM,CAAiB;AAChCv+B,QAAM,EAANA,0DAAMA;AAD0B,CAAjB,CAAN,CAGTkC,4CAAK,CAAC/N,IAAN,CACI,gBAAqE;AAAA,MAAlE0N,SAAkE,QAAlEA,SAAkE;AAAA,sBAAvDglC,GAAuD;AAAA,MAAvDA,GAAuD,yBAAjD,EAAiD;AAAA,MAA7CnyC,OAA6C,QAA7CA,OAA6C;AAAA,MAApC5B,MAAoC,QAApCA,MAAoC;AAAA,MAA5BurC,QAA4B,QAA5BA,QAA4B;AACjEgJ,WAAS,GAAGE,oDAAM,CAAC,IAAD,CAAlB;AAEA,MAAMC,SAAS,GAAGX,GAAG,KAAK,SAA1B;AAEA,MAAMY,aAAa,GAAG9C,IAAI,CAAChyC,MAAL,CAAY;AAAA;AAAA,QAAEqvC,GAAF;;AAAA,WAAWA,GAAG,KAAK6E,GAAnB;AAAA,GAAZ,EAAoC,CAApC,KAA0C,EAAhE;AACA,MAAMa,WAAW,GAAGD,aAAa,CAAC,CAAD,CAAjC;AAEA,MAAME,KAAK,GAAG,gBAAgB3kC,IAAhB,CAAqB0kC,WAArB,CAAd;AAEA,SACI;AAAK,aAAS,EAAE7lC;AAAhB,KACI;AACI,aAAS,EAAE+iC,iDAAU,CAAC,WACfR,0DADe,cAElB;AACI,qBAAeoD;AADnB,KAFkB,CAAD,CADzB;AAOI,OAAG,EAAEH;AAPT,KASI;AAAI,aAAS,EAAC;AAAd,KACKG,SAAS,GACJrF,EAAE,CAAC,oCAAD,CADE,GAEJA,EAAE,CAAC,4BAAD,EAA+B;AAC7ByF,YAAQ,EAAExF,oEAAW,CACjB1tC,OAAO,CAACklB,OAAR,CAAgBjnB,MAAhB,CACI,UAAAlD,IAAI;AAAA,aACAA,IAAI,CAACu0C,MAAL,CAAYE,aAAZ,KACA7F,QAFA;AAAA,KADR,EAIE,CAJF,EAIK2F,MAJL,CAIYC,UALK;AADQ,GAA/B,CAHZ,CATJ,EAsBK,CAACuD,SAAD,IACG;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC;AAAf,KACK7C,IAAI,CAAC7vC,GAAL,CACG;AAAA;AAAA,QAAEktC,GAAF;AAAA,QAAOz3C,IAAP;;AAAA,WACI,2DAAC,GAAD;AACI,SAAG,EAAEy3C,GADT;AAEI,SAAG,EAAEA,GAFT;AAGI,UAAI,EAAEz3C,IAHV;AAII,cAAQ,EAAE8zC,QAJd;AAKI,WAAK,EACD9zC,IAAI,KAAK,KAAT,GACM+B,SADN,GAEM,CACIwG,MAAM,CAACo0C,MAAP,CACI38C,IADJ,KAEK,EAHT,EAIE0B;AAZhB,MADJ;AAAA,GADH,CADL,CADJ,CAvBR,CADJ,EAiDI;AAAK,aAAS,YAAKm4C,0DAAL;AAAd,KACKoD,SAAS,GACN,2DAAC,gDAAD;AACI,WAAO,EAAE9yC,OADb;AAEI,aAAS,EAAE2pC;AAFf,IADM,GAKNsJ,KAAK,GACL,2DAAC,4CAAD;AAAU,UAAM,EAAE70C,MAAM,CAAC+0C;AAAzB,IADK,GAGL,2DAAC,8CAAD;AACI,UAAM,EAAE/0C,MAAM,CAACo0C,MAAP,CAAcQ,WAAd,CADZ;AAEI,QAAI,EAAEA;AAFV,IATR,CAjDJ,CADJ;AAmEH,CA9EL,CAHS,CAAb;AAqFeJ,mEAAf,E,CAEA;;AAQA,IAAMQ,GAAG,GAAG5lC,4CAAK,CAAC/N,IAAN,CACR,iBAA2D;AAAA,MAAxDkqC,QAAwD,SAAxDA,QAAwD;AAAA,MAA9C2D,GAA8C,SAA9CA,GAA8C;AAAA,MAAzCz3C,IAAyC,SAAzCA,IAAyC;AAAA,MAAnC+d,KAAmC,SAAnCA,KAAmC;AACvD,MAAM4mB,QAAQ,GACV,2DAAC,4CAAD,CAAO,QAAP,QACKiT,EAAE,CAAC,aAAD,EAAgB53C,IAAhB,CADP,EAEK,OAAO+d,KAAP,KAAiB,WAAjB,IACG;AACI,aAAS,EAAEs8B,iDAAU,CAAC,CAClB,OADkB,EAElB;AACI,iBAAW,CAACt8B,KADhB;AAEI,qBAAe,CAAC,CAACA;AAFrB,KAFkB,CAAD;AADzB,KASKA,KATL,CAHR,CADJ;AAkBA,MAAMpa,KAAK,GAAG;AACV2T,aAAS,EAAE,KADD;AAEVkmC,mBAAe,EAAE,WAFP;AAGVznC,MAAE,YAAK2E,wDAAS,CAACnS,MAAf,cAAyBurC,QAAzB,SAAoC2D,GAAG,cAAOA,GAAP,IAAe,EAAtD,CAHQ;AAIV9S,YAAQ,EAARA;AAJU,GAAd;AAMA,MAAI,CAAC8S,GAAL,EAAU,OAAO,2DAAC,sDAAD,EAAe9zC,KAAf,CAAP;AACV,SAAO,2DAAC,iDAAD,EAAUA,KAAV,CAAP;AACH,CA5BO,CAAZ,C;;;;;;;;;;;;;ACvIA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,eAAe,kCAAkC,iBAAiB,kBAAkB,gBAAgB,aAAa,0DAA0D,gBAAgB,yCAAyC,gBAAgB,0DAA0D,cAAc,kBAAkB,SAAS,8CAA8C,iBAAiB,oBAAoB,kBAAkB,wCAAwC,yCAAyC,cAAc,gBAAgB,qBAAqB,WAAW,kBAAkB,WAAW,YAAY,SAAS,SAAS,6CAA6C,qBAAqB,qBAAqB,aAAa,6BAA6B,qBAAqB,+BAA+B,uBAAuB,yCAAyC,qBAAqB,mBAAmB,2BAA2B,eAAe,OAAO,kCAAkC,iBAAiB,cAAc,4BAA4B,qBAAqB,6CAA6C,eAAe,gBAAgB,iBAAiB,WAAW,kBAAkB,mBAAmB,qCAAqC,2BAA2B,eAAe,8BAA8B,kBAAkB,qBAAqB,kBAAkB,0CAA0C,wCAAwC,wCAAwC,kBAAkB,iBAAiB,eAAe,kBAAkB,eAAe,wDAAwD,kDAAkD,gCAAgC,oCAAoC,8FAA8F,gCAAgC,oCAAoC,WAAW,oCAAoC,kBAAkB,qBAAqB,uBAAuB,WAAW,YAAY,QAAQ,UAAU,sCAAsC,8BAA8B,gDAAgD,wCAAwC,gCAAgC,oCAAoC,8CAA8C,gCAAgC,wBAAwB,uBAAuB,eAAe,mBAAmB,0CAA0C,kBAAkB,cAAc,+BAA+B,gCAAgC,wCAAwC,yCAAyC,uBAAuB,gCAAgC,qDAAqD,mCAAmC,mCAAmC,iBAAiB,sCAAsC,WAAW,iBAAiB,yBAAyB,yCAAyC,gBAAgB,eAAe,gBAAgB,gLAAgL,iBAAiB,UAAU,iHAAiH,cAAc,yBAAyB,qBAAqB,yBAAyB,qBAAqB,sBAAsB,iBAAiB,qBAAqB,aAAa,8DAA8D,UAAU,YAAY,kEAAkE,cAAc,YAAY,aAAa,mBAAmB,kDAAkD,8CAA8C,2DAA2D,+CAA+C,0DAA0D,mCAAmC,mCAAmC,sCAAsC,kBAAkB,mFAAmF,8CAA8C,yCAAyC,kBAAkB,yFAAyF,iDAAiD,qCAAqC,QAAQ,SAAS,kCAAkC,mCAAmC,+BAA+B,qCAAqC,gDAAgD,4BAA4B,4CAA4C,6CAA6C,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACE92K;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;CAGA;;AAKA,IAAM85C,MAAM,GAAGzJ,mDAAM,CAAc;AAC/Bv+B,QAAM,EAANA,2DAAMA;AADyB,CAAd,CAAN,CAGXkC,4CAAK,CAAC/N,IAAN,CACI,gBAAuC;AAAA,MAApC8zC,KAAoC,QAApCA,KAAoC;AAAA,MAA7BpmC,SAA6B,QAA7BA,SAA6B;AAAA,MAC3BnF,KAD2B,GACTurC,KADS,CAC3BvrC,KAD2B;AAAA,MACpBwrC,MADoB,GACTD,KADS,CACpBC,MADoB;AAGnC,MAAMjJ,YAA6C,GAAGsI,oDAAM,CAAC,IAAD,CAA5D;AAEA,SACI;AACI,aAAS,EAAE1lC,SADf;AAEI,OAAG,EAAEo9B,YAFT;AAGI,kBAAYgJ,KAAK,CAACA;AAHtB,KAKKvrC,KAAK,IAAI;AAAI,aAAS,EAAC;AAAd,KAAuBA,KAAvB,CALd,EAMI;AAAK,aAAS,EAAC;AAAf,KACKwrC,MAAM,CAACpzC,GAAP,CAAW,UAAAqzC,KAAK;AAAA,WACb,2DAAC,KAAD;AAAO,SAAG,EAAEA,KAAK,CAACzrC,KAAlB;AAAyB,WAAK,EAAEyrC;AAAhC,MADa;AAAA,GAAhB,CADL,CANJ,CADJ;AAcH,CApBL,CAHW,CAAf;AA2BeH,qEAAf,E,CAEA;;IASMI,K;;;;;AAOF,iBAAYl6C,KAAZ,EAA+B;AAAA;;AAAA;;AAC3B,+EAAMA,KAAN;;AAD2B;;AAAA;;AAAA;;AAAA,uEAFwBgU,4CAAK,CAAC88B,SAAN,EAExB;;AAE3B,UAAKnwC,KAAL,GAAa;AACTw5C,iBAAW,EAAE;AADJ,KAAb;AAF2B,4BAMG,MAAKn6C,KAAL,CAAWi6C,KANd;AAAA,QAMnBG,OANmB,qBAMnBA,OANmB;AAAA,QAMVC,QANU,qBAMVA,QANU;AAQ3B,UAAKC,UAAL,GAAkB,QAAOF,OAAP,MAAmB,QAArC;AACA,UAAKG,WAAL,GAAmBt8C,KAAK,CAACiD,OAAN,CAAcm5C,QAAd,KAA2BA,QAAQ,CAACt8C,MAAT,GAAkB,CAAhE;AACA,UAAKy8C,WAAL,GAAmB,MAAKF,UAAL,GACbF,OAAO,CAAC/9C,IAAR,KAAiB,OAAjB,GACI,OADJ,GAEI+9C,OAAO,CAAC/9C,IAAR,KAAiB,aAAjB,IACA4B,KAAK,CAACiD,OAAN,CAAck5C,OAAO,CAACK,KAAtB,CADA,IAEAx8C,KAAK,CAACiD,OAAN,CAAck5C,OAAO,CAACM,QAAtB,CAFA,GAGA,mBAHA,GAIA,SAPS,GAQbt8C,SARN;;AAUA,QAAIsU,KAAJ,EAA2B,+BAU1B;;AAED,UAAKioC,aAAL,GAAqB,MAAKA,aAAL,CAAmB5mC,IAAnB,+BAArB;AAhC2B;AAiC9B;;;;kCAEa0jC,G,EAAoD;AAAA;;AAC9DA,SAAG,CAACK,aAAJ,CAAkB8C,IAAlB;AACA,WAAKrnC,QAAL,CACI,UAAA8wB,SAAS;AAAA,eAAK;AACV8V,qBAAW,EAAE,CAAC9V,SAAS,CAAC8V;AADd,SAAL;AAAA,OADb,EAII,YAAM;AACF,YAAI,MAAI,CAACx5C,KAAL,CAAWw5C,WAAX,IAA0B,MAAI,CAACU,gBAAL,CAAsB10C,OAApD,EACI4sC,kDAAQ,CAAC,MAAI,CAAC8H,gBAAL,CAAsB10C,OAAvB,CAAR;AACP,OAPL;AASH;;;6BAEyB;AAAA,+BAOlB,KAAKnG,KAAL,CAAWi6C,KAPO;AAAA,UAElBzrC,KAFkB,sBAElBA,KAFkB;AAAA,UAGlBssC,KAHkB,sBAGlBA,KAHkB;AAAA,UAIlBC,YAJkB,sBAIlBA,YAJkB;AAAA,UAKlBhH,WALkB,sBAKlBA,WALkB;AAAA,UAMlBqG,OANkB,sBAMlBA,OANkB;AAStB,aACI;AACI,iBAAS,YAAKlE,2DAAL,WADb;AAEI,sBAAY8E,2DAAiB,CAACF,KAAD,CAFjC;AAGI,sBAAYA;AAHhB,SAKI;AAAM,iBAAS,EAAC;AAAhB,SACI;AAAM,iBAAS,EAAC;AAAhB,SAAwBtsC,KAAxB,CADJ,EAEKusC,YAAY,IACT;AAAM,iBAAS,EAAC;AAAhB,SAAyBA,YAAzB,CAHR,CALJ,EAWKhH,WAAW,IACR,2DAAC,4DAAD;AAAU,iBAAS,EAAC,aAApB;AAAkC,cAAM,EAAEA;AAA1C,QAZR,EAcK,KAAKuG,UAAL,IACG;AACI,iBAAS,EAAE5D,iDAAU,CAAC,CAClB,gBADkB,EAElB;AACI,uBAAa,KAAK/1C,KAAL,CAAWw5C;AAD5B,SAFkB,CAAD,CADzB;AAOI,YAAI,EAAC,QAPT;AAQI,eAAO,EAAE,KAAKQ,aARlB;AASI,WAAG,EAAE,KAAKE;AATd,SAWI,2DAAC,wDAAD;AAAM,YAAI,EAAC,cAAX;AAA0B,iBAAS,EAAC;AAApC,QAXJ,EAYK,KAAKl6C,KAAL,CAAWw5C,WAAX,GACKlG,EAAE,CAAC,sCAAD,CADP,GAEKA,EAAE,CAAC,sCAAD,CAdZ,CAfR,EAgCK,KAAKtzC,KAAL,CAAWw5C,WAAX,IACG;AACI,iBAAS,EAAEzD,iDAAU,CAAC,CAClB,SADkB,EAElB;AACI,2CACI,KAAK8D,WAAL,KAAqB;AAF7B,SAFkB,CAAD;AADzB,SASK,KAAKA,WAAL,KAAqB,OAArB,IACD,KAAKA,WAAL,KAAqB,mBADpB,GAEG,2DAAC,YAAD;AAAc,eAAO,EAAEJ;AAAvB,QAFH,GAIG,2DAAC,4CAAD,CAAO,QAAP,QACKnG,EAAE,CACC,sCADD,EAEC,GAFD,EAGC;AACI53C,YAAI,EAAE+9C,OAAO,CAAC/9C,IAAR,IAAgB;AAD1B,OAHD,CADP,EAQI,sEARJ,EASK43C,EAAE,CACC,sCADD,EAEC,GAFD,CATP,CAbR,CAjCR,CADJ;AAkEH;;;;EAlIejgC,4CAAK,CAACo9B,a,GAqI1B;;;AAKA,IAAM6J,YAAY,GAAG,SAAfA,YAAe,QAAwD;AAAA,MAArDb,OAAqD,SAArDA,OAAqD;AAAA,MACjEM,QADiE,GAC7CN,OAD6C,CACjEM,QADiE;AAAA,MACvDD,KADuD,GAC7CL,OAD6C,CACvDK,KADuD;AAGzE,MAAI,CAACx8C,KAAK,CAACiD,OAAN,CAAcw5C,QAAd,CAAL,EAA8B,OAAO,IAAP;AAC9B,MAAI,CAACz8C,KAAK,CAACiD,OAAN,CAAcu5C,KAAd,CAAL,EAA2B,OAAO,IAAP;AAE3B,MAAI/mC,KAAJ,EAA2B+F,EAAA;AAE3B,SACI;AAAO,aAAS,EAAC;AAAjB,KACKxb,KAAK,CAACiD,OAAN,CAAcw5C,QAAd,KACG,0EACI,uEACKA,QAAQ,CAAC9zC,GAAT,CACG,iBAEIpF,KAFJ,EAGK;AAAA,QAFClC,GAED,SAFCA,GAED;AAAA,QAFM47C,KAEN,SAFMA,KAEN;AAAA,QAFarC,IAEb,SAFaA,IAEb;AAAA,QAFmBsC,SAEnB,SAFmBA,SAEnB;AAAA,QAF8BC,QAE9B,SAF8BA,QAE9B;AACD,WACI;AACI,SAAG,EAAE55C,KADT;AAEI,kBAAUlC,GAFd;AAGI,mBAAW67C,SAAS,IAAIC;AAH5B,OAKKF,KAAK,IAAIrC,IALd,CADJ;AASH,GAdJ,CADL,CADJ,CAFR,EAuBK56C,KAAK,CAACiD,OAAN,CAAcu5C,KAAd,KACG,0EACKA,KAAK,CAAC7zC,GAAN,CAAU,UAACrF,IAAD,EAAOC,KAAP;AAAA,WACP;AAAI,SAAG,EAAEA;AAAT,OACKk5C,QAAQ,CAAC9zC,GAAT,CACG,iBAA+BpF,KAA/B,EAAyC;AAAA,UAAtClC,GAAsC,SAAtCA,GAAsC;AAAA,UAAjC67C,SAAiC,SAAjCA,SAAiC;AAAA,UAAtBC,QAAsB,SAAtBA,QAAsB;AACrC,UAAM/+C,IAAI,GAAG8+C,SAAS,IAAIC,QAA1B;AACA,UAAMp7C,KAAK,GAAG;AACVV,WAAG,EAAEkC,KADK;AAEV,qBAAanF;AAFH,OAAd;AAIA,UAAM8U,OAAO,GAAG5P,IAAI,CAACjC,GAAD,CAApB;;AACA,cAAQjD,IAAR;AACI,aAAK,KAAL;AAAY;AACR,mBACI,iEAAQ2D,KAAR,EACI;AACI,kBAAI,EAAEmR,OADV;AAEI,oBAAM,EAAC,QAFX;AAGI,iBAAG,EAAC;AAHR,eAKKA,OALL,CADJ,CADJ;AAWH;;AACD,aAAK,OAAL;AAAc;AACV,mBACI,iEAAQnR,KAAR,EACKq7C,+CAAQ,CAAClqC,OAAO,IAAI,CAAZ,CADb,CADJ;AAKH;;AACD,aAAK,IAAL;AACA,aAAK,YAAL;AAAmB;AACf,mBACI,iEAAQnR,KAAR,EACKg3C,gDAAQ,CAAC7lC,OAAD,EAAU;AACf8lC,kCAAoB,EAAE;AADP,aAAV,CADb,CADJ;AAOH;;AACD,aAAK,MAAL;AAAa;AACT,mBACI,iEAAQj3C,KAAR,EAAgBmR,OAAhB,CADJ;AAGH;;AACD,aAAK,MAAL;AAAa;AACT,mBACI,iEAAQnR,KAAR,EACI,wEAAMmR,OAAN,CADJ,CADJ;AAKH;;AACD,aAAK,WAAL;AAAkB;AACd,mBACI,iEAAQnR,KAAR,EACI;AACI,iBAAG,EAAEmR,OADT;AAEI,iBAAG,EAAEA,OAFT;AAGI,qBAAO,EAAC;AAHZ,cADJ,CADJ;AASH;AArDL;;AAuDA,aACI;AACI,iBAAS,EAAC;AADd,SAEQnR,KAFR,GAIKi0C,EAAE,CACC,sCADD,EAEC,GAFD,EAGC;AACI53C,YAAI,EAAEA,IAAI,IAAI;AADlB,OAHD,CAJP,EAWI,sEAXJ,EAYK43C,EAAE,CACC,sCADD,EAEC,GAFD,CAZP,CADJ;AAmBH,KAlFJ,CADL,CADO;AAAA,GAAV,CADL,CAxBR,CADJ;AAsHH,CA9HD,C;;;;;;;;;;;;;;;;;;;;;;;;;;ACjMA;AAEA;AACA;AAEA;CAGA;;AAQA,IAAMqH,IAAI,GAAGtnC,4CAAK,CAAC/N,IAAN,CACT,gBAAgE;AAAA,MAA7DrB,MAA6D,QAA7DA,MAA6D;AAAA,MAArD22C,QAAqD,QAArDA,QAAqD;AAAA,MAA3CT,KAA2C,QAA3CA,KAA2C;AAC5D,MAAM96C,KAAK,GAAG;AACV2T,aAAS,YAAKuiC,0DAAL,cADC;AAEV,qBAAiBqF;AAFP,GAAd;;AAIA,MAAIA,QAAQ,KAAK,YAAjB,EAA+B;AAC3B,WACI,kEAASv7C,KAAT,EACI,2DAAC,4DAAD;AACI,eAAS,EAAC,OADd;AAEI,YAAM,EAAEi0C,EAAE,CAAC,sCAAD;AAFd,MADJ,CADJ;AAQH;;AAEDuH,4CAAQ,CAACD,QAAD,CAAR,GAAqBlC,oDAAM,CAAC,IAAD,CAA3B;AACA,MAAMoC,KAAK,GAAGT,2DAAiB,CAACF,KAAK,IAAI,CAAV,CAA/B;AAEA77C,QAAM,CAACC,MAAP,CAAcc,KAAd,EAAqB;AACjB07C,OAAG,EAAEF,0CAAQ,CAACD,QAAD,CADI;AAEjB,kBAAcE;AAFG,GAArB;;AAKA,MAAIF,QAAQ,KAAK,mBAAjB,EAAsC;AAClC,WACI,kEAASv7C,KAAT,EACI;AAAI,eAAS,EAAC;AAAd,OACKi0C,EAAE,CAAC,oCAAD,CADP,CADJ,CADJ;AAOH;;AAED,MAAI,CAACrvC,MAAL,EAAa,OAAO,IAAP;AAlC+C,MAoCpD+2C,gBApCoD,GAoC/B/2C,MApC+B,CAoCpD+2C,gBApCoD;AAAA,MAqCpD3B,MArCoD,GAqCb2B,gBArCa,CAqCpD3B,MArCoD;AAAA,MAqC5C4B,UArC4C,GAqCbD,gBArCa,CAqC5CC,UArC4C;AAAA,MAqChCC,cArCgC,GAqCbF,gBArCa,CAqChCE,cArCgC;AAAA,6BA2CxDD,UAAU,CAACL,QAAD,CA3C8C;AAAA,MAuCxD/sC,KAvCwD,wBAuCxDA,KAvCwD;AAAA,MAwCxDulC,WAxCwD,wBAwCxDA,WAxCwD;AAAA,mDA0CxD+H,SA1CwD;AAAA,MA0CxDA,SA1CwD,sCA0C5C,EA1C4C;AA4C5D,MAAMC,WAEL,GAAG,EAFJ;AAGA,MAAMC,iBAA+B,GAAG,EAAxC;;AAEA,oCAAoB/8C,MAAM,CAACwf,MAAP,CAAcq9B,SAAd,CAApB,oCAA8C;AAAzC,QAAM7B,KAAK,qBAAX;;AAAyC,QAClC94B,EADkC,GACN84B,KADM,CAClC94B,EADkC;AAAA,QAC9B86B,MAD8B,GACNhC,KADM,CAC9BgC,MAD8B;AAAA,uBACNhC,KADM,CACtBF,KADsB;AAAA,QACtBA,MADsB,6BACd,GADc;;AAE1C,QAAMmC,SAAS,GAAGlC,MAAM,CAAC74B,EAAD,CAAxB;AAEA,QACK44B,MAAK,KAAK,SAAV,IACG,OAAOmC,SAAS,CAACpB,KAAjB,KAA2B,QAD9B,IAEGoB,SAAS,CAACpB,KAAV,GAAkB,GAFtB,IAGAoB,SAAS,CAACC,gBAAV,KAA+B,eAH/B,IAIAD,SAAS,CAACC,gBAAV,KAA+B,aALnC,EAOI;;AAEJ,QAAI,CAACJ,WAAW,CAAChC,MAAD,CAAhB,EAAyB;AAAA,kBAIjB8B,cAAc,CAAC9B,MAAD,CAAd,IAAyB,EAJR;AAAA,8BAEjBvrC,KAFiB;AAAA,UAEjBA,MAFiB,4BAETylC,EAAE,CAAC,8BAAD,CAFO;AAAA,UAGjBF,YAHiB,SAGjBA,WAHiB;;AAKrBgI,iBAAW,CAAChC,MAAD,CAAX,GAAqB;AACjBA,aAAK,EAALA,MADiB;AAEjBvrC,aAAK,EAALA,MAFiB;AAGjBulC,mBAAW,EAAXA,YAHiB;AAIjBiG,cAAM,EAAE;AAJS,OAArB;AAMAgC,uBAAiB,CAACx3C,IAAlB,CAAuBu3C,WAAW,CAAChC,MAAD,CAAlC;AACH;;AAEDgC,eAAW,CAAChC,MAAD,CAAX,CAAmBC,MAAnB,CAA0Bx1C,IAA1B;AACI2c,QAAE,EAAFA,EADJ;AAEI86B,YAAM,EAANA;AAFJ,OAGOC,SAHP;AAKH;;AAEDF,mBAAiB,CAACnG,IAAlB,CAAuB,UAAC/0C,CAAD,EAAIC,CAAJ,EAAU;AAC7B,QAAID,CAAC,CAACi5C,KAAF,KAAY,GAAhB,EAAqB,OAAO,CAAP;AACrB,QAAIh5C,CAAC,CAACg5C,KAAF,KAAY,GAAhB,EAAqB,OAAO,CAAC,CAAR;AACrB,WAAO,CAAP;AACH,GAJD;;AAMA,MACIiC,iBAAiB,CAACj+C,MAAlB,KAA6B,CAA7B,IACAi+C,iBAAiB,CAAC,CAAD,CAAjB,CAAqBjC,KAArB,KAA+B,GAFnC,EAGE;AACEiC,qBAAiB,CAAC,CAAD,CAAjB,CAAqBxtC,KAArB,GAA6BpQ,SAA7B;AACH;;AAED,SACI,kEAAS4B,KAAT,EACI;AAAI,aAAS,EAAC;AAAd,KAAuBwO,KAAvB,CADJ,EAEKulC,WAAW,IACR,2DAAC,4DAAD;AAAU,aAAS,EAAC,aAApB;AAAkC,UAAM,EAAEA;AAA1C,IAHR,EAKKiI,iBAAiB,CAACp1C,GAAlB,CAAsB,UAAAw1C,CAAC;AAAA,WACpB,2DAAC,+CAAD;AAAQ,WAAK,EAAEA,CAAf;AAAkB,SAAG,EAAEA,CAAC,CAACrC;AAAzB,MADoB;AAAA,GAAvB,CALL,CADJ;AAWH,CA5GQ,CAAb;AA+GeuB,mEAAf,E;;;;;;;;;;;;;ACjIA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,kBAAkB,iBAAiB,kBAAkB,wBAAwB,gBAAgB,SAAS,+CAA+C,iDAAiD,YAAY,eAAe,oCAAoC,yCAAyC,iBAAiB,UAAU,mBAAmB,yBAAyB,UAAU,kBAAkB,kBAAkB,iBAAiB,SAAS,iCAAiC,qCAAqC,iBAAiB,iBAAiB,qBAAqB,4BAA4B,wCAAwC,eAAe,0BAA0B,yCAAyC,yBAAyB,kBAAkB,gCAAgC,kBAAkB,WAAW,YAAY,iBAAiB,MAAM,SAAS,kBAAkB,mBAAmB,WAAW,kBAAkB,eAAe,4BAA4B,kGAAkG,mBAAmB,oDAAoD,mBAAmB,iGAAiG,mBAAmB,0CAA0C,uBAAuB,gCAAgC,iGAAiG,WAAW,kBAAkB,MAAM,SAAS,OAAO,QAAQ,kBAAkB,iDAAiD,WAAW,iBAAiB,gDAAgD,WAAW,gDAAgD,YAAY,2DAA2D,0CAA0C,kEAAkE,0CAA0C,iEAAiE,wCAAwC,8DAA8D,6CAA6C,qEAAqE,6CAA6C,oEAAoE,2CAA2C,0DAA0D,yCAAyC,iEAAiE,yCAAyC,gEAAgE,uCAAuC,gCAAgC,cAAc,gBAAgB,yCAAyC,gCAAgC,mBAAmB,6CAA6C,kCAAkC,oFAAoF,sCAAsC,kGAAkG,WAAW,iBAAiB,cAAc,aAAa,8CAA8C,iDAAiD,wBAAwB,kCAAkC,kCAAkC,8CAA8C,qCAAqC,iDAAiD,iCAAiC,6CAA6C,2CAA2C,wCAAwC,mBAAmB,cAAc,0BAA0B,uCAAuC,WAAW,qCAAqC,wEAAwE,WAAW,qCAAqC,WAAW,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACE/gJ;AACA;AAEA;AAEA;AACA;AACA;AAEA;CAIA;;AAEA,IAAIvK,YAAJ;AACA,IAAIsL,kBAAJ;AACO,IAAMb,QAEZ,GAAG,EAFG;AAGA,IAAMzI,QAAQ,GAAG,SAAXA,QAAW,CAAC9jC,EAAD,EAA2B;AAC/C,MAAI,CAACA,EAAL,EAAS;AAET,MAAMqtC,WAAW,GAAGvL,YAAY,CAAC5qC,OAAjC;AACA,MAAI,CAACm2C,WAAL,EAAkB;AAClB,MAAMC,QAAQ,GAAGpD,gDAAS,CAAChzC,OAA3B;AACA,MAAI,CAACo2C,QAAL,EAAe;AACf,MAAMC,iBAAiB,GAAGH,kBAAkB,CAACl2C,OAA7C;AACA,MAAI,CAACq2C,iBAAL,EAAwB;AAExB,MAAMpJ,IAAI,GAAGnkC,EAAE,CAACokC,qBAAH,EAAb;AACA,MAAMoJ,GAAG,GACLrJ,IAAI,CAACE,GAAL,GACAlmC,MAAM,CAACmmC,WADP,IAEC7C,QAAQ,CAACmH,gBAAgB,CAACyE,WAAD,CAAhB,CAA8BI,UAA9B,IAA4C,GAA7C,CAAR,GACGF,iBAAiB,CAACG,YADrB,GAEGJ,QAAQ,CAACI,YAFZ,GAGGjM,QAAQ,CAACmH,gBAAgB,CAAC0E,QAAD,CAAhB,CAA2BjJ,GAA3B,IAAkC,GAAnC,CAHX,GAIG5C,QAAQ,CAACmH,gBAAgB,CAAC5oC,EAAD,CAAhB,CAAqB2tC,SAArB,IAAkC,GAAnC,CANZ,CADJ;AASAC,yEAAU,CAACJ,GAAD,CAAV;AACH,CArBM;AAsBA,IAAMK,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACvB,QAAD,EAA4B;AACxD,MAAMwB,MAAM,GAAGvB,QAAQ,CAACD,QAAD,CAAR,CAAmBp1C,OAAlC;AACA,MAAI,CAAC42C,MAAL,EAAa;AAEbhK,UAAQ,CAACgK,MAAD,CAAR;AACH,CALM;AAMA,IAAM/B,iBAAiB,GAAG,SAApBA,iBAAoB,CAACF,KAAD,EAAoC;AACjE,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,WAAOA,KAAK,GAAG,GAAR,GAAc,KAAd,GAAsBA,KAAK,GAAG,IAAR,GAAe,SAAf,GAA2B,MAAxD;AACH;;AACD,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,YAAQA,KAAK,CAAC5zC,WAAN,EAAR;AACI,WAAK,MAAL;AACI,eAAO,KAAP;;AACJ,WAAK,MAAL;AACI,eAAO,MAAP;AAJR;;AAMA,WAAO4zC,KAAK,CAAC5zC,WAAN,EAAP;AACH;;AACD,SAAO,SAAP;AACH,CAdM,C,CAgBP;;AAmBA,IAAM81C,GAAG,GAAG3M,mDAAM,CAAiB;AAC/Bv+B,QAAM,EAANA,0DAAMA;AADyB,CAAjB,CAAN,CAGRkC,4CAAK,CAAC/N,IAAN,CACI,gBAAwC;AAAA,MAArC0N,SAAqC,QAArCA,SAAqC;AAAA,MAA1B/O,MAA0B,QAA1BA,MAA0B;AACpC,MAAI,CAACA,MAAL,EAAa,OAAO,2DAAC,8CAAD;AAAO,QAAI,EAAEqvC,EAAE,CAAC,qBAAD;AAAf,IAAP;AAEblD,cAAY,GAAGsI,oDAAM,CAAC,IAAD,CAArB;AACAgD,oBAAkB,GAAGhD,oDAAM,CAAC,IAAD,CAA3B,CAJoC,CAMpC;;AANoC,MAO5BsC,gBAP4B,GAOP/2C,MAPO,CAO5B+2C,gBAP4B;AAAA,8BAQRA,gBARQ,CAQ5BC,UAR4B;AAAA,MAQ5BA,UAR4B,sCAQf,EARe;;AAUpC,MAAMqB,aAAa,sBAEZh+C,MAAM,CAACmC,IAAP,CAAYw6C,UAAZ,CAFY,CAAnB,CAVoC,CAcpC;;;AAEA,SACI;AAAK,aAAS,EAAEjoC,SAAhB;AAA2B,OAAG,EAAEo9B;AAAhC,KACI;AACI,aAAS,YAAKp9B,SAAL,cADb;AAEI,OAAG,EAAE0oC;AAFT,KAIKY,aAAa,CAACr2C,GAAd,CAAkB,UAAA20C,QAAQ;AAAA,WACvB,2DAAC,+CAAD;AACI,cAAQ,EAAEA,QADd;AAEI,WAAK,EACDA,QAAQ,KAAK,mBAAb,GACMtH,EAAE,CACE,oCADF,CADR,GAIM2H,UAAU,CAACL,QAAD,CAAV,CAAqB/sC,KAPnC;AASI,SAAG,EAAE+sC,QATT;AAUI,WAAK,EACDA,QAAQ,KAAK,mBAAb,GACM32C,MAAM,CAACs4C,iBAAP,CACKC,gBAFX,GAGMvB,UAAU,CAACL,QAAD,CAAV,CAAqBT;AAdnC,MADuB;AAAA,GAA1B,CAJL,CADJ,EAyBI;AAAK,aAAS,EAAC;AAAf,KACKmC,aAAa,CAACr2C,GAAd,CAAkB,UAAA20C,QAAQ;AAAA,WACvB,2DAAC,iDAAD;AACI,cAAQ,EAAEA,QADd;AAEI,SAAG,EAAEA,QAFT;AAGI,YAAM,EAAE32C,MAHZ;AAII,WAAK,EACD22C,QAAQ,KAAK,mBAAb,GACM32C,MAAM,CAACs4C,iBAAP,CACKC,gBAFX,GAGMvB,UAAU,CAACL,QAAD,CAAV,CAAqBT;AARnC,MADuB;AAAA,GAA1B,CADL,EAcI,2DAAC,iDAAD;AAAU,YAAQ,EAAC;AAAnB,IAdJ,CAzBJ,CADJ;AA4CH,CA7DL,CAHQ,CAAZ;AAoEekC,kEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzJA;AACA;CAIA;;IASMI,M;;;;;AACF,kBAAYp9C,KAAZ,EAAgC;AAAA;;AAAA;;AAC5B,gFAAMA,KAAN;AACA,UAAKq9C,OAAL,GAAe,MAAKA,OAAL,CAAatpC,IAAb,+BAAf;AAF4B;AAG/B;;;;4BACO0jC,G,EAAoD;AACxDA,SAAG,CAACK,aAAJ,CAAkB8C,IAAlB;AACAkC,gEAAgB,CAAC,KAAK98C,KAAL,CAAWu7C,QAAZ,CAAhB;AACH;;;6BACyB;AACtB,UAAM+B,aAAa,GAAG,OAAO,KAAKt9C,KAAL,CAAW86C,KAAlB,KAA4B,QAAlD;AACA,UAAMW,KAAK,GAAGT,2DAAiB,CAAC,KAAKh7C,KAAL,CAAW86C,KAAZ,CAA/B;AACA,aACI;AAAQ,iBAAS,EAAC,QAAlB;AAA2B,eAAO,EAAE,KAAKuC;AAAzC,SACI;AACI,iBAAS,EAAE3G,iDAAU,CAAC,CAClB,OADkB,EAElB;AACI,uBAAa4G;AADjB,SAFkB,CAAD,CADzB;AAOI,sBAAY,KAAKt9C,KAAL,CAAW86C,KAP3B;AAQI,sBAAYW;AARhB,SAUK6B,aAAa,GACP,KAAKt9C,KAAL,CAAW86C,KAAZ,GAA+B,GADvB,GAER7G,EAAE,CAAC,kBAAD,EAAqB,KAAKj0C,KAAL,CAAW86C,KAAhC,CAZZ,CADJ,EAeI;AAAM,iBAAS,EAAC;AAAhB,SAAyB,KAAK96C,KAAL,CAAWwO,KAApC,CAfJ,CADJ;AAmBH;;;;EA/BgBwF,4CAAK,CAACo9B,a;;AAkCZgM,qEAAf,E;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAO,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,kBAAkB,oBAAoB,8BAA8B,qBAAqB,aAAa,6BAA6B,qBAAqB,kBAAkB,iDAAiD,kHAAkH,qBAAqB,aAAa,6BAA6B,qBAAqB,2BAA2B,mBAAmB,wDAAwD,eAAe,OAAO,iBAAiB,yBAAyB,0DAA0D,iBAAiB,SAAS,SAAS,eAAe,iBAAiB,+CAA+C,yBAAyB,qBAAqB,yBAAyB,qBAAqB,sBAAsB,iBAAiB,qBAAqB,aAAa,YAAY,gFAAgF,mBAAmB,sFAAsF,uBAAuB,eAAe,iCAAiC,yBAAyB,4IAA4I,uBAAuB,eAAe,0CAA0C,aAAa,0CAA0C,SAAS,gBAAgB,wBAAwB,gBAAgB,UAAU,+CAA+C,cAAc,mBAAmB,SAAS,oCAAoC,cAAc,qBAAqB,yBAAyB,oBAAoB,UAAU,0BAA0B,WAAW,kBAAkB,MAAM,SAAS,OAAO,QAAQ,+CAA+C,WAAW,uDAAuD,+CAA+C,sBAAsB,WAAW,sBAAsB,8CAA8C,yCAAyC,gBAAgB,aAAa,cAAc,cAAc,mBAAmB,0CAA0C,aAAa,kBAAkB,yCAAyC,+BAA+B,uDAAuD,cAAc,2BAA2B,UAAU,gBAAgB,gBAAgB,4BAA4B,cAAc,kBAAkB,qBAAqB,aAAa,6BAA6B,qBAAqB,SAAS,eAAe,gBAAgB,gBAAgB,yGAAyG,aAAa,+BAA+B,cAAc,iBAAiB,WAAW,eAAe,OAAO,mBAAmB,iBAAiB,+BAA+B,cAAc,SAAS,eAAe,OAAO,0BAA0B,aAAa,oBAAoB,4CAA4C,0BAA0B,aAAa,yCAAyC,iBAAiB,gDAAgD,WAAW,kBAAkB,SAAS,WAAW,YAAY,WAAW,oCAAoC,kBAAkB,UAAU,sBAAsB,iBAAiB,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEhiI;AACA;AACA;AACA;AAEA;CAIA;;AAEA,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAAClhD,IAAD,EAAiC;AAChD,MAAIA,IAAI,KAAK,SAAb,EAAwB,OAAO,CAAC,KAAD,EAAQ,eAAR,CAAP;AACxB,MAAIA,IAAI,KAAK,eAAb,EAA8B,OAAO,CAAC,SAAD,EAAY,KAAZ,CAAP;AAC9B,MAAIA,IAAI,KAAK,gBAAb,EAA+B,OAAO,CAAC,KAAD,EAAQ,SAAR,CAAP;AAC/B,MAAIA,IAAI,KAAK,YAAb,EAA2B,OAAO,CAAC,KAAD,EAAQ,eAAR,EAAyB,SAAzB,CAAP;AAC3B,MAAIA,IAAI,KAAK,cAAb,EAA6B,OAAO,CAAC,SAAD,CAAP;AAC7B,SAAO,CAAC,KAAD,CAAP;AACH,CAPD;;AAaA;AAEA,IAAMmhD,KAAK,GAAGnN,mDAAM,CAAiB;AACjCv+B,QAAM,EAANA,0DAAMA;AAD2B,CAAjB,CAAN,CAGVkC,4CAAK,CAAC/N,IAAN,CACI,gBAA8C;AAAA,MAA3C0N,SAA2C,QAA3CA,SAA2C;AAAA,MAAhCqlC,MAAgC,QAAhCA,MAAgC;AAAA,MAAxB38C,IAAwB,QAAxBA,IAAwB;AAC1C,MAAI,CAAC28C,MAAM,CAACj7C,MAAZ,EAAoB,OAAO,2DAAC,8CAAD,OAAP;AAEpB,MAAI2V,KAAJ,EAA2B+F,EAAA;AAE3B,SACI;AAAK,aAAS,EAAE9F;AAAhB,KACI;AAAK,aAAS,EAAC;AAAf,KACK4pC,UAAU,CAAClhD,IAAD,CAAV,CAAiBuK,GAAjB,CAAqB,UAAC62C,MAAD,EAASj8C,KAAT;AAAA,WAClB;AACI,eAAS,EAAC,MADd;AAEI,SAAG,EAAEi8C,MAFT;AAGI,qBAAaj8C,KAAK,GAAGi8C,MAAH,GAAYr/C;AAHlC,OAKK61C,EAAE,CAAC,4BAAD,EAA+BwJ,MAA/B,CALP,CADkB;AAAA,GAArB,CADL,CADJ,EAYKzE,MAAM,CAACpyC,GAAP,CAAW,UAAA+Z,KAAK;AAAA,WACb,2DAAC,IAAD;AAAM,WAAK,EAAEA,KAAb;AAAoB,SAAG,EAAEA,KAAK,CAACQ;AAA/B,MADa;AAAA,GAAhB,CAZL,CADJ;AAkBH,CAxBL,CAHU,CAAd;AA+Beq8B,oEAAf,E,CAEA;;AAMA,IAAMzE,IAAI,GAAG/kC,4CAAK,CAAC/N,IAAN,CACT,iBAAuC;AAAA,MAApC0a,KAAoC,SAApCA,KAAoC;;AACnC,MAAM+8B,UAAU,GAAG,SAAbA,UAAa,CACfD,MADe,EAEwB;AACvC,QAAI,CAAC98B,KAAK,CAAC88B,MAAD,CAAV,EAAoB,OAAO,IAAP;AACpB,QAAIA,MAAM,KAAK,SAAX,IAAwBA,MAAM,KAAK,KAAvC,EACI,OACI;AACI,UAAI,EAAE98B,KAAK,CAAC88B,MAAD,CADf;AAEI,YAAM,EAAC,QAFX;AAGI,SAAG,EAAC;AAHR,OAKK98B,KAAK,CAAC88B,MAAD,CALV,CADJ;AASJ,QAAIA,MAAM,KAAK,eAAf,EACI,OAAOpC,+CAAQ,CAAC16B,KAAK,CAACg9B,aAAN,IAAuB,CAAxB,CAAf;AACJ,WAAOh9B,KAAK,CAAC88B,MAAD,CAAZ;AACH,GAjBD;;AADmC,oBAoBRF,UAAU,CAAC58B,KAAK,CAACtkB,IAAN,IAAc,EAAf,CApBF;AAAA;AAAA,MAoB5BuhD,IApB4B;AAAA,MAoBnBC,OApBmB;;AAsBnC,SACI;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC;AAAf,KACKD,IAAI,KAAK,SAAT,GACG;AAAK,aAAS,EAAC;AAAf,KAAsBj9B,KAAK,CAAC9b,OAA5B,CADH,GAGG;AACI,QAAI,EAAE8b,KAAK,CAAC3B,GADhB;AAEI,UAAM,EAAC,QAFX;AAGI,OAAG,EAAC;AAHR,KAKK2B,KAAK,CAAC3B,GALX,CAJR,CADJ,EAcK6+B,OAAO,CAACj3C,GAAR,CAAY,UAAA62C,MAAM,EAAI;AACnB,QAAMtsC,OAAO,GAAGusC,UAAU,CAACD,MAAD,CAA1B;AACA,WACI;AACI,eAAS,EAAE/G,iDAAU,CAAC,CAClB,MADkB,EAElB;AACI,oBAAY,CAACvlC;AADjB,OAFkB,CAAD,CADzB;AAOI,SAAG,EAAEssC,MAPT;AAQI,qBAAaA;AARjB,OAUI,uEAAKxJ,EAAE,CAAC,4BAAD,EAA+BwJ,MAA/B,CAAP,CAVJ,EAWI,uEAAKC,UAAU,CAACD,MAAD,CAAf,CAXJ,CADJ;AAeH,GAjBA,CAdL,CADJ;AAmCH,CA1DQ,CAAb,C;;;;;;;;;;;;;;;;;;;;;;;;;;ACnEA;AACA;AAEA;CAKA;;AAWA;;AAEA;;;AAGA,IAAMK,IAAI,GAAG,SAAPA,IAAO;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,SACT;AACI,UAAM,EAAC,eADX;AAEI,UAAM,EAAC,KAFX;AAGI,YAAQ,EAAEA,QAHd;AAII,aAAS,YAAKC,0DAAL;AAJb,KAMI;AAAK,aAAS,EAAC;AAAf,KACI,2DAAC,KAAD;AACI,SAAK,EAAE/J,EAAE,CAAC,yBAAD,CADb;AAEI,QAAI,EAAC,KAFT;AAGI,QAAI,EAAC,KAHT;AAII,gBAAY,EAAC,KAJjB;AAKI,QAAI,EAAC,QALT;AAMI,eAAW,EAAC,aANhB;AAOI,YAAQ,EAAE;AAPd,IADJ,EAUI,2DAAC,KAAD;AACI,SAAK,EAAEA,EAAE,CAAC,2BAAD,CADb;AAEI,QAAI,EAAC,OAFT;AAGI,QAAI,EAAC,OAHT;AAII,gBAAY,EAAC,OAJjB;AAKI,QAAI,EAAC,UALT;AAMI,eAAW,EAAC,kBANhB;AAOI,YAAQ,EAAE;AAPd,IAVJ,CANJ,EA0BI;AAAQ,QAAI,EAAC;AAAb,KAAuBA,EAAE,CAAC,6BAAD,CAAzB,CA1BJ,CADS;AAAA,CAAb;;AA8Be6J,mEAAf,E,CAEA;;AAEA,IAAMG,cAAc,aAAMD,0DAAN,WAApB;;AACA,IAAME,KAAK,GAAG,SAARA,KAAQ;AAAA,MACVvqC,SADU,SACVA,SADU;AAAA,MAEVunC,KAFU,SAEVA,KAFU;AAAA,yBAGV7+C,IAHU;AAAA,MAGVA,IAHU,2BAGH,MAHG;AAAA,MAIVk0C,IAJU,SAIVA,IAJU;AAAA,MAKPvwC,KALO;;AAAA,SAOV;AAAO,aAAS,EAAE02C,iDAAU,CAAC,CAAC/iC,SAAD,EAAYsqC,cAAZ,CAAD;AAA5B,KACI;AAAO,aAAS,YAAKA,cAAL,WAAhB;AAA6C,QAAI,EAAE5hD;AAAnD,KAA6D2D,KAA7D,EADJ,EAEKuwC,IAAI,IACD,2DAAC,wDAAD;AACI,QAAI,EAAEA,IADV;AAEI,aAAS,YAAK0N,cAAL,UAFb;AAGI,SAAK,EAAE/C;AAHX,IAHR,EASKA,KAAK,IAAI,CAAC3K,IAAV,IACG;AAAM,aAAS,YAAK0N,cAAL;AAAf,KAA6C/C,KAA7C,CAVR,CAPU;AAAA,CAAd,C;;;;;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAAA;AAA6E,yBAAgC,wCAAwC,WAAW,UAAU,WAAW,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,2CAA2C,WAAW,UAAU,WAAW,YAAY,mCAAmC,GAAG,UAAU,GAAG,YAAY,4BAA4B,cAAc,0BAA0B,gDAAgD,WAAW,qCAAqC,0FAA0F,WAAW,qCAAqC,WAAW,QAAQ,qBAAqB,aAAa,gCAAgC,wBAAwB,+BAA+B,uBAAuB,2BAA2B,mBAAmB,WAAW,iBAAiB,aAAa,eAAe,kBAAkB,yBAAyB,sBAAsB,qBAAqB,iBAAiB,cAAc,+OAA+O,yBAAyB,0BAA0B,iBAAiB,gBAAgB,kBAAkB,WAAW,gBAAgB,WAAW,aAAa,mBAAmB,kBAAkB,oBAAoB,sFAAM,yBAAyB,wBAAwB,2BAA2B,kBAAkB,MAAM,SAAS,OAAO,QAAQ,UAAU,2EAA2E,oCAAoC,4BAA4B,uCAAuC,+OAA+O,yBAAyB,0BAA0B,oCAAoC,+OAA+O,yBAAyB,0BAA0B,aAAa,cAAc,mBAAmB,gBAAgB,kBAAkB,mBAAmB,kBAAkB,UAAU,gBAAgB,iCAAiC,cAAc,WAAW,eAAe,SAAS,iBAAiB,WAAW,qBAAqB,cAAc,sBAAsB,aAAa,4BAA4B,uBAAuB,UAAU,0CAA0C,mIAAmI,6BAA6B,wCAAwC,6BAA6B,cAAc,cAAc,kBAAkB,iCAAiC,cAAc,oBAAoB,kBAAkB,WAAW,YAAY,QAAQ,sBAAsB,kCAAkC,cAAc,SAAS,UAAU,eAAe,YAAY,sBAAsB,WAAW,6DAA6D,mBAAmB,YAAY,kBAAkB,oDAAoD,mBAAmB,YAAY,kBAAkB,wDAAwD,mBAAmB,YAAY,kBAAkB,mDAAmD,mBAAmB,YAAY,kBAAkB,oDAAoD,mBAAmB,wCAAwC,mBAAmB,cAAc,uHAAuH,cAAc,4BAA4B,6BAA6B,gBAAgB,cAAc,kBAAkB,aAAa,UAAU,SAAS,OAAO,QAAQ,gBAAgB,mBAAmB,8CAA8C,SAAS,QAAQ,kBAAkB,iCAAiC,yBAAyB,sBAAsB,WAAW,gBAAgB,YAAY,aAAa,yBAAyB,kBAAkB,qCAAqC,WAAW,wBAAwB,4BAA4B,YAAY,aAAa,uBAAuB,UAAU,UAAU,wBAAwB,+BAA+B,8BAA8B,sBAAsB,8BAA8B,aAAa,wBAAwB,kBAAkB,cAAc,QAAQ,OAAO,QAAQ,mCAAmC,2BAA2B,uCAAuC,+BAA+B,4BAA4B,oBAAoB,iCAAiC,yBAAyB,kBAAkB,mCAAmC,oCAAoC,8BAA8B,kBAAkB,WAAW,YAAY,OAAO,QAAQ,iBAAiB,4DAA4D,cAAc,+BAA+B,eAAe,mBAAmB,eAAe,iBAAiB,6BAA6B,aAAa,eAAe,iBAAiB,uCAAuC,wCAAwC,gCAAgC,UAAU,qCAAqC,uCAAuC,+BAA+B,4BAA4B,WAAW,2BAA2B,mBAAmB,WAAW,2BAA2B,oBAAoB,oBAAoB,GAAG,2BAA2B,mBAAmB,GAAG,2BAA2B,oBAAoB,mCAAmC,aAAa,oCAAoC,cAAc,gCAAgC,aAAa,iCAAiC,cAAc,EAAgB,gEAAC,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAtrM;;;AAIA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;CAGA;;IA2BMnJ,U,WAPL1B,mDAAM,CAAC;AACJv/B,UAAQ,EAAE;AAAA,WAAO;AACbtC,WAAK,EAAE2pC,gEAAQ,EADF;AAEb1pC,WAAK,EAAE,CAAC;AAAEslC,mBAAW,EAAEqE,sEAAc;AAA7B,OAAD;AAFM,KAAP;AAAA,GADN;AAKJtmC,QAAM,EAANA,0DAAMA;AALF,CAAD,C;;;;;;;;;;;;;;;;;;4DAQsB;AACrBlN,YAAM,EAAExG,SADa;AAErB+/C,gBAAU,EAAE;AAFS,K;;+DAIA,UAAA1G,GAAG,EAAI;AAC5BA,SAAG,CAAC2G,cAAJ,GAD4B,CAG5B;;AACA,UAAMC,KAAK,GAAG5G,GAAG,CAACt4C,MAAlB;AACA,UAAM0sC,MAAM,GAAGwS,KAAK,CAACC,YAAN,CAAmB,QAAnB,CAAf;AACA,UAAMt/B,GAAG,GAAGq/B,KAAK,CAACC,YAAN,CAAmB,QAAnB,CAAZ;AACA,UAAMxxC,IAAI,GAAG,IAAIyxC,QAAJ,CAAaF,KAAb,CAAb,CAP4B,CAS5B;;AAKA,UAAM/e,MAAc,GAAG,EAAvB;AACAxyB,UAAI,CAACzI,OAAL,CAAa,UAACxC,KAAD,EAAQvC,GAAR,EAAgB;AACzBggC,cAAM,CAAChgC,GAAD,CAAN,GAAcuC,KAAd;AACH,OAFD,EAf4B,CAmB5B;;AACA,UAAM28C,WAA+B,GAAG;AACpCx/B,WAAG,EAAEA,GAAG,KAAK,IAAR,GAAeA,GAAf,GAAqB5gB,SADU;AAEpCytC,cAAM,EAAEA,MAF4B;AAGpCvM,cAAM,EAANA;AAHoC,OAAxC;;AAKA,YAAK/rB,QAAL,CACI;AACI4qC,kBAAU,EAAE;AADhB,OADJ,EAII,YAAM;AACF10C,eAAO,CAACE,GAAR,CAAY,CACRyrC,4CAAK,CAACoJ,WAAD,CADG,EAER,IAAI/0C,OAAJ,CAAY,UAACC,OAAD,EAAmB;AAC3BiF,oBAAU,CAACjF,OAAD,EAAU,IAAV,CAAV;AACH,SAFD,CAFQ,CAAZ,EAKG4J,IALH,CAKQ,gBAAW;AAAA;AAAA,cAAT9J,GAAS;;AACf;AACA;AACA,cACI,CAACA,GAAD,IACA,QAAOA,GAAP,MAAe,QADf,IAEA,QAAOA,GAAG,CAACsD,IAAX,MAAoB,QAHxB,EAIE;AACE,mBAAO,MAAKyG,QAAL,CAAc;AACjB4qC,wBAAU,EAAE,KADK;AAEjBv5C,oBAAM,EAAE;AAFS,aAAd,CAAP;AAIH;;AAED,gBAAK2O,QAAL,CAAc;AACV4qC,sBAAU,EAAE,KADF;AAEVv5C,kBAAM,EAAE;AAFE,WAAd;AAIH,SAvBD;AAwBH,OA7BL,EAzB4B,CAyD5B;;;AAEA,aAAO,KAAP;AACH,K;;;;;;;6BACqB;AAClB,UAAM65C,SAAS,GAAGnxC,OAAO,CAAC,OAAO,KAAK3M,KAAL,CAAWiE,MAAlB,KAA6B,WAA9B,CAAzB;AACA,UAAM85C,uBAAuB,GAAGpxC,OAAO,CACnC,KAAK3M,KAAL,CAAWw9C,UAAX,IAAyBM,SADU,CAAvC;AAGA,aACI;AACI,iBAAS,EAAE/H,iDAAU,CAAC,CAClB,KAAK12C,KAAL,CAAW2T,SADO,EAElB;AACI,2BAAiB,KAAKhT,KAAL,CAAWw9C,UADhC;AAEI,yBAAe,KAAKx9C,KAAL,CAAWiE,MAAX,KAAsB,IAFzC;AAGI,sBACI,KAAKjE,KAAL,CAAWiE,MAAX,KAAsB,KAAtB,IACA,OAAO,KAAKjE,KAAL,CAAWiE,MAAlB,KAA6B;AALrC,SAFkB,CAAD;AADzB,SAYI,2DAAC,0DAAD;AAAQ,iBAAS,EAAC;AAAlB,SACI;AAAI,iBAAS,EAAC;AAAd,uBADJ,EAEI,2DAAC,6CAAD;AAAM,gBAAQ,EAAE,KAAKm5C;AAArB,QAFJ,EAGKW,uBAAuB,IACpB,2DAAC,gDAAD;AAAS,cAAM,EAAE,KAAK/9C,KAAL,CAAWiE;AAA5B,QAJR,CAZJ,EAmBK65C,SAAS,IAAI;AAAK,iBAAS,EAAC;AAAf,QAnBlB,CADJ;AAuBH;;;;EA9FoBzqC,4CAAK,CAACC,S;AAgGhB89B,yEAAf,E;;;;;;;;;;;;AC7IA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;;AAMA,IAAM4M,OAAO,GAAG,SAAVA,OAAU;AAAA,MAAG/5C,MAAH,QAAGA,MAAH;AAAA,SACZ;AAAK,aAAS,YAAKo5C,0DAAL;AAAd,KACI,2DAAC,mEAAD;AAAe,aAAS,EAAC;AAAzB,IADJ,EAEK,OAAOp5C,MAAP,KAAkB,WAAlB,IACG;AAAK,aAAS,EAAC;AAAf,KACI,2DAAC,wDAAD;AAAM,aAAS,EAAC,MAAhB;AAAuB,QAAI,EAAC;AAA5B,IADJ,EAEI;AAAI,aAAS,EAAC;AAAd,KACKqvC,EAAE,CAAC,mCAAD,CADP,CAFJ,EAKI;AAAM,aAAS,EAAC;AAAhB,KACKA,EAAE,CAAC,iCAAD,CADP,CALJ,CAHR,CADY;AAAA,CAAhB;;AAiBe0K,sEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;AC7BA,kC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,+C;;;;;;;;;;;ACAA,gC;;;;;;;;;;;ACAA,qC;;;;;;;;;;;ACAA,qC;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,sC;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,gC;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,sC;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,gC;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,sC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,qC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,+C;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,oC","file":"ssr.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded chunks\n \t// \"0\" means \"already loaded\"\n \tvar installedChunks = {\n \t\t\"ssr\": 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// The chunk loading function for additional chunks\n \t// Since all referenced chunks are already included\n \t// in this file, this function is empty here.\n \t__webpack_require__.e = function requireEnsure() {\n \t\treturn Promise.resolve();\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/includes/\";\n\n \t// uncaught error handler for webpack runtime\n \t__webpack_require__.oe = function(err) {\n \t\tprocess.nextTick(function() {\n \t\t\tthrow err; // catch this error by using import().catch()\n \t\t});\n \t};\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// 核心代码中引用的配置文件\n\nexport const name = \"Koot Clinic\";\nexport const type = \"react\";\nexport const template = \"./src/index.ejs\";\nexport const router = require('../../../src/routes').default;\nexport const redux = {\"store\":require('../../../src/store').default,\"syncCookie\":true};\nexport const client = {};\nexport const server = __SERVER__ ? {\"renderCache\":false,\"proxyRequestOrigin\":{\"protocol\":\"http\"},\"inject\":require('../../../src/index.inject.js').default,\"before\":require('../../../src/server/before').default} : {};","'use strict';\n\nexports.__esModule = true;\n/**\n * Indicates that navigation was caused by a call to history.push.\n */\nvar PUSH = exports.PUSH = 'PUSH';\n\n/**\n * Indicates that navigation was caused by a call to history.replace.\n */\nvar REPLACE = exports.REPLACE = 'REPLACE';\n\n/**\n * Indicates that navigation was caused by some other action such\n * as using a browser's back/forward buttons and/or manually manipulating\n * the URL in a browser's location bar. This is the default.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onpopstate\n * for more information.\n */\nvar POP = exports.POP = 'POP';","\"use strict\";\n\nexports.__esModule = true;\nvar loopAsync = exports.loopAsync = function loopAsync(turns, work, callback) {\n  var currentTurn = 0,\n      isDone = false;\n  var isSync = false,\n      hasNext = false,\n      doneArgs = void 0;\n\n  var done = function done() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    isDone = true;\n\n    if (isSync) {\n      // Iterate instead of recursing if possible.\n      doneArgs = args;\n      return;\n    }\n\n    callback.apply(undefined, args);\n  };\n\n  var next = function next() {\n    if (isDone) return;\n\n    hasNext = true;\n\n    if (isSync) return; // Iterate instead of recursing if possible.\n\n    isSync = true;\n\n    while (!isDone && currentTurn < turns && hasNext) {\n      hasNext = false;\n      work(currentTurn++, next, done);\n    }\n\n    isSync = false;\n\n    if (isDone) {\n      // This means the loop finished synchronously.\n      callback.apply(undefined, doneArgs);\n      return;\n    }\n\n    if (currentTurn >= turns && hasNext) {\n      isDone = true;\n      callback();\n    }\n  };\n\n  next();\n};","'use strict';\n\nexports.__esModule = true;\nexports.locationsAreEqual = exports.statesAreEqual = exports.createLocation = exports.createQuery = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _PathUtils = require('./PathUtils');\n\nvar _Actions = require('./Actions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createQuery = exports.createQuery = function createQuery(props) {\n  return _extends(Object.create(null), props);\n};\n\nvar createLocation = exports.createLocation = function createLocation() {\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _Actions.POP;\n  var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  var object = typeof input === 'string' ? (0, _PathUtils.parsePath)(input) : input;\n\n  process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(!object.path, 'Location descriptor objects should have a `pathname`, not a `path`.') : void 0;\n\n  var pathname = object.pathname || '/';\n  var search = object.search || '';\n  var hash = object.hash || '';\n  var state = object.state;\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash,\n    state: state,\n    action: action,\n    key: key\n  };\n};\n\nvar isDate = function isDate(object) {\n  return Object.prototype.toString.call(object) === '[object Date]';\n};\n\nvar statesAreEqual = exports.statesAreEqual = function statesAreEqual(a, b) {\n  if (a === b) return true;\n\n  var typeofA = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var typeofB = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n\n  if (typeofA !== typeofB) return false;\n\n  !(typeofA !== 'function') ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'You must not store functions in location state') : (0, _invariant2.default)(false) : void 0;\n\n  // Not the same object, but same type.\n  if (typeofA === 'object') {\n    !!(isDate(a) && isDate(b)) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'You must not store Date objects in location state') : (0, _invariant2.default)(false) : void 0;\n\n    if (!Array.isArray(a)) {\n      var keysofA = Object.keys(a);\n      var keysofB = Object.keys(b);\n      return keysofA.length === keysofB.length && keysofA.every(function (key) {\n        return statesAreEqual(a[key], b[key]);\n      });\n    }\n\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return statesAreEqual(item, b[index]);\n    });\n  }\n\n  // All other serializable types (string, number, boolean)\n  // should be strict equal.\n  return false;\n};\n\nvar locationsAreEqual = exports.locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.key === b.key &&\n  // a.action === b.action && // Different action !== location change.\n  a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && statesAreEqual(a.state, b.state);\n};","'use strict';\n\nexports.__esModule = true;\nexports.createPath = exports.parsePath = exports.getQueryStringValueFromPath = exports.stripQueryStringValueFromPath = exports.addQueryStringValueToPath = undefined;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar addQueryStringValueToPath = exports.addQueryStringValueToPath = function addQueryStringValueToPath(path, key, value) {\n  var _parsePath = parsePath(path),\n      pathname = _parsePath.pathname,\n      search = _parsePath.search,\n      hash = _parsePath.hash;\n\n  return createPath({\n    pathname: pathname,\n    search: search + (search.indexOf('?') === -1 ? '?' : '&') + key + '=' + value,\n    hash: hash\n  });\n};\n\nvar stripQueryStringValueFromPath = exports.stripQueryStringValueFromPath = function stripQueryStringValueFromPath(path, key) {\n  var _parsePath2 = parsePath(path),\n      pathname = _parsePath2.pathname,\n      search = _parsePath2.search,\n      hash = _parsePath2.hash;\n\n  return createPath({\n    pathname: pathname,\n    search: search.replace(new RegExp('([?&])' + key + '=[a-zA-Z0-9]+(&?)'), function (match, prefix, suffix) {\n      return prefix === '?' ? prefix : suffix;\n    }),\n    hash: hash\n  });\n};\n\nvar getQueryStringValueFromPath = exports.getQueryStringValueFromPath = function getQueryStringValueFromPath(path, key) {\n  var _parsePath3 = parsePath(path),\n      search = _parsePath3.search;\n\n  var match = search.match(new RegExp('[?&]' + key + '=([a-zA-Z0-9]+)'));\n  return match && match[1];\n};\n\nvar extractPath = function extractPath(string) {\n  var match = string.match(/^(https?:)?\\/\\/[^\\/]*/);\n  return match == null ? string : string.substring(match[0].length);\n};\n\nvar parsePath = exports.parsePath = function parsePath(path) {\n  var pathname = extractPath(path);\n  var search = '';\n  var hash = '';\n\n  process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(path === pathname, 'A path must be pathname + search + hash only, not a full URL like \"%s\"', path) : void 0;\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substring(hashIndex);\n    pathname = pathname.substring(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substring(searchIndex);\n    pathname = pathname.substring(0, searchIndex);\n  }\n\n  if (pathname === '') pathname = '/';\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash\n  };\n};\n\nvar createPath = exports.createPath = function createPath(location) {\n  if (location == null || typeof location === 'string') return location;\n\n  var basename = location.basename,\n      pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n\n  var path = (basename || '') + pathname;\n\n  if (search && search !== '?') path += search;\n\n  if (hash) path += hash;\n\n  return path;\n};","'use strict';\n\nexports.__esModule = true;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _Actions = require('./Actions');\n\nvar _LocationUtils = require('./LocationUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createHistory = function createHistory() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var getCurrentLocation = options.getCurrentLocation,\n      getUserConfirmation = options.getUserConfirmation,\n      pushLocation = options.pushLocation,\n      replaceLocation = options.replaceLocation,\n      go = options.go,\n      keyLength = options.keyLength;\n\n\n  var currentLocation = void 0;\n  var pendingLocation = void 0;\n  var beforeListeners = [];\n  var listeners = [];\n  var allKeys = [];\n\n  var getCurrentIndex = function getCurrentIndex() {\n    if (pendingLocation && pendingLocation.action === _Actions.POP) return allKeys.indexOf(pendingLocation.key);\n\n    if (currentLocation) return allKeys.indexOf(currentLocation.key);\n\n    return -1;\n  };\n\n  var updateLocation = function updateLocation(nextLocation) {\n    var currentIndex = getCurrentIndex();\n\n    currentLocation = nextLocation;\n\n    if (currentLocation.action === _Actions.PUSH) {\n      allKeys = [].concat(allKeys.slice(0, currentIndex + 1), [currentLocation.key]);\n    } else if (currentLocation.action === _Actions.REPLACE) {\n      allKeys[currentIndex] = currentLocation.key;\n    }\n\n    listeners.forEach(function (listener) {\n      return listener(currentLocation);\n    });\n  };\n\n  var listenBefore = function listenBefore(listener) {\n    beforeListeners.push(listener);\n\n    return function () {\n      return beforeListeners = beforeListeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var listen = function listen(listener) {\n    listeners.push(listener);\n\n    return function () {\n      return listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, callback) {\n    (0, _AsyncUtils.loopAsync)(beforeListeners.length, function (index, next, done) {\n      (0, _runTransitionHook2.default)(beforeListeners[index], location, function (result) {\n        return result != null ? done(result) : next();\n      });\n    }, function (message) {\n      if (getUserConfirmation && typeof message === 'string') {\n        getUserConfirmation(message, function (ok) {\n          return callback(ok !== false);\n        });\n      } else {\n        callback(message !== false);\n      }\n    });\n  };\n\n  var transitionTo = function transitionTo(nextLocation) {\n    if (currentLocation && (0, _LocationUtils.locationsAreEqual)(currentLocation, nextLocation) || pendingLocation && (0, _LocationUtils.locationsAreEqual)(pendingLocation, nextLocation)) return; // Nothing to do\n\n    pendingLocation = nextLocation;\n\n    confirmTransitionTo(nextLocation, function (ok) {\n      if (pendingLocation !== nextLocation) return; // Transition was interrupted during confirmation\n\n      pendingLocation = null;\n\n      if (ok) {\n        // Treat PUSH to same path like REPLACE to be consistent with browsers\n        if (nextLocation.action === _Actions.PUSH) {\n          var prevPath = (0, _PathUtils.createPath)(currentLocation);\n          var nextPath = (0, _PathUtils.createPath)(nextLocation);\n\n          if (nextPath === prevPath && (0, _LocationUtils.statesAreEqual)(currentLocation.state, nextLocation.state)) nextLocation.action = _Actions.REPLACE;\n        }\n\n        if (nextLocation.action === _Actions.POP) {\n          updateLocation(nextLocation);\n        } else if (nextLocation.action === _Actions.PUSH) {\n          if (pushLocation(nextLocation) !== false) updateLocation(nextLocation);\n        } else if (nextLocation.action === _Actions.REPLACE) {\n          if (replaceLocation(nextLocation) !== false) updateLocation(nextLocation);\n        }\n      } else if (currentLocation && nextLocation.action === _Actions.POP) {\n        var prevIndex = allKeys.indexOf(currentLocation.key);\n        var nextIndex = allKeys.indexOf(nextLocation.key);\n\n        if (prevIndex !== -1 && nextIndex !== -1) go(prevIndex - nextIndex); // Restore the URL\n      }\n    });\n  };\n\n  var push = function push(input) {\n    return transitionTo(createLocation(input, _Actions.PUSH));\n  };\n\n  var replace = function replace(input) {\n    return transitionTo(createLocation(input, _Actions.REPLACE));\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength || 6);\n  };\n\n  var createHref = function createHref(location) {\n    return (0, _PathUtils.createPath)(location);\n  };\n\n  var createLocation = function createLocation(location, action) {\n    var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : createKey();\n    return (0, _LocationUtils.createLocation)(location, action, key);\n  };\n\n  return {\n    getCurrentLocation: getCurrentLocation,\n    listenBefore: listenBefore,\n    listen: listen,\n    transitionTo: transitionTo,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    createKey: createKey,\n    createPath: _PathUtils.createPath,\n    createHref: createHref,\n    createLocation: createLocation\n  };\n};\n\nexports.default = createHistory;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nvar _Actions = require('./Actions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createStateStorage = function createStateStorage(entries) {\n  return entries.filter(function (entry) {\n    return entry.state;\n  }).reduce(function (memo, entry) {\n    memo[entry.key] = entry.state;\n    return memo;\n  }, {});\n};\n\nvar createMemoryHistory = function createMemoryHistory() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (Array.isArray(options)) {\n    options = { entries: options };\n  } else if (typeof options === 'string') {\n    options = { entries: [options] };\n  }\n\n  var getCurrentLocation = function getCurrentLocation() {\n    var entry = entries[current];\n    var path = (0, _PathUtils.createPath)(entry);\n\n    var key = void 0,\n        state = void 0;\n    if (entry.key) {\n      key = entry.key;\n      state = readState(key);\n    }\n\n    var init = (0, _PathUtils.parsePath)(path);\n\n    return (0, _LocationUtils.createLocation)(_extends({}, init, { state: state }), undefined, key);\n  };\n\n  var canGo = function canGo(n) {\n    var index = current + n;\n    return index >= 0 && index < entries.length;\n  };\n\n  var go = function go(n) {\n    if (!n) return;\n\n    if (!canGo(n)) {\n      process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, 'Cannot go(%s) there is not enough history', n) : void 0;\n\n      return;\n    }\n\n    current += n;\n    var currentLocation = getCurrentLocation();\n\n    // Change action to POP\n    history.transitionTo(_extends({}, currentLocation, { action: _Actions.POP }));\n  };\n\n  var pushLocation = function pushLocation(location) {\n    current += 1;\n\n    if (current < entries.length) entries.splice(current);\n\n    entries.push(location);\n\n    saveState(location.key, location.state);\n  };\n\n  var replaceLocation = function replaceLocation(location) {\n    entries[current] = location;\n    saveState(location.key, location.state);\n  };\n\n  var history = (0, _createHistory2.default)(_extends({}, options, {\n    getCurrentLocation: getCurrentLocation,\n    pushLocation: pushLocation,\n    replaceLocation: replaceLocation,\n    go: go\n  }));\n\n  var _options = options,\n      entries = _options.entries,\n      current = _options.current;\n\n\n  if (typeof entries === 'string') {\n    entries = [entries];\n  } else if (!Array.isArray(entries)) {\n    entries = ['/'];\n  }\n\n  entries = entries.map(function (entry) {\n    return (0, _LocationUtils.createLocation)(entry);\n  });\n\n  if (current == null) {\n    current = entries.length - 1;\n  } else {\n    !(current >= 0 && current < entries.length) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Current index must be >= 0 and < %s, was %s', entries.length, current) : (0, _invariant2.default)(false) : void 0;\n  }\n\n  var storage = createStateStorage(entries);\n\n  var saveState = function saveState(key, state) {\n    return storage[key] = state;\n  };\n\n  var readState = function readState(key) {\n    return storage[key];\n  };\n\n  return _extends({}, history, {\n    canGo: canGo\n  });\n};\n\nexports.default = createMemoryHistory;","'use strict';\n\nexports.__esModule = true;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar runTransitionHook = function runTransitionHook(hook, location, callback) {\n  var result = hook(location, callback);\n\n  if (hook.length < 2) {\n    // Assume the hook runs synchronously and automatically\n    // call the callback with the return value.\n    callback(result);\n  } else {\n    process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(result === undefined, 'You should not \"return\" in a transition hook with a callback argument; ' + 'call the callback instead') : void 0;\n  }\n};\n\nexports.default = runTransitionHook;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar useBasename = function useBasename(createHistory) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var history = createHistory(options);\n    var basename = options.basename;\n\n\n    var addBasename = function addBasename(location) {\n      if (!location) return location;\n\n      if (basename && location.basename == null) {\n        if (location.pathname.toLowerCase().indexOf(basename.toLowerCase()) === 0) {\n          location.pathname = location.pathname.substring(basename.length);\n          location.basename = basename;\n\n          if (location.pathname === '') location.pathname = '/';\n        } else {\n          location.basename = '';\n        }\n      }\n\n      return location;\n    };\n\n    var prependBasename = function prependBasename(location) {\n      if (!basename) return location;\n\n      var object = typeof location === 'string' ? (0, _PathUtils.parsePath)(location) : location;\n      var pname = object.pathname;\n      var normalizedBasename = basename.slice(-1) === '/' ? basename : basename + '/';\n      var normalizedPathname = pname.charAt(0) === '/' ? pname.slice(1) : pname;\n      var pathname = normalizedBasename + normalizedPathname;\n\n      return _extends({}, object, {\n        pathname: pathname\n      });\n    };\n\n    // Override all read methods with basename-aware versions.\n    var getCurrentLocation = function getCurrentLocation() {\n      return addBasename(history.getCurrentLocation());\n    };\n\n    var listenBefore = function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        return (0, _runTransitionHook2.default)(hook, addBasename(location), callback);\n      });\n    };\n\n    var listen = function listen(listener) {\n      return history.listen(function (location) {\n        return listener(addBasename(location));\n      });\n    };\n\n    // Override all write methods with basename-aware versions.\n    var push = function push(location) {\n      return history.push(prependBasename(location));\n    };\n\n    var replace = function replace(location) {\n      return history.replace(prependBasename(location));\n    };\n\n    var createPath = function createPath(location) {\n      return history.createPath(prependBasename(location));\n    };\n\n    var createHref = function createHref(location) {\n      return history.createHref(prependBasename(location));\n    };\n\n    var createLocation = function createLocation(location) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return addBasename(history.createLocation.apply(history, [prependBasename(location)].concat(args)));\n    };\n\n    return _extends({}, history, {\n      getCurrentLocation: getCurrentLocation,\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation\n    });\n  };\n};\n\nexports.default = useBasename;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _queryString = require('query-string');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultStringifyQuery = function defaultStringifyQuery(query) {\n  return (0, _queryString.stringify)(query).replace(/%20/g, '+');\n};\n\nvar defaultParseQueryString = _queryString.parse;\n\n/**\n * Returns a new createHistory function that may be used to create\n * history objects that know how to handle URL queries.\n */\nvar useQueries = function useQueries(createHistory) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var history = createHistory(options);\n    var stringifyQuery = options.stringifyQuery,\n        parseQueryString = options.parseQueryString;\n\n\n    if (typeof stringifyQuery !== 'function') stringifyQuery = defaultStringifyQuery;\n\n    if (typeof parseQueryString !== 'function') parseQueryString = defaultParseQueryString;\n\n    var decodeQuery = function decodeQuery(location) {\n      if (!location) return location;\n\n      if (location.query == null) location.query = parseQueryString(location.search.substring(1));\n\n      return location;\n    };\n\n    var encodeQuery = function encodeQuery(location, query) {\n      if (query == null) return location;\n\n      var object = typeof location === 'string' ? (0, _PathUtils.parsePath)(location) : location;\n      var queryString = stringifyQuery(query);\n      var search = queryString ? '?' + queryString : '';\n\n      return _extends({}, object, {\n        search: search\n      });\n    };\n\n    // Override all read methods with query-aware versions.\n    var getCurrentLocation = function getCurrentLocation() {\n      return decodeQuery(history.getCurrentLocation());\n    };\n\n    var listenBefore = function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        return (0, _runTransitionHook2.default)(hook, decodeQuery(location), callback);\n      });\n    };\n\n    var listen = function listen(listener) {\n      return history.listen(function (location) {\n        return listener(decodeQuery(location));\n      });\n    };\n\n    // Override all write methods with query-aware versions.\n    var push = function push(location) {\n      return history.push(encodeQuery(location, location.query));\n    };\n\n    var replace = function replace(location) {\n      return history.replace(encodeQuery(location, location.query));\n    };\n\n    var createPath = function createPath(location) {\n      return history.createPath(encodeQuery(location, location.query));\n    };\n\n    var createHref = function createHref(location) {\n      return history.createHref(encodeQuery(location, location.query));\n    };\n\n    var createLocation = function createLocation(location) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var newLocation = history.createLocation.apply(history, [encodeQuery(location, location.query)].concat(args));\n\n      if (location.query) newLocation.query = (0, _LocationUtils.createQuery)(location.query);\n\n      return decodeQuery(newLocation);\n    };\n\n    return _extends({}, history, {\n      getCurrentLocation: getCurrentLocation,\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation\n    });\n  };\n};\n\nexports.default = useQueries;","export {\n    createReduxModuleStore,\n    kootCreateReduxModuleStore,\n    applyMiddleware,\n    compose,\n    bindActionCreators\n} from './lib';\n","import { isObject, isString } from './utils.js';\n\nconst commitHandler = next => (action, payload) => {\n    if (isString(action)) {\n        return next({\n            type: action,\n            payload\n        });\n    }\n\n    if (isObject(action) && action.type) {\n        return next(action);\n    }\n\n    throw new Error(\n        \"commit first argument should be string or object: {type: 'string', ...}\"\n    );\n};\n\n/**\n * actionMiddleware 创建函数\n *\n * @param  {Object} moduleInstance [description]\n * @return {[type]}                [description]\n */\nconst createActionMiddleware = function(moduleInstance) {\n    /**\n     * 中间件主体函数\n     *\n     * @param  {[type]} store [description]\n     * @return {[type]}       [description]\n     */\n    const actionMiddleware = api => next => (action, payload) => {\n        if (isString(action)) {\n            const { getState, dispatch } = api;\n            const actions = moduleInstance.getActionsByAction(action);\n            const promiseArray = actions.map(({ actionFn, moduleState }) => {\n                const commitAPI = {\n                    state: moduleState,\n                    rootState: getState(),\n                    commit: commitHandler(next),\n                    dispatch\n                };\n                const res = actionFn(commitAPI, payload);\n                return Promise.resolve(res);\n            });\n            if (promiseArray.length === 1) {\n                return promiseArray[0];\n            }\n            return Promise.all(promiseArray);\n        }\n        // 直接触发reducer\n        if (isObject(action) && action.type) {\n            return next(action);\n        }\n\n        throw new Error(\n            \"dispatch first argument should be string or object: {type: 'string', ...}\"\n        );\n    };\n\n    return actionMiddleware;\n};\n\nexport default createActionMiddleware;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport ReduxModule from './redux-module.js';\nimport { isObject } from './utils.js';\nimport createActionMiddleware from './action.middleware.js';\n\n/**\n * 创建一个 redux-module-store\n *\n * @param  {[type]} module         [description]\n * @param  {[type]} preloadedState [description]\n * @param  {[type]} enhancer       [description]\n * @return {[type]}                [description]\n */\nconst createReduxModuleStore = (module, preloadedState, enhancer) => {\n    // 处理传入参数\n    if (\n        typeof preloadedState === 'function' &&\n        typeof enhancer === 'undefined'\n    ) {\n        enhancer = preloadedState;\n        preloadedState = undefined;\n    }\n\n    // 判断 module 是否为 Object\n    if (!isObject(module)) {\n        throw new Error('Expected the module to be a Object.');\n    }\n\n    // 初始化\n    // 将对应的数据模型 module 实例化为 reduxModule 对象\n    const moduleInstance = new ReduxModule(module, 'root', preloadedState);\n    // 拿到处理后的 rootReducer 函数\n    const rootReducer = moduleInstance.createReducer();\n\n    const actionMiddleware = createActionMiddleware(moduleInstance);\n    const reduxModuleEnhancer = applyMiddleware(actionMiddleware);\n\n    // 合并 enhancer 和 redux-module 集成 actionMiddleware\n    if (enhancer !== undefined) {\n        // compose 原有的 applyMiddleware 或者 enhancer\n        // 并保证 actionMiddleware 在第一位\n        enhancer = compose(\n            reduxModuleEnhancer,\n            enhancer\n        );\n    } else {\n        enhancer = reduxModuleEnhancer;\n    }\n\n    // 创建原生 redux store\n    // createStore(reducer, [preloadedState], enhancer)\n    const store = createStore(rootReducer, preloadedState, enhancer);\n\n    return store;\n};\n\nexport default createReduxModuleStore;\n","export { applyMiddleware, compose, bindActionCreators } from 'redux';\nexport { default as createReduxModuleStore } from './createReduxModuleStore';\nexport {\n    default as kootCreateReduxModuleStore\n} from './kootCreateReduxModuleStore';\n","import { compose, applyMiddleware } from 'redux';\nimport { reduxForCreateStore } from 'koot';\n\nimport createReduxModuleStore from './createReduxModuleStore';\nimport { isObject } from './utils.js';\n\n/**\n * 创建一个 redux-module-store, 并注入koot的依赖\n *\n * @param  {[type]} module         [description]\n * @param  {[type]} preloadedState [description]\n * @param  {[type]} enhancer       [description]\n * @return {[type]}                [description]\n */\nexport default function kootCreateReduxModuleStore(\n    module,\n    preloadedState,\n    enhancer\n) {\n    // 处理传入参数\n    if (\n        typeof preloadedState === 'function' &&\n        typeof enhancer === 'undefined'\n    ) {\n        enhancer = preloadedState;\n        preloadedState = undefined;\n    }\n\n    // 判断 module 是否为 Object\n    if (!isObject(module)) {\n        throw new Error('Expected the module to be a Object.');\n    }\n\n    module.state = {\n        ...module.state,\n        ...reduxForCreateStore.reducers\n    };\n\n    if (enhancer) {\n        enhancer = compose(\n            applyMiddleware(...reduxForCreateStore.middlewares),\n            enhancer\n        );\n    }\n\n    return createReduxModuleStore(module, preloadedState, enhancer);\n}\n","import { isFunction, isObject, getDataByPath, setDataByPath } from './utils.js';\n\n/**\n * 模块化管理 redux\n *\n */\nclass ReduxModule {\n    constructor(module, moduleName, preloadedState) {\n        const { state, reducers, actions, modules } = module;\n        //\n        this.__module__ = module;\n        //\n        this.__moduleName = moduleName;\n        //\n        this.__reducers = reducers || {};\n        //\n        this.__state = state || {};\n        //\n        this.__initState = state || {};\n        //\n        this.__actions = actions || {};\n        //\n        this.__modules = modules || {};\n        //\n        this.__children = {};\n        //\n        this.__external_reducers = this.getExternalModuleReducers(this.__state);\n\n        this.initState(preloadedState);\n    }\n\n    initState(preloadedState) {\n        const modules = this.__modules;\n        // 合并preloadedState到state\n        if (preloadedState) {\n            Object.keys(preloadedState).forEach(itemKey => {\n                if (!modules || !modules[itemKey]) {\n                    this.__state[itemKey] = preloadedState[itemKey];\n                }\n            });\n        }\n\n        // 实例化所有子模块并存储在 __children 下\n        // this.__children[key] = new ReduxModule(modules[key])\n        if (Object.keys(modules).length) {\n            Object.keys(modules).forEach(moduleName => {\n                const moduleItem = modules[moduleName];\n                let preloadedStateItem;\n                if (preloadedState && preloadedState[moduleName]) {\n                    preloadedStateItem = preloadedState[moduleName];\n                }\n                this.__children[moduleName] = new ReduxModule(\n                    moduleItem,\n                    moduleName,\n                    preloadedStateItem\n                );\n            });\n        }\n    }\n\n    /**\n     * 处理当前 state 树上定义的外部注入进来的 reducer\n     *\n     * @param  {[type]} obj  [description]\n     * @return {[Array]}     [外部注入进来的reducer的 “特殊对象” 集合]\n     */\n    getExternalModuleReducers(obj) {\n        let result = [];\n        Object.keys(obj).forEach(key => {\n            const item = obj[key];\n            const path = [];\n            if (isFunction(item)) {\n                path.push(key);\n                result.push({\n                    path,\n                    reducer: item\n                });\n            }\n            if (isObject(item)) {\n                const res = this.getExternalModuleReducers(item);\n                result = result.concat(res);\n            }\n        });\n        return result;\n    }\n\n    /**\n     * [currentExternalReducerHandler description]\n     *\n     * @param  {[type]} moduleState [description]\n     * @param  {[type]} action      [description]\n     * @return {[type]}             [description]\n     */\n    currentExternalReducerHandler(moduleState, action) {\n        const externalReducers = this.__external_reducers;\n        let finalState = moduleState || {};\n        externalReducers.forEach(item => {\n            const { path, reducer } = item;\n            const currentState = getDataByPath(finalState, path);\n            const resultState = reducer(\n                isFunction(currentState) ? undefined : currentState,\n                action\n            );\n            const resultModuleState = setDataByPath(\n                finalState,\n                path,\n                resultState\n            );\n            finalState = {\n                ...finalState,\n                ...resultModuleState\n            };\n        });\n        return finalState;\n    }\n\n    getActionsByAction(action) {\n        let result = [];\n        if (this.__actions && this.__actions[action]) {\n            result.push({\n                actionFn: this.__actions[action],\n                moduleState: this.__state,\n                moduleName: this.__moduleName\n            });\n        }\n        const childrenModuleNames = Object.keys(this.__children);\n        if (childrenModuleNames.length) {\n            childrenModuleNames.forEach(name => {\n                const res = this.__children[name].getActionsByAction(action);\n                result = result.concat(res);\n            });\n        }\n        return result;\n    }\n\n    /**\n     * 当前类 reducer 的创建函数\n     *\n     * 函数内为当前 module 的局部 state\n     * 形式如下：\n     *  ( moduleState, action ) => ( newModuleState )\n     *\n     * @return {[type]} [description]\n     */\n    createReducer() {\n        return (moduleState = this.__initState, action) => {\n            const { type, payload } = action;\n            const reducerHandler = this.__reducers[type];\n            let finalState;\n\n            if (reducerHandler) {\n                // 执行当前 module 的 reducer\n                const moduleStateResult = reducerHandler(moduleState, payload);\n                finalState = { ...moduleStateResult };\n                this.__state = finalState;\n            } else {\n                // 把 action 和对应的 state 传给 子元素的 reducer\n                const childrenModuleNames = Object.keys(this.__children);\n                if (childrenModuleNames.length) {\n                    let childrenFinalState;\n                    childrenModuleNames.forEach(childrenModuleName => {\n                        const childrenModuleItem = this.__children[\n                            childrenModuleName\n                        ];\n                        // 执行所有模块的 reducer\n                        const result = childrenModuleItem.createReducer()(\n                            moduleState[childrenModuleName],\n                            action\n                        );\n                        if (result !== moduleState[childrenModuleName]) {\n                            if (!childrenFinalState) {\n                                childrenFinalState = {};\n                            }\n                            childrenFinalState[childrenModuleName] = result;\n                        }\n                    });\n                    finalState = {\n                        ...moduleState,\n                        ...childrenFinalState\n                    };\n                }\n            }\n\n            // 执行当前 module 里引入的外部 reducer\n            // 不论执行结果如何都合并入 finalState\n            if (\n                this.__external_reducers &&\n                this.__external_reducers.length > 0\n            ) {\n                const externalStateResult = this.currentExternalReducerHandler(\n                    this.__state,\n                    action\n                );\n                finalState = {\n                    ...finalState,\n                    ...externalStateResult\n                };\n                this.__state = {\n                    ...this.__state,\n                    ...externalStateResult\n                };\n            }\n\n            return finalState || moduleState;\n        };\n    }\n}\n\nexport default ReduxModule;\n","export const typeOf = data => {\n    return Object.prototype.toString.call(data);\n};\n/**\n * 判断数据是否为对象类型\n *\n * @param  {[type]} _data [description]\n * @return {[type]}       [description]\n */\nexport const isObject = data => {\n    return typeOf(data) === '[object Object]';\n};\n\n/**\n * 判断数据是否为字符串类型\n *\n * @param  {[type]} _data [description]\n * @return {[type]}       [description]\n */\nexport const isString = data => {\n    return typeOf(data) === '[object String]';\n};\n\n/**\n * 判断数据是否为function\n *\n * @param  {[type]} data [description]\n * @return {[type]}      [description]\n */\nexport const isFunction = data => {\n    return typeOf(data) === '[object Function]';\n};\n\n/**\n * [getDataByPath description]\n * @param  {[type]} obj  [description]\n * @param  {[type]} path [description]\n * @return {[type]}      [description]\n */\nexport function getDataByPath(obj, path) {\n    let result = Object.assign({}, obj);\n    for (let index = 0; index < path.length; index++) {\n        const p = path[index];\n        result = result[p];\n        if (!result) {\n            return result;\n        }\n    }\n    return result;\n}\n\n/**\n * [setDataByPath description]\n * @param {[type]} obj   [description]\n * @param {[type]} path  [description]\n * @param {[type]} value [description]\n */\nexport function setDataByPath(obj, path, value) {\n    let result = Object.assign({}, obj);\n    let reference = result;\n    for (let index = 0; index < path.length; index++) {\n        const p = path[index];\n        if (index === path.length - 1) {\n            reference[p] = value;\n        } else {\n            reference = reference[p];\n        }\n        if (!reference) {\n            return undefined;\n        }\n    }\n    return result;\n}\n","import get from 'lodash/get';\r\nimport set from 'lodash/set';\r\n\r\nimport { store as Store } from '../';\r\nimport { sessionStoreKey } from '../defaults/defines';\r\nimport filterState from '../libs/filter-state';\r\n\r\nconst configSessionStore = JSON.parse(process.env.KOOT_SESSION_STORE);\r\n\r\n/** @type {Boolean} 当前是否可以/允许使用 sessionStore */\r\nconst able = (() => {\r\n    if (__SERVER__) return false;\r\n    if (!window.sessionStorage) return false;\r\n    if (!configSessionStore) return false;\r\n\r\n    if (configSessionStore === true) return true;\r\n    if (configSessionStore === 'all') return true;\r\n\r\n    return Boolean(\r\n        typeof configSessionStore === 'object' &&\r\n            !Array.isArray(configSessionStore)\r\n    );\r\n})();\r\n\r\n/**\r\n * 保存当前 state 到 sessionStorage\r\n * @void\r\n */\r\nexport const save = () => {\r\n    if (!able) return;\r\n\r\n    /** @type {Object} 排除掉黑名单内的项目后的 state 对象 */\r\n    const state = filterState(Store.getState());\r\n\r\n    let saveState = {};\r\n\r\n    if (configSessionStore === true || configSessionStore === 'all') {\r\n        saveState = state;\r\n    } else if (\r\n        typeof configSessionStore === 'object' &&\r\n        !Array.isArray(configSessionStore)\r\n    ) {\r\n        // 根据配置对象存储\r\n        const parse = (obj, accumulatedKey = '') => {\r\n            Object.keys(obj).forEach(key => {\r\n                const currentAccumulatedKey =\r\n                    accumulatedKey + `[${JSON.stringify(key)}]`;\r\n                if (typeof obj[key] === 'object') {\r\n                    parse(obj[key], currentAccumulatedKey);\r\n                } else if (obj[key] === true) {\r\n                    const value = get(state, currentAccumulatedKey);\r\n                    if (typeof value !== 'undefined')\r\n                        set(saveState, currentAccumulatedKey, value);\r\n                }\r\n            });\r\n        };\r\n        parse(configSessionStore);\r\n        // console.log(configSessionStore, state, saveState);\r\n    }\r\n\r\n    sessionStorage.setItem(sessionStoreKey, JSON.stringify(saveState));\r\n\r\n    return;\r\n};\r\n\r\n/**\r\n * 向 window.onunload 添加事件：保存 state\r\n * @void\r\n */\r\nexport const addEventHandlerOnPageUnload = () => {\r\n    if (!able) return;\r\n    window.addEventListener('unload', save);\r\n    return;\r\n};\r\n\r\n/**\r\n * 从 sessionStorage 中读取 state\r\n * @returns {Object} 存储的 state\r\n */\r\nexport const load = () => {\r\n    if (!able) return {};\r\n    return JSON.parse(sessionStorage.getItem(sessionStoreKey) || '{}');\r\n};\r\n","/**\r\n * @typedef Pageinfo\r\n * @type {Object}\r\n * @property {string} [title] 标题\r\n * @property {Array<Object.<string, string>>} [metas] meta 标签信息，需要形式为 `{[name]: value}` 对象的数组\r\n */\r\n\r\n// import isEqual from 'lodash/isEqual';\r\n\r\n/**\r\n * 当前已注入的 meta 标签\r\n * @type {Array<HTMLElement>}\r\n */\r\nlet injectedMetaTags;\r\n\r\n// meta 标签区域结尾的 HTML 注释代码\r\nlet nodeCommentEnd;\r\n\r\nlet inited = false;\r\n\r\n/** @type {Pageinfo} */\r\nconst infoToChange = {\r\n    title: '',\r\n    metas: []\r\n};\r\nlet changeTimeout = undefined;\r\n\r\n/**\r\n * _仅限客户端_\r\n *\r\n * 更新页面信息\r\n * @module\r\n * @param {string} title 新的标题\r\n * @param {Array<Object.<string, string>>} metas meta 标签信息，需要形式为 `{[name]: value}` 对象的数组\r\n */\r\nexport default (title, metas = []) => {\r\n    if (__SERVER__) return;\r\n    if (!__SPA__ && !inited) {\r\n        setTimeout(() => {\r\n            inited = true;\r\n        });\r\n        return;\r\n    }\r\n\r\n    // 判断 & 追加即将修改的内容\r\n    /*\r\n    // 如果新 meta 不存在于已有的 meta 列表，添加\r\n    metas.forEach(metaNew => {\r\n        if (!infoToChange.metas.length) infoToChange.metas.push(metaNew);\r\n        if (\r\n            !infoToChange.metas.every(metaExist => {\r\n                console.log(metaNew, metaExist, isEqual(metaNew, metaExist));\r\n                return isEqual(metaNew, metaExist);\r\n            })\r\n        ) {\r\n            console.log('PUSH');\r\n            infoToChange.metas.push(metaNew);\r\n        }\r\n    });\r\n    */\r\n    // 如果当前没有信息，设为当前信息\r\n    if (\r\n        !infoToChange.title &&\r\n        (!Array.isArray(infoToChange.metas) || !infoToChange.metas.length)\r\n    ) {\r\n        infoToChange.title = title;\r\n        infoToChange.metas = metas;\r\n    }\r\n\r\n    if (changeTimeout) return;\r\n\r\n    changeTimeout = setTimeout(() => {\r\n        doUpdate();\r\n        infoToChange.title = '';\r\n        infoToChange.metas = [];\r\n        changeTimeout = undefined;\r\n    });\r\n};\r\n\r\n//\r\n\r\nconst doUpdate = () => {\r\n    const { title, metas } = infoToChange;\r\n\r\n    // 替换页面标题\r\n    document.title = title;\r\n\r\n    // 替换 metas\r\n    const head = document.getElementsByTagName('head')[0];\r\n    getInjectedMetaTags().forEach(el => head.removeChild(el));\r\n\r\n    injectedMetaTags.forEach(el => {\r\n        if (el && el.parentNode) el.parentNode.removeChild(el);\r\n    });\r\n    injectedMetaTags = metas\r\n        .filter(meta => typeof meta === 'object')\r\n        .map(meta => {\r\n            const el = document.createElement('meta');\r\n            for (var key in meta) {\r\n                el.setAttribute(key, meta[key]);\r\n            }\r\n            // el.setAttribute(__KOOT_INJECT_ATTRIBUTE_NAME__, '')\r\n            if (nodeCommentEnd) {\r\n                head.insertBefore(el, nodeCommentEnd);\r\n            } else {\r\n                head.appendChild(el);\r\n            }\r\n            return el;\r\n        });\r\n};\r\n\r\n//\r\n\r\n/**\r\n * 获取当前已注入的 meta 标签\r\n * @returns {Array<HTMLElement>}\r\n */\r\nexport const getInjectedMetaTags = () => {\r\n    if (!Array.isArray(injectedMetaTags)) {\r\n        const head = document.getElementsByTagName('head')[0];\r\n\r\n        injectedMetaTags = [];\r\n        // 移除所有在 KOOT_METAS 里的 meta 标签\r\n        // 采用 DOM 操作的初衷：如果使用 innerHTML 的字符串替换方法，浏览器可能会全局重新渲染一次，造成“闪屏”\r\n        const childNodes = head.childNodes;\r\n        let meetStart = false;\r\n        let meetEnd = false;\r\n        let i = 0;\r\n        while (!meetEnd && childNodes[i] instanceof Node) {\r\n            const node = childNodes[i];\r\n            if (node.nodeType === Node.COMMENT_NODE) {\r\n                if (node.nodeValue === __KOOT_INJECT_METAS_START__)\r\n                    meetStart = true;\r\n                if (node.nodeValue === __KOOT_INJECT_METAS_END__) {\r\n                    meetEnd = true;\r\n                    nodeCommentEnd = node;\r\n                }\r\n            } else if (\r\n                meetStart &&\r\n                node.nodeType === Node.ELEMENT_NODE &&\r\n                node.tagName === 'META'\r\n            ) {\r\n                injectedMetaTags.push(node);\r\n            }\r\n            i++;\r\n        }\r\n    }\r\n\r\n    return injectedMetaTags;\r\n};\r\n\r\n/** _仅针对客户端_ 标记已初始化 */\r\nexport const markInited = () => {\r\n    inited = true;\r\n};\r\n","/* global __KOOT_SSR__:false */\r\n\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\n// import { hot } from 'react-hot-loader'\r\n// import PropTypes from 'prop-types'\r\nimport hoistStatics from 'hoist-non-react-statics';\r\n\r\nimport { getStore } from '../';\r\nimport { needConnectComponents } from '../defaults/defines-server';\r\n\r\n//\r\n\r\nimport {\r\n    fromServerProps as getRenderPropsFromServerProps,\r\n    fromComponentProps as getRenderPropsFromComponentProps\r\n} from './get-render-props';\r\nimport {\r\n    append as appendStyle,\r\n    remove as removeStyle\r\n    // StyleMapContext,\r\n} from './styles';\r\nimport clientUpdatePageInfo from './client-update-page-info';\r\nimport { RESET_CERTAIN_STATE } from './redux';\r\nimport isRenderSafe from './is-render-safe';\r\n\r\n//\r\n\r\n// 是否已挂载了组件\r\nlet everMounted = false;\r\n// const defaultPageInfo = {\r\n//     title: '',\r\n//     metas: []\r\n// }\r\nconst styleMap = {};\r\n\r\n/**\r\n * @type {Number}\r\n * _开发环境_\r\n * _服务器_\r\n * 使用该高阶组件的次数\r\n */\r\nlet devSSRConnectIndex = 0;\r\n\r\n/**\r\n * 获取数据\r\n * @callback callbackFetchData\r\n * @param {Object} state 当前 state\r\n * @param {Object} renderProps 封装的同构 props\r\n * @param {Function} dispatch Redux dispatch\r\n * @returns {Promise}\r\n */\r\n\r\n/**\r\n * 判断数据是否准备好\r\n * @callback callbackCheckLoaded\r\n * @param {Object} state 当前 state\r\n * @param {Object} renderProps 封装的同构 props\r\n * @returns {boolean}\r\n */\r\n\r\n/**\r\n * 获取页面信息\r\n * @callback callbackGetPageInfo\r\n * @param {Object} state 当前 state\r\n * @param {Object} renderProps 封装的同构 props\r\n * @returns {Object}\r\n */\r\n\r\n/**\r\n * 获取同构数据的执行方法\r\n * @param {Object} store\r\n * @param {Object} props renderProps\r\n * @returns {Promise}\r\n */\r\nconst doFetchData = (store, renderProps, dataFetch) => {\r\n    if (!isRenderSafe()) return new Promise(resolve => resolve(result));\r\n\r\n    const result = dataFetch(store.getState(), renderProps, store.dispatch);\r\n    // if (result === true) {\r\n    //     isDataPreloaded = true\r\n    //     return new Promise(resolve => resolve())\r\n    // }\r\n    if (Array.isArray(result)) return Promise.all(result);\r\n    if (result instanceof Promise) return result;\r\n    return new Promise(resolve => resolve(result));\r\n};\r\n\r\n/**\r\n * 更新页面信息\r\n * @param {Object} store\r\n * @param {Object} props renderProps\r\n * @returns {Object} infos\r\n * @returns {String} infos.title\r\n * @returns {Array} infos.metas\r\n */\r\nconst doPageinfo = (store, props, pageinfo) => {\r\n    if (!isRenderSafe()) return {};\r\n\r\n    const defaultPageInfo = {\r\n        title: '',\r\n        metas: []\r\n    };\r\n\r\n    if (typeof pageinfo !== 'function' && typeof pageinfo !== 'object')\r\n        return defaultPageInfo;\r\n\r\n    const state = store.getState();\r\n    const infos = (() => {\r\n        if (typeof pageinfo === 'object') return pageinfo;\r\n        const infos = pageinfo(state, props);\r\n        if (typeof infos !== 'object') return defaultPageInfo;\r\n        return infos;\r\n    })();\r\n\r\n    const {\r\n        title = defaultPageInfo.title,\r\n        metas = defaultPageInfo.metas\r\n    } = infos;\r\n\r\n    if (state.localeId) {\r\n        if (\r\n            !metas.some(meta => {\r\n                if (meta.name === 'koot-locale-id') {\r\n                    meta.content = state.localeId;\r\n                    return true;\r\n                }\r\n                return false;\r\n            })\r\n        ) {\r\n            metas.push({\r\n                name: 'koot-locale-id',\r\n                content: state.localeId\r\n            });\r\n        }\r\n    }\r\n\r\n    return {\r\n        title,\r\n        metas\r\n    };\r\n};\r\n\r\n// console.log((typeof store === 'undefined' ? `\\x1b[31m×\\x1b[0m` : `\\x1b[32m√\\x1b[0m`) + ' store in [HOC] extend')\r\n/**\r\n * 高阶组件/组件装饰器：组件扩展\r\n * @param {Object} options 选项\r\n * @param {boolean|Function} [options.connect] react-redux 的 connect() 的参数。如果为 true，表示使用 connect()，但不连接任何数据\r\n * @param {Object|callbackGetPageInfo} [options.pageinfo]\r\n * @param {Object} [options.data] 同构数据相关\r\n * @param {callbackFetchData} [options.data.fetch]\r\n * @param {callbackCheckLoaded} [options.data.check]\r\n * @param {Object} [options.styles] 组件 CSS 结果\r\n * @returns {Function} 封装好的 React 组件\r\n */\r\nexport default (options = {}) => WrappedComponent => {\r\n    // console.log((typeof store === 'undefined' ? `\\x1b[31m×\\x1b[0m` : `\\x1b[32m√\\x1b[0m`) + ' store in [HOC] extend run')\r\n\r\n    const {\r\n        connect: _connect = false,\r\n        pageinfo,\r\n        data: {\r\n            fetch: _dataFetch,\r\n            check: dataCheck,\r\n            resetWhenUnmount: dataResetWhenUnmount\r\n        } = {},\r\n        styles: _styles,\r\n        ssr = true\r\n        // ttt\r\n        // hot: _hot = true,\r\n        // name\r\n    } = options;\r\n\r\n    // console.log('extend hoc run', { name, LocaleId })\r\n\r\n    // 样式相关\r\n\r\n    /** @type {Object} 经过 koot-css-loader 处理后的 css 文件的结果对象 */\r\n    const styles = (!Array.isArray(_styles) ? [_styles] : _styles).filter(\r\n        obj => typeof obj === 'object' && typeof obj.wrapper === 'string'\r\n    );\r\n\r\n    /** @type {boolean} 是否有上述结果对象 */\r\n    const hasStyles = Array.isArray(styles) && styles.length > 0;\r\n    // console.log({ ttt, hasStyles, styles })\r\n\r\n    /** @type {boolean} 是否有 pageinfo 对象 */\r\n    const hasPageinfo =\r\n        typeof pageinfo === 'function' || typeof pageinfo === 'object';\r\n\r\n    // 同构数据相关\r\n\r\n    /** @type {boolean} 同构数据是否已经获取成功 */\r\n    // let isDataPreloaded = false\r\n\r\n    /** @type {Function} 获取同构数据 */\r\n    const dataFetch =\r\n        typeof options.data === 'function' || Array.isArray(options.data)\r\n            ? options.data\r\n            : typeof _dataFetch === 'function' || Array.isArray(_dataFetch)\r\n            ? _dataFetch\r\n            : undefined;\r\n\r\n    // 装饰组件\r\n\r\n    class KootReactComponent extends React.Component {\r\n        static onServerRenderHtmlExtend = ({ store, renderProps = {} }) => {\r\n            const { title, metas } = doPageinfo(\r\n                store,\r\n                getRenderPropsFromServerProps(renderProps),\r\n                pageinfo\r\n            );\r\n            return { title, metas };\r\n        };\r\n\r\n        //\r\n\r\n        // static contextType = StyleMapContext\r\n\r\n        //\r\n\r\n        clientUpdatePageInfo(to) {\r\n            if (!__CLIENT__) return;\r\n            if (!hasPageinfo) return;\r\n\r\n            const { title, metas } =\r\n                typeof to === 'function'\r\n                    ? doPageinfo(\r\n                          getStore(),\r\n                          getRenderPropsFromComponentProps(this.props),\r\n                          to\r\n                      )\r\n                    : to ||\r\n                      doPageinfo(\r\n                          getStore(),\r\n                          getRenderPropsFromComponentProps(this.props),\r\n                          pageinfo\r\n                      );\r\n\r\n            clientUpdatePageInfo(title, metas);\r\n        }\r\n\r\n        //\r\n\r\n        state = {\r\n            loaded:\r\n                typeof dataCheck === 'function'\r\n                    ? dataCheck(\r\n                          getStore().getState(),\r\n                          getRenderPropsFromComponentProps(this.props)\r\n                      )\r\n                    : undefined\r\n        };\r\n        mounted = false;\r\n        kootClassNames = [];\r\n\r\n        //\r\n\r\n        constructor(props /*, context*/) {\r\n            super(props /*, context*/);\r\n\r\n            /**\r\n             * _服务器端_\r\n             * 将组件注册到同构渲染对象中\r\n             */\r\n            if (__SERVER__) {\r\n                const SSR = __DEV__ ? global.__KOOT_SSR__ : __KOOT_SSR__;\r\n                if (SSR[needConnectComponents]) {\r\n                    if (__DEV__) {\r\n                        // console.log(options.name || '__');\r\n                        KootComponent.id = devSSRConnectIndex++;\r\n                        // KootComponent.pageinfo = pageinfo;\r\n                    }\r\n                    const { connectedComponents = [] } = SSR;\r\n                    connectedComponents.unshift(KootComponent);\r\n                }\r\n            }\r\n\r\n            if (!isRenderSafe()) return;\r\n\r\n            if (hasStyles) {\r\n                this.kootClassNames = styles.map(obj => obj.wrapper);\r\n                appendStyle(this.getStyleMap(/*context*/), styles);\r\n                // console.log('----------')\r\n                // console.log('styles', styles)\r\n                // console.log('theStyles', theStyles)\r\n                // console.log('this.classNameWrapper', this.classNameWrapper)\r\n                // console.log('----------')\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 获取 styleMap\r\n         * - 服务器端: 返回全局常量中的对照表\r\n         * - 客户端: 直接返回本文件内的 styleMap\r\n         */\r\n        getStyleMap(/*context*/) {\r\n            // console.log('extend', { LocaleId })\r\n            if (__SERVER__) {\r\n                if (__DEV__) return global.__KOOT_SSR__.styleMap;\r\n                if (typeof __KOOT_SSR__ === 'object')\r\n                    return __KOOT_SSR__.styleMap;\r\n            }\r\n            return styleMap;\r\n            // return context\r\n        }\r\n\r\n        //\r\n\r\n        componentDidUpdate(prevProps) {\r\n            // if (\r\n            //     typeof prevProps.location === 'object' &&\r\n            //     typeof this.props.location === 'object' &&\r\n            //     prevProps.location.pathname !== this.props.location.pathname\r\n            // )\r\n            this.clientUpdatePageInfo();\r\n        }\r\n\r\n        componentDidMount() {\r\n            this.mounted = true;\r\n\r\n            if (!this.state.loaded && typeof dataFetch !== 'undefined') {\r\n                doFetchData(\r\n                    getStore(),\r\n                    getRenderPropsFromComponentProps(this.props),\r\n                    dataFetch\r\n                ).then(() => {\r\n                    if (!this.mounted) return;\r\n                    this.setState({\r\n                        loaded: true\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.clientUpdatePageInfo();\r\n            if (hasPageinfo && this.mounted) {\r\n                setTimeout(() => {\r\n                    if (this && this.mounted) {\r\n                        this.clientUpdatePageInfo();\r\n                    }\r\n                }, 500);\r\n            }\r\n\r\n            if (everMounted) {\r\n            } else {\r\n                everMounted = true;\r\n            }\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            this.mounted = false;\r\n            if (hasStyles) {\r\n                removeStyle(this.getStyleMap(/*this.context*/), styles);\r\n            }\r\n            if (typeof dataResetWhenUnmount === 'object') {\r\n                setTimeout(() => {\r\n                    this.props.dispatch({\r\n                        type: RESET_CERTAIN_STATE,\r\n                        data: dataResetWhenUnmount\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        //\r\n\r\n        render() {\r\n            // console.log('styles', styles)\r\n            // console.log('this', this)\r\n            // console.log('this.kootClassNames', this.kootClassNames)\r\n            // console.log('this.props.className', this.props.className)\r\n\r\n            if (__SERVER__) {\r\n                if (ssr === false) return null;\r\n                if (ssr !== true) return ssr;\r\n            }\r\n\r\n            if (__CLIENT__ && this.kootClassNames instanceof HTMLElement) {\r\n                // console.log(this.kootClassNames)\r\n                this.kootClassNames = [this.kootClassNames.getAttribute('id')];\r\n            }\r\n\r\n            const props = Object.assign({}, this.props, {\r\n                className: this.kootClassNames\r\n                    .concat(this.props.className)\r\n                    .join(' ')\r\n                    .trim(),\r\n                'data-class-name': this.kootClassNames.join(' ').trim()\r\n            });\r\n            if (hasPageinfo)\r\n                props.updatePageinfo = this.clientUpdatePageInfo.bind(this);\r\n\r\n            // if (__SERVER__) console.log('extender this.state.loaded', this.state.loaded)\r\n            if (\r\n                typeof dataFetch !== 'undefined' &&\r\n                typeof dataCheck === 'function'\r\n            )\r\n                props.loaded = this.state.loaded;\r\n\r\n            return <WrappedComponent {...props} />;\r\n        }\r\n    }\r\n\r\n    if (typeof dataFetch !== 'undefined') {\r\n        KootReactComponent.onServerRenderStoreExtend = ({\r\n            store,\r\n            renderProps\r\n        }) => {\r\n            if (typeof dataFetch === 'undefined')\r\n                return new Promise(resolve => resolve());\r\n            // console.log('onServerRenderStoreExtend')\r\n            return doFetchData(\r\n                store,\r\n                getRenderPropsFromServerProps(renderProps),\r\n                dataFetch\r\n            );\r\n        };\r\n    }\r\n\r\n    // if (_hot && __DEV__ && __CLIENT__) {\r\n    //     const { hot, setConfig } = require('react-hot-loader')\r\n    //     setConfig({ logLevel: 'debug' })\r\n    //     KootComponent = hot(module)(KootComponent)\r\n    // }\r\n\r\n    // console.log(WrappedComponent);\r\n    let KootComponent = hoistStatics(KootReactComponent, WrappedComponent);\r\n\r\n    // if (typeof styles === 'object' &&\r\n    //     typeof styles.wrapper === 'string'\r\n    // ) {\r\n    //     KootComponent = ImportStyle(styles)(KootComponent)\r\n    // }\r\n\r\n    if (_connect === true) {\r\n        KootComponent = connect(() => ({}))(KootComponent);\r\n    } else if (typeof _connect === 'function') {\r\n        KootComponent = connect(_connect)(KootComponent);\r\n    } else if (Array.isArray(_connect)) {\r\n        KootComponent = connect(..._connect)(KootComponent);\r\n    }\r\n\r\n    return KootComponent;\r\n};\r\n","/**\r\n * 基于 serverProps 返回同构 props\r\n * @param {Object} serverProps \r\n * @return {Object}\r\n */\r\nconst fromServerProps = (serverProps = {}) => {\r\n    // console.log(' ')\r\n    // console.log('----------')\r\n    // console.log(serverProps)\r\n    // console.log('----------')\r\n    // console.log(' ')\r\n    return {\r\n        ...serverProps\r\n    }\r\n}\r\n\r\n/**\r\n * 基于组件 props 返回同构 props\r\n * @param {Object} componentProps \r\n * @return {Object}\r\n */\r\nconst fromComponentProps = (componentProps = {}) => {\r\n    // console.log(' ')\r\n    // console.log('----------')\r\n    // console.log(componentProps)\r\n    // console.log('----------')\r\n    // console.log(' ')\r\n    return {\r\n        ...componentProps\r\n    }\r\n}\r\n\r\nexport {\r\n    fromServerProps,\r\n    fromComponentProps,\r\n}\r\n","// import history from \"__KOOT_CLIENT_REQUIRE_HISTORY__\"\r\nimport createHistory from \"__KOOT_CLIENT_REQUIRE_CREATE_HISTORY__\"\r\nimport { parsePath } from 'history/lib/PathUtils'\r\nimport isI18nEnabled from '../i18n/is-enabled'\r\n\r\n/**\r\n * History Enhancer: use basename\r\n * \r\n * Original useBasename enhancer from history also override all read methods\r\n * `getCurrentLocation` `listenBefore` `listen`\r\n * But as Diablohu tested, when read methods overrided, if the route matched used async method to get component, would fail\r\n * that rendering blank page and no route match event fired\r\n * So we only overrid write methods here. And modify the first level path in routes object to `:localeId`\r\n * \r\n * @param {Function} createHistory\r\n * @returns {Object} History\r\n */\r\nconst kootUseBasename = (createHistory) =>\r\n    (options = {}) => {\r\n        const history = createHistory(options)\r\n        const { basename } = options\r\n\r\n        const addBasename = (location) => {\r\n            if (!location)\r\n                return location\r\n\r\n            if (basename && location.basename == null) {\r\n                if (location.pathname.toLowerCase().indexOf(basename.toLowerCase()) === 0) {\r\n                    location.pathname = location.pathname.substring(basename.length)\r\n                    location.basename = basename\r\n\r\n                    if (location.pathname === '')\r\n                        location.pathname = '/'\r\n                } else {\r\n                    location.basename = ''\r\n                }\r\n            }\r\n\r\n            return location\r\n        }\r\n\r\n        const prependBasename = (location) => {\r\n            if (!basename)\r\n                return location\r\n\r\n            const object = typeof location === 'string' ? parsePath(location) : location\r\n            const pname = object.pathname\r\n            const normalizedBasename = basename.slice(-1) === '/' ? basename : `${basename}/`\r\n            const normalizedPathname = pname.charAt(0) === '/' ? pname.slice(1) : pname\r\n            const pathname = normalizedBasename + normalizedPathname\r\n\r\n            return {\r\n                ...object,\r\n                pathname\r\n            }\r\n        }\r\n\r\n        // Override all write methods with basename-aware versions.\r\n        const push = (location) =>\r\n            history.push(prependBasename(location))\r\n\r\n        const replace = (location) =>\r\n            history.replace(prependBasename(location))\r\n\r\n        const createPath = (location) =>\r\n            history.createPath(prependBasename(location))\r\n\r\n        const createHref = (location) =>\r\n            history.createHref(prependBasename(location))\r\n\r\n        const createLocation = (location, ...args) =>\r\n            addBasename(history.createLocation(prependBasename(location), ...args))\r\n\r\n        return {\r\n            ...history,\r\n            push,\r\n            replace,\r\n            createPath,\r\n            createHref,\r\n            createLocation\r\n        }\r\n    }\r\n\r\nlet historyClient\r\n\r\nconst history = (() => {\r\n    if (__CLIENT__) {\r\n        if (!historyClient) {\r\n            const initialState = window.__REDUX_STATE__ || {}\r\n            const historyConfig = { basename: '/' }\r\n            if (isI18nEnabled() &&\r\n                process.env.KOOT_I18N_URL_USE === 'router' &&\r\n                initialState.localeId\r\n            ) {\r\n                historyConfig.basename = `/${initialState.localeId}`\r\n                historyClient = kootUseBasename(createHistory)(historyConfig)\r\n            } else {\r\n                // historyClient = require(\"__KOOT_CLIENT_REQUIRE_HISTORY__\")\r\n                historyClient = createHistory()\r\n            }\r\n            // console.log({\r\n            //     historyConfig,\r\n            //     historyClient\r\n            // })\r\n        }\r\n        return historyClient\r\n    }\r\n\r\n    if (__SERVER__) {\r\n        return undefined\r\n    }\r\n})()\r\n\r\nexport default history\r\n","/**\r\n * inject 缓存键值\r\n */\r\nmodule.exports = {\r\n    styles: 'STYLES',\r\n    scriptsRunFirst: 'SCRIPTS_RUN_FIRST',\r\n    scriptsInBody: 'SCRIPTS_IN_BODY',\r\n    uriServiceWorker: 'URI_SERVICE_WORKER'\r\n};\r\n","/**\r\n * 注入: html 标签上的 lang 属性\r\n * @param {String} localeId 当前语种 ID\r\n * @returns {String}\r\n */\r\nmodule.exports = (localeId) => localeId ? ` lang=\"${localeId}\"` : ''\r\n","/**\r\n * 检查 template 是否需要自动添加针对 critical 的注入\r\n * @param {String} template\r\n * @returns {Object}\r\n */\r\nmodule.exports = (template = '') => {\r\n    return {\r\n        styles: !/(content|pathname)\\(['\"]critical\\.css['\"]\\)/.test(template),\r\n        scripts: !/(content|pathname)\\(['\"]critical\\.js['\"]\\)/.test(template),\r\n    }\r\n}\r\n","const fs = require('fs-extra')\r\n\r\nconst { dll } = require('../../defaults/dev-request-uri')\r\n\r\n/**\r\n * 注入: meta 标签 HTML 代码\r\n * @param {Object} options\r\n * @param {String} [options.metaHtml]\r\n * @param {String} [options.localeId]\r\n * @param {Object} [options.compilation]\r\n * @returns {String}\r\n */\r\nmodule.exports = ({ metaHtml = '' }) => {\r\n\r\n    let r = getDevExtra()\r\n\r\n    if (typeof __KOOT_INJECT_METAS_START__ === 'undefined') {\r\n        const {\r\n            __KOOT_INJECT_METAS_START__,\r\n            __KOOT_INJECT_METAS_END__,\r\n        } = require('../../defaults/defines')\r\n        r += `<!--${__KOOT_INJECT_METAS_START__}-->${metaHtml}<!--${__KOOT_INJECT_METAS_END__}-->`\r\n    } else {\r\n        r += `<!--${__KOOT_INJECT_METAS_START__}-->${metaHtml}<!--${__KOOT_INJECT_METAS_END__}-->`\r\n    }\r\n\r\n    return r\r\n}\r\n\r\n/**\r\n * [开发环境] 额外内容\r\n */\r\nconst getDevExtra = () => {\r\n    if (process.env.WEBPACK_BUILD_ENV !== 'dev') return ''\r\n\r\n    // 判断是否存在 dll 文件，如果存在，在此引入\r\n    const { KOOT_DEV_DLL_FILE_CLIENT: fileDllClient } = process.env\r\n    if (fileDllClient && fs.existsSync(fileDllClient))\r\n        return `<script type=\"text/javascript\" src=\"${dll}\"></script>`\r\n\r\n    return ''\r\n}\r\n","const path = require('path');\r\n\r\nconst {\r\n    chunkNameClientRunFirst,\r\n    scriptTagEntryAttributeName,\r\n    thresholdScriptRunFirst\r\n} = require('../../defaults/before-build');\r\nconst defaultEntrypoints = require('../../defaults/entrypoints');\r\nconst readClientFile = require('../../utils/read-client-file');\r\nconst getClientFilePath = require('../../utils/get-client-file-path');\r\nconst getSSRStateString = require('../../libs/get-ssr-state-string');\r\nconst {\r\n    scriptsRunFirst,\r\n    scriptsInBody,\r\n    uriServiceWorker\r\n} = require('./_cache-keys');\r\n\r\n/**\r\n * 注入: JavaScript 代码\r\n * @param {Object} options\r\n * @param {Boolean} [options.needInjectCritical]\r\n * @param {Object} [options.injectCache]\r\n * @param {Object} [options.entrypoints]\r\n * @param {String} [options.localeId]\r\n * @param {String} [options.reduxHtml]\r\n * @param {Object} [options.compilation]\r\n * @param {Object} [options.SSRState]\r\n * @returns {String}\r\n */\r\nmodule.exports = ({\r\n    needInjectCritical,\r\n    injectCache,\r\n    entrypoints,\r\n    localeId,\r\n    reduxHtml,\r\n    SSRState = {},\r\n    compilation\r\n}) => {\r\n    const ENV = process.env.WEBPACK_BUILD_ENV;\r\n    const isDev = Boolean(\r\n        ENV === 'dev' || (typeof __DEV__ !== 'undefined' && __DEV__)\r\n    );\r\n    // const isProd = !isDev;\r\n\r\n    if (isDev || typeof injectCache[scriptsRunFirst] === 'undefined') {\r\n        const filename = `${chunkNameClientRunFirst}.js`;\r\n        const name = '*run-first';\r\n        if (isDev) {\r\n            injectCache[scriptsRunFirst] = combineFilePaths(\r\n                name,\r\n                filename,\r\n                localeId\r\n            );\r\n        } else {\r\n            const content = scriptTagsFromContent(\r\n                name,\r\n                filename,\r\n                localeId,\r\n                compilation\r\n            );\r\n            if (content.length > thresholdScriptRunFirst) {\r\n                injectCache[scriptsRunFirst] = combineFilePaths(\r\n                    name,\r\n                    filename,\r\n                    localeId\r\n                );\r\n            } else {\r\n                injectCache[scriptsRunFirst] = content;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (isDev || typeof injectCache[scriptsInBody] === 'undefined') {\r\n        let r = '';\r\n\r\n        // 入口: critical\r\n        if (needInjectCritical && Array.isArray(entrypoints.critical)) {\r\n            r += entrypoints.critical\r\n                .filter(file => path.extname(file) === '.js')\r\n                .map(file => {\r\n                    if (isDev) {\r\n                        // return `<script type=\"text/javascript\" src=\"${getClientFilePath(true, file)}\"></script>`;\r\n                        return combineFilePaths('critical', true, file);\r\n                    }\r\n                    return scriptTagsFromContent('critical', true, file);\r\n                })\r\n                .join('');\r\n        }\r\n\r\n        // 其他默认入口\r\n        // console.log('defaultEntrypoints', defaultEntrypoints)\r\n        // console.log('entrypoints', entrypoints)\r\n        defaultEntrypoints.forEach(key => {\r\n            if (Array.isArray(entrypoints[key])) {\r\n                r += entrypoints[key]\r\n                    .filter(file => /\\.(js|jsx|mjs|ejs)$/.test(file))\r\n                    .map(file => {\r\n                        // console.log(file)\r\n                        // if (isDev)\r\n                        // return `<script type=\"text/javascript\" src=\"${getClientFilePath(true, file)}\" defer></script>`\r\n                        // return `<script type=\"text/javascript\" src=\"${getClientFilePath(\r\n                        //     true,\r\n                        //     file\r\n                        // )}\" defer></script>`;\r\n                        return combineFilePaths(key, true, file);\r\n                    })\r\n                    .join('');\r\n            }\r\n        });\r\n\r\n        // 如果设置了 PWA 自动注册 Service-Worker，在此注册\r\n        const pwaAuto =\r\n            typeof process.env.KOOT_PWA_AUTO_REGISTER === 'string'\r\n                ? JSON.parse(process.env.KOOT_PWA_AUTO_REGISTER)\r\n                : false;\r\n        // console.log({\r\n        //     pwaAuto,\r\n        //     'injectCache[uriServiceWorker]': injectCache[uriServiceWorker]\r\n        // });\r\n        if (\r\n            pwaAuto &&\r\n            (process.env.WEBPACK_BUILD_TYPE === 'spa' ||\r\n                typeof injectCache[uriServiceWorker] === 'string')\r\n        ) {\r\n            r += `<script id=\"__koot-pwa-register-sw\" type=\"text/javascript\">`;\r\n            // if (isProd) {\r\n            r +=\r\n                `if ('serviceWorker' in navigator) {` +\r\n                `window.addEventListener('load', function() {` +\r\n                // + `navigator.serviceWorker.register(\"${injectCache[uriServiceWorker]}?koot=${process.env.KOOT_VERSION}\",`\r\n                `navigator.serviceWorker.register(\"${injectCache[\r\n                    uriServiceWorker\r\n                ] || JSON.parse(process.env.KOOT_PWA_PATHNAME)}?koot=0.12\",` +\r\n                `{scope: '/'}` +\r\n                `)` +\r\n                `.catch(err => {console.log('👩‍💻 Service Worker SUPPORTED. ERROR', err)})` +\r\n                `});` +\r\n                `}else{console.log('👩‍💻 Service Worker not supported!')}`;\r\n            // } else if (isDev) {\r\n            //     r += `console.log('👩‍💻 No Service Worker for DEV mode.')`;\r\n            // }\r\n            r += `</script>`;\r\n        }\r\n\r\n        injectCache[scriptsInBody] = r;\r\n    }\r\n\r\n    return (\r\n        `<script type=\"text/javascript\">` +\r\n        (reduxHtml ? reduxHtml : `window.__REDUX_STATE__ = {};`) +\r\n        `window.__KOOT_LOCALEID__ = \"${SSRState.localeId || ''}\";` +\r\n        `window.__KOOT_SSR_STATE__ = ${getSSRStateString(SSRState)};` +\r\n        `</script>` +\r\n        // getClientRunFirstJS(localeId, compilation) +\r\n        injectCache[scriptsRunFirst] +\r\n        injectCache[scriptsInBody]\r\n    );\r\n};\r\n\r\n/**\r\n * 返回引用地址的 script 标签\r\n * 如果有多个结果，会返回包含多个标签的 HTML 结果\r\n * @param {string} name 入口名/标识符\r\n * @param {...any} args `utils/get-client-file-path` 对应的参数\r\n * @returns {String} 整合的 HTML 结果\r\n */\r\nconst combineFilePaths = (name, ...args) => {\r\n    let pathnames = getClientFilePath(...args);\r\n    if (!Array.isArray(pathnames)) pathnames = [pathnames];\r\n    return pathnames\r\n        .map(\r\n            pathname =>\r\n                `<script type=\"text/javascript\" src=\"${pathname}\" defer ${scriptTagEntryAttributeName}=\"${name}\"></script>`\r\n        )\r\n        .join('');\r\n};\r\n\r\n/**\r\n * 返回 script 标签，标签内容为源代码字符串\r\n * 如果有多个结果，会返回包含多个标签的 HTML 结果\r\n * @param {string} name 入口名/标识符\r\n * @param {...any} args `utils/read-client-file` 对应的参数\r\n * @returns {String} 整合的 HTML 结果\r\n */\r\nconst scriptTagsFromContent = (name, ...args) =>\r\n    `<script type=\"text/javascript\" ${scriptTagEntryAttributeName}=\"${name}\">${readClientFile(\r\n        ...args\r\n    )}</script>`;\r\n","const {\r\n    chunkNameExtractCss,\r\n    chunkNameExtractCssForImport,\r\n    styleTagGlobalAttributeName,\r\n    thresholdStylesExtracted\r\n} = require('../../defaults/before-build');\r\nconst readClientFile = require('../../utils/read-client-file');\r\nconst getClientFilePath = require('../../utils/get-client-file-path');\r\nconst { styles } = require('./_cache-keys');\r\n\r\n/**\r\n * 注入: CSS 代码\r\n * @param {Object} options\r\n * @param {Boolean} [options.needInjectCritical]\r\n * @param {Object} [options.injectCache]\r\n * @param {String} [options.stylesHtml]\r\n * @param {String} [options.localeId]\r\n * @param {Object} [options.filemap]\r\n * @param {String} [options.compilation]\r\n * @returns {String}\r\n */\r\nmodule.exports = ({\r\n    // needInjectCritical,\r\n    injectCache,\r\n    // filemap,\r\n    stylesHtml,\r\n    localeId,\r\n    compilation\r\n}) => {\r\n    if (typeof injectCache[styles] === 'undefined') {\r\n        injectCache[styles] = getExtracted(localeId, compilation);\r\n\r\n        if (process.env.WEBPACK_BUILD_ENV === 'dev') {\r\n            injectCache[styles] +=\r\n                `<style id=\"__koot-react-hot-loader-error-overlay\">` +\r\n                `.react-hot-loader-error-overlay div {` +\r\n                `    z-index: 99999;` +\r\n                `    font-size: 14px;` +\r\n                `    line-height: 1.5em;` +\r\n                `}` +\r\n                `</style>`;\r\n        }\r\n    }\r\n\r\n    // if (needInjectCritical && typeof filemap['critical.css'] === 'string') {\r\n    //     injectCache.styles += getCritical()\r\n    // }\r\n\r\n    return (injectCache[styles] || '') + stylesHtml;\r\n};\r\n\r\n// const getCritical = () => {\r\n//     if (process.env.WEBPACK_BUILD_ENV === 'dev') {\r\n//         return `<link id=\"__koot-critical-styles\" media=\"all\" rel=\"stylesheet\" href=\"${getClientFilePath('critical.css')}\" />`\r\n//     }\r\n//     return `<style id=\"__koot-critical-styles\" type=\"text/css\">${readClientFile('critical.css')}</style>`\r\n// }\r\n\r\nconst getExtracted = (localeId, compilation) => {\r\n    const filename = `${chunkNameExtractCss}.css`;\r\n\r\n    if (\r\n        process.env.WEBPACK_BUILD_ENV === 'dev' &&\r\n        process.env.WEBPACK_BUILD_TYPE !== 'spa'\r\n    ) {\r\n        // return `<link id=\"__koot-extracted-styles\" media=\"all\" rel=\"stylesheet\" href=\"${getClientFilePath(\r\n        //     filename,\r\n        //     localeId\r\n        // )}\" />`;\r\n        return combineFilePaths(filename, localeId);\r\n    }\r\n\r\n    const content = readClientFile(filename, localeId, compilation);\r\n\r\n    // 如果内容大于 50k\r\n    if (content.length > thresholdStylesExtracted) {\r\n        if (process.env.WEBPACK_BUILD_TYPE === 'spa') {\r\n            return combineFilePaths(\r\n                `${chunkNameExtractCssForImport}.css`,\r\n                localeId\r\n            );\r\n        } else {\r\n            return combineFilePaths(filename, localeId);\r\n        }\r\n        // return `<link id=\"__koot-extracted-styles\" media=\"all\" rel=\"stylesheet\" href=\"${\r\n        //     process.env.WEBPACK_BUILD_TYPE === 'spa'\r\n        //         ? getClientFilePath(\r\n        //               `${chunkNameExtractCssForImport}.css`,\r\n        //               localeId\r\n        //           )\r\n        //         : getClientFilePath(filename, localeId)\r\n        // }\" />`;\r\n    }\r\n\r\n    return `<style id=\"__koot-extracted-styles\" type=\"text/css\" ${styleTagGlobalAttributeName}>${content}</style>`;\r\n};\r\n\r\n// const functionNameLinkOnLoad = '__KOOT_GLOBAL_STYLE_ON_LOAD__';\r\n\r\n/**\r\n * 返回 link 标签\r\n * 如果有多个结果，会返回包含多个标签的 HTML 结果\r\n * @param {...any} args `utils/get-client-file-path` 对应的参数\r\n * @returns {String} 整合的 HTML 结果\r\n */\r\nconst combineFilePaths = (...args) => {\r\n    let pathnames = getClientFilePath(...args);\r\n    if (!Array.isArray(pathnames)) pathnames = [pathnames];\r\n    return pathnames\r\n        .map(\r\n            pathname =>\r\n                `<link id=\"__koot-extracted-styles\" media=\"all\" rel=\"stylesheet\" href=\"${pathname}\" ${styleTagGlobalAttributeName} />`\r\n        )\r\n        .join('');\r\n};\r\n","/* global __KOOT_SSR__:false */\r\n\r\nconst { needConnectComponents } = require('../defaults/defines-server');\r\n\r\n/**\r\n * 当前执行和渲染有关的操作是否安全\r\n * - 客户端: 永远安全\r\n * - 服务器端: SSR `dataToStore` 之前不安全，之后安全\r\n * @returns {boolean}\r\n */\r\nmodule.exports = () => {\r\n    if (__SERVER__) {\r\n        const SSR = __DEV__ ? global.__KOOT_SSR__ : __KOOT_SSR__;\r\n        if (SSR[needConnectComponents]) return false;\r\n        return true;\r\n    }\r\n    return true;\r\n};\r\n","export const LOCATION_UPDATE = '@@KOOT@@LOCATION_UPDATE'\r\n","import { LOCATION_UPDATE } from './actionType'\r\n\r\nexport function update(location) {\r\n    return {\r\n        type: LOCATION_UPDATE,\r\n        location\r\n    }\r\n}","import * as actions from './actions.js'\r\n\r\nexport const update = (location) => (dispatch) => {\r\n    return dispatch(\r\n        actions.update(location)\r\n    )\r\n}","export { LOCATION_UPDATE } from './actionType'\r\n\r\nimport reducer from './reducer'\r\nexport { reducer }\r\nexport { update } from './api'\r\n\r\nexport const REALTIME_LOCATION_REDUCER_NAME = 'realtimeLocation'\r\nexport { update as actionUpdate } from './actions'\r\n","import { LOCATION_UPDATE } from './actionType.js'\r\n\r\nconst initialState = {}\r\n\r\nexport default function(state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n\r\n        case LOCATION_UPDATE:\r\n            return action.location\r\n\r\n    }\r\n\r\n    return state;\r\n\r\n}","import merge from 'lodash/merge';\r\nimport {\r\n    createStore as reduxCreateStore,\r\n    combineReducers as reduxCombineReducers,\r\n    applyMiddleware as reduxApplyMiddleware,\r\n    compose as reduxCompose\r\n} from 'redux';\r\nimport { routerReducer, routerMiddleware } from 'react-router-redux';\r\nimport thunk from 'redux-thunk';\r\nimport {\r\n    reducer as realtimeLocationReducer,\r\n    REALTIME_LOCATION_REDUCER_NAME\r\n} from './realtime-location';\r\nimport { SERVER_REDUCER_NAME, serverReducer } from '../ReactApp/server/redux';\r\nimport {\r\n    reducerLocaleId as i18nReducerLocaleId\r\n    // reducerLocales as i18nReducerLocales,\r\n} from '../i18n/redux';\r\nimport isI18nEnabled from '../i18n/is-enabled';\r\n// import history from \"__KOOT_CLIENT_REQUIRE_HISTORY__\"\r\nimport history from './history';\r\nimport { load as loadSessionStore } from './client-session-store';\r\n// const getHistory = () => {\r\n//     if (__SPA__) {\r\n//         return require('react-router/lib/hashHistory')\r\n//     }\r\n//     return require('react-router/lib/browserHistory')\r\n// }\r\n\r\n/******************************************************************************\r\n * ┌─┐┌─┐┌┐┌┌─┐┌┬┐┌─┐┌┐┌┌┬┐┌─┐\r\n * │  │ ││││└─┐ │ ├─┤│││ │ └─┐\r\n * └─┘└─┘┘└┘└─┘ ┴ ┴ ┴┘└┘ ┴ └─┘\r\n *****************************************************************************/\r\n\r\nexport const RESET_CERTAIN_STATE = '@@KOOT@@RESET_CERTAIN_STATE';\r\n\r\n/******************************************************************************\r\n * ┌─┐┌─┐┌─┐┌─┐┌┐┌┌┬┐┬┌─┐┬  ┌─┐\r\n * ├┤ └─┐└─┐├┤ │││ │ │├─┤│  └─┐\r\n * └─┘└─┘└─┘└─┘┘└┘ ┴ ┴┴ ┴┴─┘└─┘\r\n *****************************************************************************/\r\n\r\n/**\r\n * @type {Array}\r\n */\r\nexport const reducers = {\r\n    // 路由状态扩展\r\n    routing: routerReducer,\r\n    // 目的：新页面请求处理完成后再改变URL\r\n    [REALTIME_LOCATION_REDUCER_NAME]: realtimeLocationReducer,\r\n    // 对应服务器生成的store\r\n    [SERVER_REDUCER_NAME]: serverReducer\r\n};\r\nif (isI18nEnabled()) {\r\n    reducers.localeId = i18nReducerLocaleId;\r\n    // reducers.locales = i18nReducerLocales\r\n}\r\n\r\n/**\r\n * @type {Object}\r\n */\r\nexport const initialState = (() => {\r\n    if (__CLIENT__) return merge(window.__REDUX_STATE__, loadSessionStore());\r\n    if (__SERVER__) return {};\r\n})();\r\n\r\n/**\r\n * @type {Array}\r\n */\r\nexport const middlewares = [thunk, routerMiddleware(history)];\r\n\r\n// const enhancerClientModifyState = createStore => (\r\n//     reducer,\r\n//     preloadedState,\r\n//     enhancer\r\n// ) => {\r\n//     const store = createStore(reducer, preloadedState, enhancer);\r\n//     console.log({ store, state: store.getState() });\r\n//     return store;\r\n// };\r\n\r\n// const rootReducerClientResetCertainState = (state, action) => {\r\n//     const reset = (data, prefix = '') => {\r\n//         for (const [key, value] of Object.entries(data)) {\r\n//             const newKey = prefix ? `${prefix}.${key}` : key;\r\n//             if (\r\n//                 typeof value === 'object' &&\r\n//                 typeof state[key] === 'object' &&\r\n//                 !Array.isArray(state[key])\r\n//             ) {\r\n//                 return reset(value, newKey);\r\n//             } else if (value === true) {\r\n//                 console.log(newKey);\r\n//             }\r\n//         }\r\n//     };\r\n//     if (\r\n//         __CLIENT__ &&\r\n//         action.type === RESET_CERTAIN_STATE &&\r\n//         typeof action.data === 'object'\r\n//     ) {\r\n//         reset(action.data);\r\n//     }\r\n// };\r\n\r\n/**\r\n * 创建 redux store\r\n * - _注_: 与 redux 提供的 `createStore` 方法略有不同，仅需提供项目所用的 reducer 对象和中间件列表，**不需要**初始 state 对象\r\n * @param {Object|Function} appReducers 项目使用的 reducer，可为 `ReducersMapObject` (形式为 Object 的列表)，也可以为 `Reducer` (reducer 函数)\r\n * @param {Function[]} appMiddlewares 项目的中间件列表\r\n * @param {Function[]} appEnhancers 项目的 store 增强函数 (enhancer) 列表\r\n * @returns {Object} redux store\r\n */\r\nexport const createStore = (\r\n    appReducer,\r\n    appMiddlewares = [],\r\n    appEnhancers = []\r\n) => {\r\n    // const toCompose = [\r\n    //     reduxApplyMiddleware(...middlewares.concat(appMiddlewares))\r\n    // ];\r\n    // if (__CLIENT__) toCompose.push(enhancerClientModifyState);\r\n\r\n    const projectReducer = (() => {\r\n        if (typeof appReducer === 'function') {\r\n            const kootReducer = reduxCombineReducers({ ...reducers });\r\n            return (state, action) => {\r\n                const { appState, kootState } = sliceStateForReducers(state);\r\n                return {\r\n                    ...appReducer(appState, action),\r\n                    ...kootReducer(kootState, action)\r\n                };\r\n            };\r\n        } else if (\r\n            typeof appReducer === 'object' &&\r\n            !Array.isArray(appReducer)\r\n        ) {\r\n            return reduxCombineReducers({\r\n                ...appReducer,\r\n                ...reducers\r\n            });\r\n        }\r\n\r\n        return reduxCombineReducers({\r\n            ...reducers\r\n        });\r\n    })();\r\n\r\n    if (!Array.isArray(appEnhancers) && appEnhancers)\r\n        appEnhancers = [appEnhancers];\r\n    else if (!appEnhancers) appEnhancers = [];\r\n\r\n    return reduxCreateStore(\r\n        projectReducer,\r\n        initialState,\r\n        reduxCompose(\r\n            reduxApplyMiddleware(...middlewares.concat(appMiddlewares)),\r\n            ...appEnhancers\r\n        )\r\n    );\r\n};\r\n\r\n/******************************************************************************\r\n * ┬ ┬┌─┐┬  ┌─┐┌─┐┬─┐┌─┐\r\n * ├─┤├┤ │  ├─┘├┤ ├┬┘└─┐\r\n * ┴ ┴└─┘┴─┘┴  └─┘┴└─└─┘\r\n *****************************************************************************/\r\n\r\n/**\r\n * 将当前 state 拆分为 _appState_ 和 _kootState_\r\n * @param {Object} state\r\n * @returns {Object} { appState, kootState }\r\n */\r\nconst sliceStateForReducers = state => {\r\n    const appState = {};\r\n    const kootState = {};\r\n    const keysForKootReducer = Object.keys(reducers);\r\n    Object.keys(state).forEach(key => {\r\n        if (keysForKootReducer.includes(key)) {\r\n            kootState[key] = state[key];\r\n        } else {\r\n            appState[key] = state[key];\r\n        }\r\n    });\r\n    return {\r\n        appState,\r\n        kootState\r\n    };\r\n};\r\n","/**\r\n * 重置 store，清空所有 state\r\n * @param {Object} store\r\n * @param {string[]} [keysToPreserve]\r\n */\r\nconst resetStore = (store, keysToPreserve = defaultKeysToPreserve) => {\r\n    const state = store.getState();\r\n    Object.keys(state)\r\n        .filter(key => !keysToPreserve.includes(key))\r\n        .forEach(key => {\r\n            state[key] = undefined;\r\n            delete state[key];\r\n        });\r\n\r\n    // 触发所有 reducer 的初始化\r\n    store.dispatch({\r\n        type: '@@KOOT@@STATE_RESET_REDUCER_INIT'\r\n    });\r\n\r\n    return store;\r\n};\r\n\r\n/** @type {Array} 需要保留（不需要进行删除操作）的 redux store state 属性名 */\r\nexport const defaultKeysToPreserve = [\r\n    'localeId',\r\n    'locales'\r\n    // 'server'\r\n];\r\n\r\nexport default resetStore;\r\n","const ejs = require('ejs');\r\n\r\nconst readClientFile = require('../utils/read-client-file');\r\nconst getClientFilePath = require('../utils/get-client-file-path');\r\n\r\n/**\r\n * 渲染 ejs 模板\r\n * @param {Object} options\r\n * @param {String} options.template ejs 模板内容\r\n * @param {Object} [options.inject={}] 注入对象\r\n * @param {Object} [options.state] 当前 Redux state。也可以传入 Redux store\r\n * @param {Object} [options.compilation] webpack compilation\r\n * @returns {String}\r\n */\r\nmodule.exports = ({\r\n    template = DEFAULT_TEMPLATE,\r\n    inject = {},\r\n    store,\r\n    state,\r\n    compilation,\r\n    ctx\r\n}) => {\r\n    if (\r\n        typeof state !== 'object' &&\r\n        typeof store === 'object' &&\r\n        typeof store.getState === 'function'\r\n    )\r\n        state = store.getState();\r\n    else if (typeof state === 'object' && typeof state.getState === 'function')\r\n        state = state.getState();\r\n\r\n    try {\r\n        for (let key in inject) {\r\n            if (typeof inject[key] === 'function')\r\n                inject[key] = inject[key](template, state, ctx);\r\n        }\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n\r\n    // 开发环境: 将 content('critical.js') 转为 pathname() 方式\r\n    if (process.env.WEBPACK_BUILD_ENV === 'dev')\r\n        template = template.replace(\r\n            /<script(.*?)><%(.*?)content\\(['\"]critical\\.js['\"]\\)(.*?)%><\\/script>/,\r\n            `<script$1 src=\"<%$2pathname('critical.js')$3%>\"></script>`\r\n        );\r\n\r\n    // console.log(template)\r\n\r\n    const localeId = typeof state === 'object' ? state.localeId : undefined;\r\n\r\n    return ejs.render(\r\n        template,\r\n        {\r\n            inject,\r\n            content: filename =>\r\n                readClientFile(filename, localeId, compilation),\r\n            pathname: filename => getClientFilePath(filename, localeId)\r\n        },\r\n        {}\r\n    );\r\n};\r\n\r\nconst DEFAULT_TEMPLATE = `<!DOCTYPE html>\r\n<html>\r\n\r\n<head<%- inject.htmlLang %>>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no\">\r\n\r\n    <title><%= inject.title %></title>\r\n\r\n    <base target=\"_self\">\r\n\r\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n    <meta name=\"format-detection\" content=\"telephone=no,email=no,address=no\">\r\n    <meta name=\"format-detection\" content=\"email=no\">\r\n    <meta name=\"format-detection\" content=\"address=no\">\r\n    <meta name=\"format-detection\" content=\"telephone=no\">\r\n    <meta name=\"HandheldFriendly\" content=\"true\">\r\n    <meta name=\"mobile-web-app-capable\" content=\"yes\">\r\n\r\n    <link rel=\"shortcut icon\" href=\"/favicon.ico\" type=\"image/x-icon\">\r\n\r\n    <!-- IE/Edge/Multi-engine -->\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n\r\n    <!-- iOS Safari -->\r\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\r\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\r\n\r\n    <!-- Customize -->\r\n    <meta name=\"theme-color\" content=\"#0092f5\" />\r\n\r\n    <%- inject.metas %>\r\n    <%- inject.styles %>\r\n</head>\r\n\r\n<body class=\"koot-system\">\r\n    <div id=\"root\"><%- inject.react %></div>\r\n    <script type=\"text/javascript\"><%- content('critical.js') %></script>\r\n    <%- inject.scripts %>\r\n</body>\r\n\r\n</html>`;\r\n","/**\r\n * 检查下一个路由状态和当前客户端的 location 是否一致。多用于针对基于路由代码拆分的当前路由检测。\r\n * @param {Object} nextState `react-router` 传入的下一个路由状态对象\r\n * @param {Boolean} [isAlwaysTrue=false] 是否默认为 `true`\r\n * @returns {Boolean}\r\n */\r\nmodule.exports = (nextState, isAlwaysTrue) => {\r\n    if (isAlwaysTrue ||\r\n        typeof location === 'undefined' ||\r\n        __SERVER__ ||\r\n        __SPA__\r\n    ) return true\r\n\r\n    let next = nextState.location.pathname\r\n    let curr = location.pathname\r\n\r\n    if (next.substr(0, 1) !== '/') next = '/' + next\r\n    if (curr.substr(0, 1) !== '/') curr = '/' + curr\r\n\r\n    return Boolean(next === curr)\r\n}\r\n","// import React from 'react'\r\n\r\n/**\r\n * 生成 StyleMapContext\r\n */\r\n// export const createStyleMapContext = () => {\r\n//     return React.createContext({})\r\n// }\r\n\r\n// export let StyleMapContext = createStyleMapContext()\r\n\r\n/**\r\n * 将样式表写入到 head 标签内\r\n * @param {Object} styleMap\r\n */\r\nexport const checkAndWriteIntoHead = (styleMap = {}) => {\r\n    if (typeof styleMap !== 'object') return;\r\n    Object.keys(styleMap).forEach(wrapper => {\r\n        const style = styleMap[wrapper];\r\n        const el = document.querySelector(\r\n            `style[${__STYLE_TAG_MODULE_ATTR_NAME__}=${wrapper}]`\r\n        );\r\n        if (style.count > 0) {\r\n            // 配置样式\r\n            if (!el && style.css !== '') {\r\n                const styleTag = document.createElement('style');\r\n                styleTag.innerHTML = style.css;\r\n                // styleTag.setAttribute('id', wrapper);\r\n                styleTag.setAttribute(__STYLE_TAG_MODULE_ATTR_NAME__, wrapper);\r\n                document.getElementsByTagName('head')[0].appendChild(styleTag);\r\n            }\r\n        } else {\r\n            // 移除样式\r\n            if (el) {\r\n                el.remove();\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n// const getStyleMap = (passedMap) => {\r\n//     if (__CLIENT__)\r\n//         return passedMap\r\n//     if (typeof __KOOT_SSR__ === 'object') {\r\n//         // console.log({ LocaleId })\r\n//         return __KOOT_SSR__.styleMap.get(LocaleId)\r\n//     }\r\n//     return passedMap\r\n// }\r\n\r\n/**\r\n * 追加样式\r\n * @param {Object} styleMap\r\n * @param {Object|Array} style\r\n */\r\nexport const append = (styleMap = {}, style) => {\r\n    // const styleMap = getStyleMap(passedMap)\r\n\r\n    if (Array.isArray(style))\r\n        return style.forEach(theStyle => append(styleMap, theStyle));\r\n\r\n    if (typeof style !== 'object') return;\r\n\r\n    if (!styleMap[style.wrapper]) {\r\n        styleMap[style.wrapper] = {\r\n            css: style.css,\r\n            count: 1\r\n        };\r\n    } else {\r\n        styleMap[style.wrapper].count++;\r\n    }\r\n\r\n    if (__CLIENT__) {\r\n        checkAndWriteIntoHead(styleMap);\r\n    }\r\n};\r\n\r\n/**\r\n * 移除样式\r\n * @param {Object} styleMap\r\n * @param {*} style\r\n */\r\nexport const remove = (styleMap = {}, style) => {\r\n    // const styleMap = getStyleMap(passedMap)\r\n\r\n    if (Array.isArray(style))\r\n        return style.forEach(theStyle => remove(theStyle));\r\n\r\n    if (typeof style !== 'object') return;\r\n\r\n    if (styleMap[style.wrapper]) {\r\n        styleMap[style.wrapper].count--;\r\n    }\r\n};\r\n\r\n// export const idDivStylesContainer = '__KOOT_ISOMORPHIC_STYLES_CONTAINER__'\r\n\r\n// /**\r\n//  * 分析 HTML 代码，解析已有样式表，将其从 HTML 代码中移除，并返回可以直接写入到 head 标签内的样式表代码\r\n//  * @param {String} html\r\n//  * @returns {String} htmlStyles\r\n//  */\r\n// export const parseHtmlForStyles = (html) => {\r\n//     const matches = html.match(new RegExp(`<div id=\"${idDivStylesContainer}\">(.*?)</div>`, 'm'))\r\n//     if (\r\n//         !matches ||\r\n//         typeof matches !== 'object' ||\r\n//         typeof matches.index === 'undefined' ||\r\n//         typeof matches[1] === 'undefined'\r\n//     )\r\n//         return {\r\n//             html,\r\n//             htmlStyles: ''\r\n//         }\r\n//     return {\r\n//         html: html.substr(0, matches.index),\r\n//         htmlStyles: matches[1]\r\n//     }\r\n// }\r\n\r\n// /**\r\n//  * React 组件: 样式表内容容器\r\n//  */\r\n// export class StylesContainer extends React.Component {\r\n//     static contextType = StyleMapContext\r\n//     render() {\r\n//         return (\r\n//             <div\r\n//                 id={idDivStylesContainer}\r\n//                 dangerouslySetInnerHTML={{\r\n//                     __html: Object.keys(this.context)\r\n//                         .filter(id => !!this.context[id].css)\r\n//                         .map(id => `<style id=\"${id}\">${this.context[id].css}</style>`)\r\n//                         .join('')\r\n//                 }}\r\n//             />\r\n//         )\r\n//     }\r\n// }\r\n","const injectHtmlLang = require('./inject/htmlLang');\r\nconst injectMetas = require('./inject/metas');\r\nconst injectStyles = require('./inject/styles');\r\nconst injectScripts = require('./inject/scripts');\r\n\r\n/**\r\n * 生成 ejs 使用的模板替换对象\r\n * @param {Object} options 当前设置\r\n * @param {Object} [options.injectCache={}] 静态注入对象/当前语言的静态注入缓存对象\r\n * @param {Object} [options.filemap={}] (当前语言的) 文件名对应表\r\n * @param {Object} [options.entrypoints={}] (当前语言的) 入口表\r\n * @param {String} [localeId] 当前语种 ID\r\n * @param {String} [title] 页面标题\r\n * @param {String} [metaHtml] meta 标签 HTML 代码\r\n * @param {String} [reactHtml] 已处理完毕的 React 同构结果 HTML 代码\r\n * @param {String} [stylesHtml] 已处理完毕的样式结果 HTML 代码\r\n * @param {String} [reduxHtml] 已处理完毕的 redux store 结果 HTML 代码\r\n * @param {Object} [SSRState] SSR 状态对象\r\n * @param {Object} [needInjectCritical] 是否需要自动注入 critical 内容\r\n * @param {Boolean} [needInjectCritical.styles=false]\r\n * @param {Boolean} [needInjectCritical.scripts=false]\r\n * @returns {Object}\r\n */\r\nmodule.exports = (options = {}) => {\r\n    const {\r\n        injectCache = {},\r\n\r\n        filemap = {},\r\n        entrypoints = {},\r\n        compilation,\r\n\r\n        localeId,\r\n\r\n        title,\r\n        metaHtml,\r\n        reactHtml,\r\n        stylesHtml,\r\n        reduxHtml,\r\n        SSRState,\r\n\r\n        needInjectCritical = {\r\n            styles: false,\r\n            scripts: false\r\n        }\r\n    } = options;\r\n\r\n    return {\r\n        htmlLang: injectHtmlLang(localeId),\r\n        title,\r\n        metas: injectMetas({ metaHtml, localeId, compilation }),\r\n        styles: injectStyles({\r\n            needInjectCritical: needInjectCritical.styles,\r\n            injectCache,\r\n            filemap,\r\n            stylesHtml,\r\n            localeId,\r\n            compilation\r\n        }),\r\n\r\n        react: reactHtml,\r\n\r\n        scripts: injectScripts({\r\n            needInjectCritical: needInjectCritical.scripts,\r\n            injectCache,\r\n            entrypoints,\r\n            localeId,\r\n            reduxHtml,\r\n            SSRState,\r\n            compilation\r\n        })\r\n    };\r\n};\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport { reducers as defaultReducers, initialState, middlewares } from '../redux'\r\n\r\n/**\r\n * 验证 Redux 配置\r\n * \r\n * @param {Object} kootConfigRedux Koot 配置项: `redux`\r\n * @returns {Object} reduxConfig\r\n */\r\nconst validateReduxConfig = (kootConfigRedux = {}) => {\r\n\r\n    const {\r\n        syncCookie = true\r\n    } = kootConfigRedux\r\n    const reduxConfig = {\r\n        syncCookie\r\n    }\r\n\r\n    if (typeof kootConfigRedux.store === 'undefined') {\r\n        const { combineReducers: theReducers = {} } = kootConfigRedux\r\n        Object.keys(defaultReducers).forEach(reducerName => {\r\n            theReducers[reducerName] = defaultReducers[reducerName]\r\n        })\r\n        reduxConfig.factoryStore = () =>\r\n            createStore(combineReducers(theReducers), initialState, applyMiddleware(...middlewares))\r\n    } else if (typeof kootConfigRedux.store === 'function') {\r\n        reduxConfig.factoryStore = kootConfigRedux.store\r\n    } else if (typeof kootConfigRedux.store === 'object') {\r\n        reduxConfig.store = kootConfigRedux.store\r\n    }\r\n\r\n    return reduxConfig\r\n\r\n}\r\n\r\nexport default validateReduxConfig\r\n","import errorMsg from '../../libs/error-msg'\r\nimport i18nValidateRoutes from '../../i18n/validte-routes'\r\n\r\n/**\r\n * 验证 `react-router` 配置\r\n * \r\n * @param {Object} kootConfigRouter Koot 配置项: `router`\r\n * @returns {Object} 路由配置对象，可直接供 `react-router` 使用\r\n */\r\nconst validateRouterConfig = (kootConfigRouter) => {\r\n\r\n    let config = typeof kootConfigRouter === 'function'\r\n        ? kootConfigRouter()\r\n        : kootConfigRouter\r\n\r\n    if (typeof config !== 'object')\r\n        throw new Error(errorMsg('VALIDATE_ROUTER_CONFIG', 'no router config or router object invalid'))\r\n\r\n    const { ...routes } = (() => {\r\n        if (Array.isArray(config)) {\r\n            return {\r\n                childRoutes: [...config]\r\n            }\r\n        }\r\n        return config\r\n    })()\r\n\r\n    if (!routes.path) {\r\n        routes.path = '/'\r\n    }\r\n\r\n    handleIndexRoute(routes)\r\n    i18nValidateRoutes(routes)\r\n\r\n    return routes\r\n\r\n}\r\nexport default validateRouterConfig\r\n\r\n/**\r\n * 处理默认路由\r\n * @param {any} route\r\n */\r\nconst handleIndexRoute = (route) => {\r\n    if (route && (!route.childRoutes || !route.childRoutes.length)) {\r\n        return\r\n    }\r\n\r\n    route.childRoutes = route.childRoutes.filter(child => { // eslint-disable-line\r\n        if (child.isIndex) {\r\n\r\n            /* istanbul ignore next */\r\n            if (process.env.NODE_ENV === 'dev' && route.indexRoute) {\r\n                console.error('More than one index route: ', route)\r\n            }\r\n\r\n            /* istanbul ignore else */\r\n            if (!route.indexRoute) {\r\n                delete child.path; // eslint-disable-line\r\n                route.indexRoute = child; // eslint-disable-line\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    })\r\n\r\n    route.childRoutes.forEach(handleIndexRoute)\r\n}\r\n","export const CHANGE_LANGUAGE = '@@KOOT@@CHANGE_LANGUAGE'\r\nexport const GET_ORIGIN_URL = '@@KOOT@@GET_ORIGIN_URL'\r\nexport const TELL_CLIENT_URL = '@@KOOT@@TELL_CLIENT_URL'\r\nexport const SYNC_COOKIE = '@@KOOT@@SYNC_COOKIE'\r\n\r\nexport default {\r\n    CHANGE_LANGUAGE,\r\n    GET_ORIGIN_URL,\r\n    TELL_CLIENT_URL,\r\n    SYNC_COOKIE,\r\n}\r\n","/* global __KOOT_SSR__:false */\r\nconst getSSRStateString = require('../../../../libs/get-ssr-state-string');\r\n\r\n/** @type {String} 同步数据到 store 的静态方法名 */\r\nconst LIFECYCLE_DATA_TO_STORE = 'onServerRenderStoreExtend';\r\n/** @type {String} 扩展 HTML 信息的静态方法名 */\r\nconst LIFECYCLE_HTML_EXTEND = 'onServerRenderHtmlExtend';\r\n\r\n/**\r\n * 执行匹配到的组件的静态生命周期方法\r\n * @async\r\n * @param {Object} options\r\n * @param {Object} store Redux store 对象\r\n * @param {Object} renderProps 路由 `match` 结果中的属性对象，其内包含匹配到的组件的信息\r\n * @param {Object} ctx Koa context\r\n */\r\nconst executeComponentLifecycle = async ({ store, renderProps, ctx }) => {\r\n    /** @type {Array} 需要执行的异步方法 */\r\n    let tasks = [];\r\n\r\n    /**\r\n     * @type {Function}\r\n     * @async\r\n     * 扩展 HTML 信息需要执行的方法\r\n     * 仅执行匹配到的最深层组件对应的方法\r\n     */\r\n    let extendHtmlTasks = [];\r\n\r\n    const extractDataToStoreTask = component => {\r\n        if (!component) return;\r\n        if (typeof component[LIFECYCLE_DATA_TO_STORE] === 'function') {\r\n            const thisTask = component[LIFECYCLE_DATA_TO_STORE]({\r\n                store,\r\n                renderProps,\r\n                ctx\r\n            });\r\n            // component[LIFECYCLE_DATA_TO_STORE] = undefined\r\n            if (Array.isArray(thisTask)) {\r\n                tasks = tasks.concat(thisTask);\r\n            } else if (thisTask instanceof Promise || thisTask.then) {\r\n                tasks.push(thisTask);\r\n            } else if (typeof thisTask === 'function') {\r\n                tasks.push(\r\n                    new Promise(async resolve => {\r\n                        await thisTask();\r\n                        resolve();\r\n                    })\r\n                );\r\n            }\r\n        } else if (component.WrappedComponent) {\r\n            extractDataToStoreTask(component.WrappedComponent);\r\n        }\r\n    };\r\n\r\n    const extracHtmlExtendTask = component => {\r\n        if (!component) return;\r\n        if (typeof component[LIFECYCLE_HTML_EXTEND] === 'function') {\r\n            extendHtmlTasks.push(component[LIFECYCLE_HTML_EXTEND]);\r\n            // component[LIFECYCLE_HTML_EXTEND] = undefined\r\n        } else if (component.WrappedComponent) {\r\n            extracHtmlExtendTask(component.WrappedComponent);\r\n        }\r\n    };\r\n\r\n    /** @type {Array} 使用 extend 高阶组件的组件 */\r\n    const connectedComponents = (() => {\r\n        const { connectedComponents = [] } = __DEV__\r\n            ? global.__KOOT_SSR__\r\n            : __KOOT_SSR__;\r\n\r\n        if (__DEV__) {\r\n            // 旧代码\r\n            // if (!global.__KOOT_SSR_DEV_CONNECTED_COMPONENTS__)\r\n            //     global.__KOOT_SSR_DEV_CONNECTED_COMPONENTS__ = new Map()\r\n\r\n            // const CTX = JSON.stringify(ctx)\r\n\r\n            // if (global.__KOOT_SSR_DEV_CONNECTED_COMPONENTS__.has(CTX))\r\n            //     return global.__KOOT_SSR_DEV_CONNECTED_COMPONENTS__.get(CTX)\r\n\r\n            // global.__KOOT_SSR_DEV_CONNECTED_COMPONENTS__.set(CTX, connectedComponents)\r\n\r\n            const renderPropsComponents = (renderProps.components || []).filter(\r\n                c => !!c\r\n            );\r\n            // 将 renderProps 中的 components 寄存入全局的 connectedComponents 中\r\n            renderPropsComponents\r\n                .filter(\r\n                    component =>\r\n                        component &&\r\n                        connectedComponents.every(c => c.id !== component.id)\r\n                )\r\n                .forEach(component => connectedComponents.push(component));\r\n            // 将 renderProps 中的 components 移至队列最尾部\r\n            return connectedComponents;\r\n            // .filter(component =>\r\n            //     renderPropsComponents.every(c => c.id !== component.id)\r\n            // )\r\n            // .concat(renderPropsComponents);\r\n        }\r\n\r\n        return connectedComponents;\r\n    })();\r\n    // console.log('\\n\\n==========');\r\n    // console.log({ connectedComponents });\r\n    // console.log({ connectedComponents, renderProps });\r\n    // console.log('==========\\n\\n');\r\n\r\n    // 添加各项任务\r\n    connectedComponents.forEach(component => {\r\n        extractDataToStoreTask(component);\r\n        extracHtmlExtendTask(component);\r\n    });\r\n\r\n    // 旧代码\r\n    // for (const component of renderProps.components) {\r\n    //     /**\r\n    //      * @type {Component}\r\n    //      * 当前组件\r\n    //      * component.WrappedComponent 是 redux 装饰的外壳\r\n    //      */\r\n    //     // const thisComponent = component && component.WrappedComponent ? component.WrappedComponent : component\r\n    //     // extractDataToStoreTask(component)\r\n    // }\r\n\r\n    // 等待所有异步方法执行完毕\r\n    await Promise.all(tasks);\r\n\r\n    // 扩展 HTML 相关信息\r\n    const result = {\r\n        title: process.env.KOOT_PROJECT_NAME || '',\r\n        metaHtml: '',\r\n        reduxHtml: `window.__REDUX_STATE__ = ${getSSRStateString(\r\n            store.getState()\r\n        )};`\r\n    };\r\n    extendHtmlTasks.some(task => {\r\n        if (typeof task === 'function') {\r\n            const { title: thisTitle, metas: thisMetas } = task({\r\n                store,\r\n                renderProps,\r\n                ctx\r\n            });\r\n\r\n            const hasTitle = !!thisTitle;\r\n            const hasMeta = Array.isArray(thisMetas) && thisMetas.length;\r\n\r\n            if (hasTitle) result.title = thisTitle;\r\n            if (hasMeta)\r\n                result.metaHtml = thisMetas\r\n                    .map(\r\n                        meta =>\r\n                            '<meta' +\r\n                            Object.keys(meta)\r\n                                .map(key => ` ${key}=\"${meta[key]}\"`)\r\n                                .join('') +\r\n                            '>'\r\n                    )\r\n                    .join('');\r\n\r\n            if (hasTitle || hasMeta) return true;\r\n        }\r\n        return false;\r\n    });\r\n\r\n    return result;\r\n};\r\n\r\nexport default executeComponentLifecycle;\r\n","import resetStore from '../../../../React/redux/reset-store';\r\n\r\n/**\r\n * 通过 redux 配置，初始化并获取 redux store 对象\r\n *\r\n * - 若提供产生 store 的方法 (`factoryStore`): 生成 store\r\n * - 若提供自生成的 store (`store`): 尝试清空 state 并触发一次所有 reducer 的初始化\r\n *\r\n * 每次访问请求时，需要生成全新的干净的 redux store，不可复用\r\n *\r\n * @param {Object} reduxConfig Redux，以下内容选其一\r\n * @param {Function} [reduxConfig.factoryStore] 生成 Redux Store 的方法\r\n * @param {Object} [reduxConfig.store] Redux Store 对象\r\n * @returns {Object} store\r\n */\r\nconst initStore = (reduxConfig = {}) => {\r\n    const { store, factoryStore } = reduxConfig;\r\n\r\n    if (typeof factoryStore === 'function') {\r\n        return factoryStore();\r\n    }\r\n\r\n    if (typeof store === 'object') {\r\n        return resetStore(store);\r\n    }\r\n\r\n    return {};\r\n};\r\n\r\nexport default initStore;\r\n","import log from '../../../../../libs/log'\r\n\r\nconst afterDataToStore = async ({\r\n    store, ctx, localeId, callback\r\n}) => {\r\n    if (__DEV__) log('callback', 'server', 'afterDataToStore')\r\n    if (typeof callback === 'function')\r\n        await callback({ ctx, store, localeId })\r\n}\r\n\r\nexport default afterDataToStore\r\n","import log from '../../../../../libs/log'\r\n\r\nconst beforeDataToStore = async ({\r\n    ctx, store, localeId, callback\r\n}) => {\r\n    if (__DEV__) log(' ', 'server', `localeId > \\x1b[32m${localeId}\\x1b[0m`)\r\n    if (__DEV__) log('callback', 'server', 'beforeDataToStore')\r\n    if (typeof callback === 'function')\r\n        await callback({ ctx, store, localeId })\r\n}\r\n\r\nexport default beforeDataToStore\r\n","import log from '../../../../../libs/log';\r\n\r\nconst beforePreRender = async ({ ctx, store, localeId, callback }) => {\r\n    if (__DEV__) log('callback', 'server', 'beforePreRender');\r\n    if (typeof callback === 'function')\r\n        await callback({ ctx, store, localeId });\r\n};\r\n\r\nexport default beforePreRender;\r\n","import { TELL_CLIENT_URL, SYNC_COOKIE } from '../../../../action-types';\r\nimport i18nUseRouterRedirect from '../../../../../i18n/server/use-router-redirect';\r\n// import isI18nEnabled from '../../../../../i18n/is-enabled'\r\nimport log from '../../../../../libs/log';\r\n\r\nconst beforeRouterMatch = async ({ store, ctx, syncCookie, callback }) => {\r\n    // 如果 i18n URL 使用 router 方式同时判定需要跳转，此时进行处理\r\n    const needRedirect = i18nUseRouterRedirect(ctx);\r\n    if (needRedirect) return needRedirect;\r\n\r\n    // 告诉前端，当前的url是啥\r\n    store.dispatch({ type: TELL_CLIENT_URL, data: ctx.originTrue });\r\n\r\n    // 把http请求带来的cookie同步到ssr的初始化redux state里\r\n    // server.cookie 获取\r\n    // 配置信息在koot.config.js里\r\n    // redux.syncCookie = ['token', 'sid'] | 'token' | false\r\n    if (syncCookie) {\r\n        let cookies = syncCookie;\r\n\r\n        if (cookies === true) {\r\n            store.dispatch({\r\n                type: SYNC_COOKIE,\r\n                data: ctx.headers.cookie || ''\r\n            });\r\n        } else {\r\n            const data = {};\r\n            if (cookies === 'all') {\r\n                const theCookies = ctx.headers.cookie || '';\r\n                theCookies.split(';').forEach(str => {\r\n                    const crumbs = str.split('=');\r\n                    if (crumbs.length > 1) {\r\n                        const [key, ...values] = crumbs;\r\n                        data[key.trim()] = values.join('=').trim();\r\n                    }\r\n                });\r\n            } else {\r\n                if (typeof cookies === 'string') cookies = [cookies];\r\n\r\n                if (Array.isArray(cookies)) {\r\n                    // 获取需要的cookie值\r\n                    cookies.forEach(c => {\r\n                        data[c] = ctx.cookies.get(c);\r\n                    });\r\n                }\r\n            }\r\n\r\n            // 同步到state中\r\n            store.dispatch({ type: SYNC_COOKIE, data });\r\n        }\r\n\r\n        // console.log({\r\n        //     syncCookie,\r\n        //     cookies: ctx.headers.cookie,\r\n        //     server: store.getState().server\r\n        // });\r\n    }\r\n\r\n    if (__DEV__) log('callback', 'server', 'beforeRouterMatch');\r\n    if (typeof callback === 'function') await callback({ store, ctx });\r\n};\r\n\r\nexport default beforeRouterMatch;\r\n","// TODO: change to one action type , like: CHANGE_BASE_INFO\r\n\r\nimport { CHANGE_LANGUAGE, TELL_CLIENT_URL, SYNC_COOKIE } from '../action-types';\r\n\r\nexport { CHANGE_LANGUAGE, TELL_CLIENT_URL, SYNC_COOKIE };\r\n\r\nexport const SERVER_REDUCER_NAME = 'server';\r\n\r\nexport const serverReducer = (state = { lang: 'en', origin: '' }, action) => {\r\n    switch (action.type) {\r\n        case CHANGE_LANGUAGE:\r\n            return Object.assign({}, state, {\r\n                lang: action.data\r\n            });\r\n        case TELL_CLIENT_URL:\r\n            return Object.assign({}, state, {\r\n                origin: action.data\r\n            });\r\n        case SYNC_COOKIE:\r\n            return Object.assign({}, state, {\r\n                cookie: action.data\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","/* global\r\n    __KOOT_SSR__:false\r\n*/\r\n\r\nimport React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport RouterContext from 'react-router/lib/RouterContext'\r\n\r\n// import { idDivStylesContainer, StyleMapContext } from '../../React/styles'\r\n\r\nconst Root = ({\r\n    store, ...props\r\n}) => {\r\n    // console.log('Root', {\r\n    //     'in __KOOT_SSR__': __KOOT_SSR__.LocaleId\r\n    // })\r\n    // console.log('Root render Store', typeof Store === 'undefined' ? undefined : Store)\r\n    return (\r\n        // <StyleMapContext.Provider value={{}}>\r\n        <Provider store={store} >\r\n            <RouterContext {...props} />\r\n        </Provider>\r\n        // <StylesContainer />\r\n        // </StyleMapContext.Provider>\r\n    )\r\n}\r\n\r\nexport default Root\r\n\r\n/**\r\n * React 组件: 样式表内容容器\r\n */\r\n// const StylesContainer = () =>\r\n//     <div\r\n//         id={idDivStylesContainer}\r\n//         dangerouslySetInnerHTML={{\r\n//             __html: Object.keys(__KOOT_SSR__.styleMap)\r\n//                 .filter(id => !!__KOOT_SSR__.styleMap[id].css)\r\n//                 .map(id => `<style id=\"${id}\">${__KOOT_SSR__.styleMap[id].css}</style>`)\r\n//                 .join('')\r\n//         }}\r\n//     />\r\n\r\n// let e = Root\r\n\r\n// if (__DEV__) {\r\n//     const { hot, setConfig } = require('react-hot-loader')\r\n//     setConfig({ logLevel: 'debug' })\r\n//     e = hot(module)(Root)\r\n// }\r\n\r\n// export default e\r\n","/* global\r\n    __KOOT_SSR_SET_STORE__:false,\r\n    __KOOT_SSR_SET_HISTORY__:false,\r\n    __KOOT_SSR_SET_CTX__: false,\r\n    __KOOT_LOCALEID__:false,\r\n    __KOOT_SSR__:false\r\n*/\r\n\r\nimport 'regenerator-runtime/runtime';\r\nimport React from 'react';\r\nimport { renderToString } from 'react-dom/server';\r\nimport match from 'react-router/lib/match';\r\nimport useRouterHistory from 'react-router/lib/useRouterHistory';\r\nimport createMemoryHistory from 'history/lib/createMemoryHistory';\r\nimport { syncHistoryWithStore } from 'react-router-redux';\r\n\r\nimport * as kootConfig from '__KOOT_PROJECT_CONFIG_FULL_PATHNAME__';\r\n\r\nimport { resetStore, resetHistory } from '../../';\r\nimport RootIsomorphic from './root-isomorphic';\r\n\r\nimport { publicPathPrefix } from '../../defaults/webpack-dev-server';\r\nimport { needConnectComponents } from '../../defaults/defines-server';\r\nimport { CHANGE_LANGUAGE } from '../action-types';\r\n\r\nimport validateRouterConfig from '../../React/validate/router-config';\r\nimport validateInject from '../../React/validate-inject';\r\nimport validateReduxConfig from '../../React/validate/redux-config';\r\nimport isNeedInjectCritical from '../../React/inject/is-need-inject-critical';\r\nimport renderTemplate from '../../React/render-template';\r\nimport {\r\n    default as clearStore,\r\n    defaultKeysToPreserve\r\n} from '../../React/redux/reset-store';\r\nimport injectCacheKeys from '../../React/inject/_cache-keys';\r\n\r\nimport beforeRouterMatch from './middlewares/isomorphic/lifecycle/before-router-match';\r\nimport beforePreRender from './middlewares/isomorphic/lifecycle/before-pre-render';\r\nimport beforeDataToStore from './middlewares/isomorphic/lifecycle/before-data-to-store';\r\nimport afterDataToStore from './middlewares/isomorphic/lifecycle/after-data-to-store';\r\nimport executeComponentsLifecycle from './middlewares/isomorphic/execute-components-lifecycle';\r\nimport initStore from './middlewares/isomorphic/init-store';\r\n\r\nimport i18nOnServerRender from '../../i18n/onServerRender';\r\nimport i18nGenerateHtmlRedirectMetas from '../../i18n/server/generate-html-redirect-metas';\r\nimport i18nGetSSRState from '../../i18n/server/get-ssr-state';\r\n\r\nconst ssr = async (options = {}) => {\r\n    const {\r\n        LocaleId = __DEV__ ? global.__KOOT_LOCALEID__ : __KOOT_LOCALEID__,\r\n        // Store = __DEV__ ? global.__KOOT_STORE__ : __KOOT_STORE__,\r\n        // History = __DEV__ ? global.__KOOT_HISTORY__ : __KOOT_HISTORY__,\r\n        SSR = __DEV__ ? global.__KOOT_SSR__ : __KOOT_SSR__\r\n    } = options;\r\n\r\n    const {\r\n        /** @type {Object} KOA Context */\r\n        ctx\r\n    } = SSR;\r\n\r\n    /** @type {string} 本次请求的 URL */\r\n    const url = ctx.path + ctx.search;\r\n\r\n    // ========================================================================\r\n\r\n    const { redux: reduxConfigRaw = {} } = kootConfig;\r\n    const reduxConfig = await validateReduxConfig(reduxConfigRaw);\r\n\r\n    // 生成/清理 Store\r\n    // console.log('\\x1b[36m⚑\\x1b[0m' + ' Store created')\r\n    const Store = initStore(reduxConfig);\r\n\r\n    // 生成 History\r\n    const historyConfig = {\r\n        basename:\r\n            LocaleId && process.env.KOOT_I18N_URL_USE === 'router'\r\n                ? `/${LocaleId}`\r\n                : '/'\r\n    };\r\n    /* eslint-disable react-hooks/rules-of-hooks */\r\n    const memoryHistory = useRouterHistory(() => createMemoryHistory(url))(\r\n        historyConfig\r\n    );\r\n    /* eslint-enable react-hooks/rules-of-hooks */\r\n    /** @type {Object} 已生成的 History 实例 */\r\n    const History = syncHistoryWithStore(memoryHistory, Store);\r\n\r\n    const { syncCookie } = reduxConfig;\r\n\r\n    if (__DEV__) {\r\n        // global.__KOOT_STORE__ = Store\r\n        // global.__KOOT_HISTORY__ = History\r\n        global.__KOOT_SSR_SET_STORE__(Store);\r\n        global.__KOOT_SSR_SET_HISTORY__(History);\r\n        global.__KOOT_SSR_SET_CTX__(ctx);\r\n    } else {\r\n        __KOOT_SSR_SET_STORE__(Store);\r\n        __KOOT_SSR_SET_HISTORY__(History);\r\n        __KOOT_SSR_SET_CTX__(ctx);\r\n        resetStore();\r\n        resetHistory();\r\n    }\r\n\r\n    // ========================================================================\r\n\r\n    // console.log({\r\n    //     LocaleId,\r\n    //     Store,\r\n    //     History,\r\n    //     SSR\r\n    // })\r\n\r\n    /** @type {Boolean} i18n 是否启用 */\r\n    const i18nEnabled = Boolean(LocaleId);\r\n\r\n    const {\r\n        thisTemplateInjectCache,\r\n        thisEntrypoints,\r\n        thisFilemap, //thisStyleMap,\r\n        styleMap,\r\n        template,\r\n        templateInject,\r\n        proxyRequestOrigin = {},\r\n        // syncCookie,\r\n        ssrComplete\r\n    } = SSR;\r\n\r\n    ctx.originTrue = proxyRequestOrigin.protocol\r\n        ? ctx.origin.replace(/^http:\\/\\//, `${proxyRequestOrigin.protocol}://`)\r\n        : ctx.origin;\r\n    ctx.hrefTrue = proxyRequestOrigin.protocol\r\n        ? ctx.href.replace(/^http:\\/\\//, `${proxyRequestOrigin.protocol}://`)\r\n        : ctx.href;\r\n\r\n    const { lifecycle, routerConfig: routes } = await initConfig(i18nEnabled);\r\n\r\n    // 渲染生命周期: beforeRouterMatch\r\n    await beforeRouterMatch({\r\n        ctx,\r\n        store: Store,\r\n        syncCookie,\r\n        callback: lifecycle.beforeRouterMatch\r\n    });\r\n    if (LocaleId) {\r\n        Store.dispatch({ type: CHANGE_LANGUAGE, data: LocaleId });\r\n        i18nOnServerRender({ store: Store });\r\n    }\r\n\r\n    // 进行路由匹配\r\n    const { redirectLocation, renderProps } = await new Promise(\r\n        (resolve, reject) => {\r\n            match(\r\n                {\r\n                    history: History,\r\n                    routes,\r\n                    location: url\r\n                },\r\n                (error, redirectLocation, renderProps) => {\r\n                    if (error) return reject(error);\r\n                    resolve({ redirectLocation, renderProps });\r\n                }\r\n            );\r\n        }\r\n    );\r\n\r\n    // 如果需要重定向，派发 ctx.redirect / 302\r\n    if (redirectLocation) {\r\n        ssrComplete({\r\n            redirect: redirectLocation.pathname + redirectLocation.search\r\n        });\r\n        return;\r\n    }\r\n\r\n    // 如果没有匹配，终止本中间件流程，执行其他中间件\r\n    // 表示 react 不应处理该请求\r\n    if (!renderProps) {\r\n        ssrComplete({\r\n            next: true\r\n        });\r\n        return;\r\n    }\r\n\r\n    // 强制更新 store: state.routing.locationBeforeTransitions\r\n    const state = Store.getState();\r\n    const currentPathname = state.routing.locationBeforeTransitions.pathname;\r\n    if (currentPathname.split(0, 1) !== '/')\r\n        Object.assign(Store.getState().routing.locationBeforeTransitions, {\r\n            pathname: ctx.path\r\n            // search: ctx.search\r\n        });\r\n\r\n    // 渲染生命周期: beforePreRender\r\n    await beforePreRender({\r\n        ctx,\r\n        store: Store,\r\n        localeId: LocaleId,\r\n        callback: lifecycle.beforePreRender\r\n    });\r\n\r\n    // 确定当前访问匹配到的组件\r\n    SSR[needConnectComponents] = true;\r\n    SSR.connectedComponents = [];\r\n    try {\r\n        renderToString(<RootIsomorphic store={Store} {...renderProps} />);\r\n    } catch (e) {}\r\n    SSR[needConnectComponents] = false;\r\n\r\n    // 重置 state\r\n    clearStore(Store, [...defaultKeysToPreserve, 'server', 'routing']);\r\n\r\n    // 渲染生命周期: beforeDataToStore\r\n    await beforeDataToStore({\r\n        ctx,\r\n        store: Store,\r\n        localeId: LocaleId,\r\n        callback: lifecycle.beforeDataToStore\r\n    });\r\n\r\n    // 执行所有匹配到的组件的自定义的静态生命周期\r\n    const { title, metaHtml, reduxHtml } = await executeComponentsLifecycle({\r\n        store: Store,\r\n        renderProps,\r\n        ctx\r\n    });\r\n\r\n    // 渲染生命周期: afterDataToStore\r\n    await afterDataToStore({\r\n        ctx,\r\n        store: Store,\r\n        localeId: LocaleId,\r\n        callback: lifecycle.afterDataToStore\r\n    });\r\n\r\n    // SSR\r\n    const reactHtml = renderToString(\r\n        <RootIsomorphic store={Store} {...renderProps} />\r\n    );\r\n    // console.log({\r\n    //     // __KOOT_SSR__,\r\n    //     // thisTemplateInjectCache,\r\n    //     // thisEntrypoints, thisFilemap,\r\n    //     thisStyleMap,\r\n    //     // templateInject,\r\n    //     // proxyRequestOrigin,\r\n    // })\r\n    // const stylesHtml = Object.keys(thisStyleMap)\r\n    //     .filter(id => typeof thisStyleMap[id].css === 'string')\r\n    //     .map(id => `<style id=\"${id}\">${thisStyleMap[id].css}</style>`)\r\n    //     .join('')\r\n    const stylesHtml = Object.keys(styleMap)\r\n        .filter(\r\n            id =>\r\n                typeof styleMap[id].css === 'string' && styleMap[id].css !== ''\r\n        )\r\n        .map(\r\n            id =>\r\n                `<style ${__STYLE_TAG_MODULE_ATTR_NAME__}=\"${id}\">${styleMap[id].css}</style>`\r\n        )\r\n        .join('');\r\n    // console.log('result thisStyleMap', thisStyleMap)\r\n\r\n    // 渲染 EJS 模板\r\n    const inject = validateInject({\r\n        injectCache: thisTemplateInjectCache,\r\n        filemap: thisFilemap,\r\n        entrypoints: thisEntrypoints,\r\n        localeId: LocaleId,\r\n        title,\r\n        metaHtml,\r\n        reactHtml,\r\n        stylesHtml,\r\n        reduxHtml,\r\n        SSRState: {\r\n            ...i18nGetSSRState()\r\n        },\r\n        needInjectCritical: isNeedInjectCritical(template)\r\n    });\r\n    if (LocaleId) {\r\n        // i18n 启用时: 添加其他语种页面跳转信息的 meta 标签\r\n        inject.metas += i18nGenerateHtmlRedirectMetas({\r\n            ctx,\r\n            proxyRequestOrigin,\r\n            localeId: LocaleId\r\n        });\r\n    }\r\n\r\n    /** @type {String} HTML 结果 */\r\n    let body = renderTemplate({\r\n        template,\r\n        inject: Object.assign({\r\n            ...inject,\r\n            ...templateInject\r\n        }),\r\n        store: Store,\r\n        ctx\r\n    });\r\n\r\n    // 结果写入缓存\r\n    if (__DEV__) {\r\n        if (injectCacheKeys) {\r\n            for (const k of Object.values(injectCacheKeys)) {\r\n                delete thisTemplateInjectCache[k];\r\n            }\r\n        }\r\n\r\n        // 将结果中指向 webpack-dev-server 的 URL 转换为指向本服务器的代理地址\r\n        // 替换 localhost 为 origin，以允许外部请求访问\r\n        const origin = ctx.originTrue.split('://')[1];\r\n        // origin = origin.split(':')[0]\r\n        body = body.replace(\r\n            /:\\/\\/localhost:([0-9]+)/gm,\r\n            `://${origin}/${publicPathPrefix}`\r\n        );\r\n    }\r\n\r\n    // React SSR\r\n    ssrComplete({\r\n        body\r\n    });\r\n};\r\n\r\n/**\r\n * 初始化 SSR 配置\r\n * @param {*} i18nEnabled\r\n */\r\nconst initConfig = async i18nEnabled => {\r\n    const LocaleId = __DEV__ ? global.__KOOT_LOCALEID__ : __KOOT_LOCALEID__;\r\n\r\n    const { server: serverConfig = {} } = kootConfig;\r\n\r\n    const config = {};\r\n\r\n    // 决定路由配置 (每次请求需重新生成)\r\n    config.routerConfig = await validateRouterConfig(kootConfig.router);\r\n\r\n    if (typeof i18nEnabled === 'undefined') i18nEnabled = Boolean(LocaleId);\r\n\r\n    config.lifecycle = {};\r\n    if (typeof serverConfig.onRender === 'function') {\r\n        config.lifecycle.beforeDataToStore = serverConfig.onRender;\r\n    } else if (typeof serverConfig.onRender === 'object') {\r\n        Object.keys(serverConfig.onRender).forEach(key => {\r\n            config.lifecycle[key] = serverConfig.onRender[key];\r\n        });\r\n    }\r\n\r\n    return config;\r\n};\r\n\r\nif (!__DEV__)\r\n    ssr().catch(err => {\r\n        __KOOT_SSR__.ssrComplete({\r\n            error: err\r\n        });\r\n        console.error(err);\r\n        throw err;\r\n    });\r\n\r\nexport default ssr;\r\n","/**\r\n * Webpack 打包相关的常量，包括：\r\n * - 文件名\r\n * - 代码中使用的临时常量名\r\n * - `koot.config.js` 的属性名\r\n * - 其他代码中用到的常量名\r\n */\r\nmodule.exports = {\r\n    // 处理项目配置相关\r\n    keyFileProjectConfigTempFull: '__FILE_PROJECT_CONFIG_TEMP_FULL__',\r\n    keyFileProjectConfigTempPortionServer:\r\n        '__FILE_PROJECT_CONFIG_TEMP_PORTION_SERVER__',\r\n    keyFileProjectConfigTempPortionClient:\r\n        '__FILE_PROJECT_CONFIG_TEMP_PORTION_CLIENT__',\r\n    keyFileProjectConfigTempPortionOtherClient:\r\n        '__FILE_PROJECT_CONFIG_TEMP_PORTION_OTHER_CLIENT__',\r\n    keyKootBaseVersion: '__KOOT_BASE_VERSION__',\r\n    dirConfigTemp: 'logs/tmp/config',\r\n    filenameProjectConfigTempFull: 'full.*.js',\r\n    filenameProjectConfigTempPortionServer: 'portion.server.*.js',\r\n    filenameProjectConfigTempPortionClient: 'portion.client.*.js',\r\n    filenameProjectConfigTempPortionOtherClient: 'portion.client-other.*.js',\r\n    propertiesToExtract: [\r\n        ['name', ''],\r\n        ['type', 'react'],\r\n        ['template', ''],\r\n        ['templateInject', ''],\r\n        ['routes', ''],\r\n        ['historyType', ''],\r\n        ['store', ''],\r\n        ['cookiesToStore', ''],\r\n        ['client', {}],\r\n        ['server', {}]\r\n    ],\r\n    typesSPA: ['spa', 'reactspa', 'react-spa'],\r\n\r\n    // 打包 DLL 相关\r\n    keyConfigBuildDll: '__BUILD_DLL__',\r\n    filenameDll: '.dll.js',\r\n    filenameDllManifest: '.dll.manifest.json',\r\n    dirDll: 'dev-dll',\r\n\r\n    // 其他项目配置项名\r\n    keyConfigQuiet: '__QUIET__',\r\n    keyConfigOutputPathShouldBe: '__OUTPUT_PATH_SHOULD_BE__',\r\n    keyConfigWebpackSPATemplateInject: '__SPA_TEMPLATE_INJECT__',\r\n    keyConfigClientAssetsPublicPath: '__CLIENT_ASSETS_PUBLIC_PATH__',\r\n    keyConfigClientServiceWorkerPathname: '__CLIENT_SERVICE_WORKER_PATHNAME__',\r\n    WEBPACK_OUTPUT_PATH: '__WEBPACK_OUTPUT_PATH',\r\n    CLIENT_ROOT_PATH: '__CLIENT_ROOT_PATH',\r\n\r\n    // 自定义 chunk\r\n    chunkNameExtractCss: '__KOOT__EXTRACT__CSS__',\r\n    chunkNameExtractCssForImport: '__KOOT__EXTRACT__CSS__NO__PUBLIC__PATH__',\r\n    chunkNameClientRunFirst: '__KOOT__CLIENT__RUN__FIRST__',\r\n\r\n    // [开发环境] 临时文件名\r\n    filenameWebpackDevServerPortTemp: '.dev_webpack-dev-server_port',\r\n    filenameBuilding: '.koot-building',\r\n    filenameBuildFail: '.koot-build-fail',\r\n    filenameSPATemplateInjectJS: '.spa-template-inject.LOCALEID.js',\r\n\r\n    // [生产环境] 文件名\r\n    filenameCurrentBundle: '.koot-current',\r\n\r\n    // 标签属性\r\n    styleTagGlobalAttributeName: 'data-koot-global',\r\n    styleTagModuleAttributeName: 'data-koot-module',\r\n    scriptTagEntryAttributeName: 'data-koot-entry',\r\n\r\n    // 模板中的一些判断阈值\r\n    /**\r\n     * @type {number} 全局 CSS 抽出总结果文件尺寸阈值\r\n     * - 如果超过这个值，会采用 <link> 引用的方式\r\n     * - 如果小于等于这个值，直接将文件内容写入 HTML\r\n     */\r\n    thresholdStylesExtracted: 50 * 1000,\r\n    /**\r\n     * @type {number} run-first 入口的文件尺寸阈值\r\n     * - 如果超过这个值，会采用 <script> 引用的方式\r\n     * - 如果小于等于这个值，直接将文件内容写入 HTML\r\n     */\r\n    thresholdScriptRunFirst: 10 * 1000\r\n};\r\n","module.exports = __CLIENT__\r\n    ? {}\r\n    : {\r\n          needConnectComponents: '__NEED_CONNECT_COMPONENTS__'\r\n      };\r\n","module.exports = {\r\n    __KOOT_INJECT_ATTRIBUTE_NAME__: 'koot-inject',\r\n    __KOOT_INJECT_METAS_START__: 'koot-inject-metas-start',\r\n    __KOOT_INJECT_METAS_END__: 'koot-inject-metas-end',\r\n\r\n    // hl 这个参数名是参考了Instargram\r\n    changeLocaleQueryKey: 'hl',\r\n\r\n    sessionStoreKey: '__KOOT_SESSION_STORE__'\r\n};\r\n","/**\r\n * [开发环境] 特殊的请求 URI\r\n */\r\nmodule.exports = {\r\n    dll: '/__koot_dev_dll',\r\n    serviceWorker: `/__KOOT_DEV_SERVICE_WORKER.${\r\n        process.env.KOOT_PROJECT_NAME\r\n            ? encodeURIComponent(process.env.KOOT_PROJECT_NAME)\r\n            : '_'\r\n    }.js`\r\n};\r\n","/**\r\n * 默认的入口\r\n * \r\n * @module koot/defaults/entrypoints\r\n */\r\n\r\nmodule.exports = [\r\n    'client',\r\n]\r\n","module.exports = {\r\n    publicPathPrefix: '__koot_webpack_dev_server__',\r\n    entryClientHMR: 'webpack-dev-server-client',\r\n\r\n    serviceWorkerFilename: '__KOOT_DEV_SERVICE_WORKER__.js',\r\n\r\n    hmrOptions: {\r\n        // multiStep: true,\r\n        // fullBuildTimeout: process.env.WEBPACK_BUILD_TYPE === 'spa' ? 500 : undefined,\r\n        // requestTimeout: process.env.WEBPACK_BUILD_TYPE === 'spa' ? undefined : 1000\r\n    }\r\n};\r\n","export const I18N_INIT = '@@KOOT@@I18N_INIT'\r\nexport const I18N_SET_LOCALES = '@@KOOT@@I18N_SET_LOCALES'\r\n","/**\r\n * 从当前的 Redux state 中获取语言列表字符串\r\n * 如果 uri search 中存在 fb_locale，将该值放在第一位\r\n * \r\n * @param {object} state 当前的 Redux state\r\n * \r\n * @returns {string} 语言列表，使用分号(;)分割\r\n */\r\nexport const getLanguagelistFromState = ({\r\n    server = {},\r\n    routing\r\n}) => {\r\n    const fb_locale = (\r\n        routing &&\r\n        routing.locationBeforeTransitions &&\r\n        routing.locationBeforeTransitions.query\r\n    ) ? routing.locationBeforeTransitions.query.fb_locale : null\r\n\r\n    let lang = server.lang\r\n    if (fb_locale) lang = fb_locale + ';' + lang\r\n\r\n    return lang || ''\r\n}\r\n\r\nexport default getLanguagelistFromState\r\n","const isI18nEnabled = require('./is-enabled')\r\n\r\nlet locales\r\n\r\n/**\r\n * 获取 i18n 配置数组\r\n * @returns {Array}\r\n */\r\nmodule.exports = () => {\r\n    if (!Array.isArray(locales)) {\r\n        if (isI18nEnabled()) {\r\n            locales = JSON.parse(process.env.KOOT_I18N_LOCALES) || []\r\n        } else {\r\n            locales = []\r\n        }\r\n    }\r\n\r\n    return locales\r\n}\r\n","const isI18nEnabled = require('./is-enabled');\r\n\r\n/**\r\n * 获取当前多语言配置类型\r\n * @returns {String}\r\n */\r\nmodule.exports = () =>\r\n    isI18nEnabled()\r\n        ? JSON.parse(process.env.KOOT_I18N_TYPE) || 'default'\r\n        : undefined;\r\n","/**\r\n * 检查当前项目是否开启多语言支持\r\n * @returns {Boolean}\r\n */\r\nconst isI18nEnabled = () => {\r\n    if (!JSON.parse(process.env.KOOT_I18N))\r\n        return false\r\n    return true\r\n}\r\nmodule.exports = isI18nEnabled\r\n","const getLocalesConfig = require('./get-locales-config')\r\n\r\nlet result\r\n\r\n/**\r\n * 获取 i18n 语种列表\r\n * @returns {Array}\r\n */\r\nmodule.exports = (() => {\r\n    if (!Array.isArray(result)) {\r\n        result = getLocalesConfig()\r\n        result = result.map(l => l[0])\r\n\r\n        if (!result.length)\r\n            result = ['']\r\n    }\r\n\r\n    return result\r\n})()\r\n","/* global __KOOT_SSR__:false, __KOOT_SSR_STATE__:false */\r\nconst __devLocales = {};\r\n\r\n/**\r\n * 根据当前环境，返回语言包对象的引用\r\n * - 客户端: 当前语种的语言包对象 (仅当多语言类型为 `store` 时)\r\n * - 服务器端: 所有语种语言包合集对象\r\n * @returns {Object}\r\n */\r\nconst getLocalesObject = () => {\r\n    if (__SERVER__) {\r\n        if (__DEV__) {\r\n            return __devLocales;\r\n        } else if (typeof __KOOT_SSR__ === 'object')\r\n            return __KOOT_SSR__.locales;\r\n    }\r\n    if (__CLIENT__) {\r\n        if (typeof __KOOT_SSR_STATE__ === 'object') {\r\n            return __KOOT_SSR_STATE__.locales;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * @type {Object}\r\n * 语言包对象\r\n * - 客户端: 当前语种的语言包对象 (仅当多语言类型为 `store` 时)\r\n * - 服务器端: 所有语种语言包合集对象\r\n */\r\nexport const locales = (() => getLocalesObject() || {})();\r\n\r\nexport const setLocales = (newLocales = {}) => {\r\n    // const obj = getLocalesObject()\r\n    if (locales) Object.assign(locales, newLocales);\r\n    // console.log({ newLocales, obj, locales, 'global.__KOOT_SSR__': global.__KOOT_SSR__ })\r\n    return locales;\r\n};\r\n\r\nexport default locales;\r\n","import {\r\n    actionInit\r\n    // actionLocales\r\n} from '../redux';\r\n\r\nexport default ({ store }) => {\r\n    // console.log(1)\r\n\r\n    if (typeof store !== 'object' && typeof store.getState !== 'function')\r\n        return;\r\n\r\n    store.dispatch(actionInit(store.getState()));\r\n    // if (JSON.parse(process.env.KOOT_I18N_TYPE) === 'store')\r\n    //     store.dispatch(actionLocales(store.getState()))\r\n\r\n    // console.log(2)\r\n};\r\n","/**\r\n * 根据输入的语言列表字符串，返回语言列表array\r\n * \r\n * @param {string} langList 语言列表字符串，eg: zh-CN,zh;q=0.8,en;q=0.6\r\n * \r\n * @returns {array} 语言列表\r\n */\r\nexport default langList =>\r\n    langList\r\n        .split(',')\r\n        .map(value => value.split(';')[0])\r\n","import parseLanguageList from './parse-language-list'\r\n\r\nimport availableLocaleIds from './locale-ids'\r\n\r\n/**\r\n * 检查单项，如果和availableLocales内的项目有匹配，返回匹配，否则返回null\r\n * @param {string} input 检查项\r\n * @returns 匹配的 localeId 或 null\r\n */\r\nconst checkItem = (input) => {\r\n    let id\r\n\r\n    // input = input.toLowerCase().replace(/_/g, '-')\r\n\r\n    availableLocaleIds.some(_localeId => {\r\n        if (_localeId == input)\r\n            id = _localeId\r\n        return id\r\n    })\r\n\r\n    const parseSeg = (id, localeId, str) => {\r\n        if (id) return id\r\n\r\n        const seg = localeId.split(str)\r\n\r\n        if (!id) {\r\n            availableLocaleIds.some(_localeId => {\r\n                if (_localeId == seg[0] + '-' + seg[seg.length - 1])\r\n                    id = _localeId\r\n                return id\r\n            })\r\n        }\r\n\r\n        if (!id) {\r\n            availableLocaleIds.some(_localeId => {\r\n                if (_localeId == seg[0])\r\n                    id = _localeId\r\n                return id\r\n            })\r\n        }\r\n\r\n        return id || null\r\n    }\r\n\r\n    id = parseSeg(id, input, '-')\r\n\r\n    return id || null\r\n}\r\n\r\n/**\r\n * 根据输入内容返回availableLocales内匹配的语言包ID(localeId)\r\n * 如果没有匹配，返回availableLocales的第一项\r\n * 注：仅为返回，没有赋值操作\r\n * \r\n * @param {string|array} input \r\n * \r\n * @returns 匹配的语言包ID localeId 或 availableLocaleIds[0]\r\n */\r\nconst parseLocaleId = (input) => {\r\n\r\n    // 检查是否包含分号，如果是，按语言列表处理为array\r\n    // eg: zh-CN,zh;q=0.8,en;q=0.6\r\n    if (typeof input === 'string' && input.indexOf(';') > -1)\r\n        input = parseLanguageList(input)\r\n\r\n    // 检查是否为array\r\n    if (Array.isArray(input)) {\r\n        let id\r\n\r\n        input.some(thisId => {\r\n            id = checkItem(thisId)\r\n            return id\r\n        })\r\n\r\n        return id || availableLocaleIds[0]\r\n    }\r\n\r\n    else if (!input && typeof navigator !== 'undefined')\r\n        return parseLocaleId(navigator.languages || navigator.language || navigator.browserLanguage || navigator.systemLanguage || navigator.userLanguage || availableLocaleIds[0])\r\n\r\n    else if (input)\r\n        return checkItem(input) || availableLocaleIds[0]\r\n\r\n    return availableLocaleIds[0]\r\n}\r\n\r\nexport default parseLocaleId\r\n","import parseLanguageList from '../parse-language-list'\r\nimport getLanguagelistFromState from '../get-language-list-from-state'\r\nimport parseLocaleId from '../parse-locale-id'\r\n\r\n// import locales from '../locales'\r\nimport { I18N_INIT/*, I18N_SET_LOCALES*/ } from '../action-types'\r\n\r\n/**\r\n * Redux reducer: 初始化 localeId\r\n * \r\n * @param {*} state \r\n * @param {*} action\r\n * \r\n * @returns {*} state\r\n */\r\nexport const reducerLocaleId = (state = null, action) => {\r\n    switch (action.type) {\r\n        case I18N_INIT:\r\n            return action.localeId\r\n    }\r\n    return state\r\n}\r\n\r\n\r\n// /**\r\n//  * Redux reducer: 初始化 locales\r\n//  * \r\n//  * @param {*} state \r\n//  * @param {*} action\r\n//  * \r\n//  * @returns {*} state\r\n//  */\r\n// export const reducerLocales = (state = {}, action) => {\r\n//     switch (action.type) {\r\n//         case I18N_SET_LOCALES:\r\n//             return Object.assign({}, state, action.locales)\r\n//     }\r\n//     return state\r\n// }\r\n\r\n/**\r\n * Redux action: 初始化\r\n * \r\n * @param {Object} state \r\n * @returns {Object}\r\n */\r\nexport const actionInit = (state) => {\r\n    // setLocaleId(localeId)\r\n\r\n    const localeId = __SERVER__\r\n        ? init(parseLanguageList(\r\n            (typeof state === 'object') ? getLanguagelistFromState(state) : state\r\n        ), state.localeId)\r\n        : state.localeId\r\n\r\n    // setLocaleId(localeId)\r\n\r\n    return {\r\n        type: I18N_INIT,\r\n        localeId: '' + localeId\r\n    }\r\n}\r\n\r\n// /**\r\n//  * Redux action: 设置语言包内容对象\r\n//  * \r\n//  * @returns {Object}\r\n//  */\r\n// export const actionLocales = (state) => {\r\n//     return {\r\n//         type: I18N_SET_LOCALES,\r\n//         locales: locales[state.localeId]\r\n//     }\r\n// }\r\n\r\n/**\r\n * 服务器环境：根据语言列表，初始化i18n，获得并赋值 localeId\r\n * \r\n * @param {array|string} langList 语言列表\r\n * \r\n * @returns (如果已初始化)locales[localeId]\r\n */\r\nconst init = (langList = [], localeId) => {\r\n    if (__SERVER__) {\r\n        // console.log(locales[localeId])\r\n        if (typeof langList === 'string')\r\n            if (langList.indexOf(';') > -1)\r\n                langList = parseLanguageList(langList)\r\n            else\r\n                return init([langList], localeId)\r\n\r\n        const parsed = parseLocaleId(langList)\r\n        // if (parsed) setLocaleId(parsed)\r\n        // else setLocaleId(localeId)\r\n\r\n        if (parsed) return parsed\r\n        return localeId\r\n\r\n        // if (locales[localeId]) return locales[localeId]\r\n    }\r\n}\r\n","import { changeLocaleQueryKey } from '../../defaults/defines'\r\nimport availableLocaleIds from '../locale-ids'\r\nimport isI18nEnabled from '../../i18n/is-enabled'\r\n\r\n/**\r\n * 生成用以声明该页面其他语种 URL 的 meta 标签的 HTML 代码\r\n * @param {Object} options \r\n * @param {Object} options.ctx \r\n * @param {Object} options.proxyRequestOrigin Koot 配置: server.proxyRequestOrigin\r\n * @param {String} options.localeId 当前语种\r\n * @returns {String} HTML 代码\r\n */\r\nconst generateHtmlRedirectMetas = ({ ctx, localeId/*, proxyRequestOrigin*/ }) => {\r\n    if (!isI18nEnabled())\r\n        return ''\r\n\r\n    // let { href, origin } = ctx\r\n    // if (typeof proxyRequestOrigin.protocol === 'string') {\r\n    //     origin = origin.replace(/^http:\\/\\//, `${proxyRequestOrigin.protocol}://`)\r\n    //     href = href.replace(/^http:\\/\\//, `${proxyRequestOrigin.protocol}://`)\r\n    // }\r\n    const {\r\n        hrefTrue: href,\r\n        originTrue: origin\r\n    } = ctx\r\n\r\n    const isUseRouter = process.env.KOOT_I18N_URL_USE === 'router'\r\n\r\n    let html = availableLocaleIds//getLocaleIds()\r\n        .filter(thisLocaleId => thisLocaleId !== localeId)\r\n        .map(l => {\r\n\r\n            let thisHref = ''\r\n\r\n            if (isUseRouter) {\r\n                thisHref = origin\r\n                    + href\r\n                        .replace(new RegExp(`^${origin}`), '')\r\n                        .replace(new RegExp(`^${localeId}`), l)\r\n                        .replace(new RegExp(`^/${localeId}`), '/' + l)\r\n            } else {\r\n                thisHref = (() => {\r\n                    if (ctx.query[changeLocaleQueryKey] === '') {\r\n                        return href.replace(\r\n                            new RegExp(`${changeLocaleQueryKey}=`),\r\n                            `${changeLocaleQueryKey}=${l}`\r\n                        )\r\n                    }\r\n                    if (typeof ctx.query[changeLocaleQueryKey] === 'string')\r\n                        return href.replace(\r\n                            new RegExp(`${changeLocaleQueryKey}=[a-zA-Z-_]+`),\r\n                            `${changeLocaleQueryKey}=${l}`\r\n                        )\r\n                    return href + (ctx.querystring ? `&` : (\r\n                        href.substr(href.length - 1) === '?'\r\n                            ? ''\r\n                            : `?`\r\n                    )) + `${changeLocaleQueryKey}=${l}`\r\n                })()\r\n            }\r\n\r\n            if (__DEV__) thisHref = thisHref.replace('://localhost', '://127.0.0.1')\r\n            return `<link rel=\"alternate\" hreflang=\"${l}\" href=\"${thisHref}\" />`\r\n        })\r\n        .join('')\r\n\r\n    if (isUseRouter) {\r\n        html += `<base href=\"/${localeId}\">`\r\n    }\r\n\r\n    return html\r\n}\r\n\r\nexport default generateHtmlRedirectMetas\r\n","// import cookie from 'cookie'\r\nimport { changeLocaleQueryKey } from '../../defaults/defines'\r\nimport availableLocaleIds from '../locale-ids'\r\nimport parseLocaleId from '../parse-locale-id'\r\nimport setCookie from '../set-cookie'\r\nimport isI18nEnabled from '../is-enabled'\r\n\r\n/**\r\n * 根据 KOA Context 获取语种ID\r\n * @param {Object} ctx KOA Context\r\n * @returns {String} 匹配到的或当前项目默认语种ID\r\n */\r\nconst getLangFromCtx = (ctx) => {\r\n    if (!isI18nEnabled())\r\n        return ''\r\n\r\n    // const localeIds = getLocaleIds()\r\n\r\n    // 根据项目设置，从 URL 中抽取语种 ID\r\n    if (process.env.KOOT_I18N_URL_USE === 'router') {\r\n        let pathname = ctx.path\r\n        if (pathname.substr(0, 1) === '/') pathname = pathname.substr(1)\r\n        pathname = pathname.split('/')\r\n        if (availableLocaleIds.includes(pathname[0]))\r\n            return pathname[0]\r\n    } else {\r\n        if (ctx.query[changeLocaleQueryKey]) {\r\n            if (availableLocaleIds.includes(ctx.query[changeLocaleQueryKey]))\r\n                return ctx.query[changeLocaleQueryKey]\r\n            ctx.redirect(ctx.url\r\n                .replace(new RegExp(`(\\\\?|&)${changeLocaleQueryKey}=(.+)$`), '')\r\n                .replace(new RegExp(`(\\\\?|&)${changeLocaleQueryKey}=(.+)&`), '')\r\n            )\r\n            return availableLocaleIds[0]\r\n        }\r\n    }\r\n\r\n    // 如果上一步没有结果，从 COOKIE 中获取\r\n    // const cookies = cookie.parse(ctx.request.header.cookie || '')\r\n    // if (cookies[process.env.KOOT_I18N_COOKIE_KEY] && cookies[process.env.KOOT_I18N_COOKIE_KEY] !== 'null')\r\n    //     return cookies[process.env.KOOT_I18N_COOKIE_KEY]\r\n    const cookieValue = ctx.cookies.get(process.env.KOOT_I18N_COOKIE_KEY)\r\n    if (cookieValue && availableLocaleIds.includes(cookieValue)) {\r\n        return cookieValue\r\n    }\r\n\r\n    // console.log('ctx.cookies.get(process.env.KOOT_I18N_COOKIE_KEY)', cookieValue)\r\n    // 如果上一步没有结果，从请求 headers 中获取\r\n    if (ctx.header['accept-language']) {\r\n        // const acceptLanguage = ctx.header['accept-language']\r\n        // const acceptLanguages = acceptLanguage.split(',').map(str => str.split(';')[0])\r\n        // console.log('acceptLanguage', acceptLanguage)\r\n        // console.log('acceptLanguages', acceptLanguages)\r\n        // console.log('parsed locale id', parseLocaleId(acceptLanguage))\r\n        const localeId = parseLocaleId(ctx.header['accept-language'])\r\n        if (localeId)\r\n            return setLocale(localeId, ctx)\r\n    }\r\n\r\n    // 如果上一步没有结果，返回项目默认语种\r\n    return setLocale(availableLocaleIds[0], ctx)\r\n}\r\n\r\nexport default getLangFromCtx\r\n\r\n/**\r\n * 服务器环境: 设置 cookie\r\n * @param {*} localeId \r\n */\r\nconst setLocale = (localeId, ctx) => {\r\n    setCookie(localeId, ctx)\r\n    return localeId\r\n}\r\n","/* global __KOOT_SSR__:false */\r\n\r\n/**\r\n * 返回多语言相关的 SSR 状态\r\n * @returns {Object}\r\n */\r\nconst getSSRState = () => {\r\n    if (!__SERVER__) return {};\r\n    if (__DEV__)\r\n        return {\r\n            localeId: global.__KOOT_SSR__.LocaleId,\r\n            locales:\r\n                JSON.parse(process.env.KOOT_I18N_TYPE) === 'store'\r\n                    ? global.__KOOT_SSR__.locales[\r\n                          global.__KOOT_SSR__.LocaleId\r\n                      ] || {}\r\n                    : {}\r\n        };\r\n\r\n    if (typeof __KOOT_SSR__ !== 'object') return {};\r\n\r\n    return {\r\n        localeId: __KOOT_SSR__.LocaleId,\r\n        locales:\r\n            JSON.parse(process.env.KOOT_I18N_TYPE) === 'store'\r\n                ? __KOOT_SSR__.locales[__KOOT_SSR__.LocaleId] || {}\r\n                : {}\r\n    };\r\n};\r\nexport default getSSRState;\r\n","import availableLocaleIds from '../locale-ids'\r\nimport getLangFromCtx from './get-lang-from-ctx'\r\nimport setCookie from '../set-cookie'\r\nimport isI18nEnabled from '../is-enabled'\r\n\r\n/**\r\n * URL 使用 router 方式时，在同构中间件流程的匹配 react 路由之前，检查是否需要跳转\r\n * 如果需要跳转，此时发送跳转请求\r\n * @param {Object} ctx \r\n * @returns {Boolean} 是否进行跳转\r\n */\r\nconst useRouterRedirect = (ctx) => {\r\n    if (!isI18nEnabled())\r\n        return false\r\n\r\n    if (process.env.KOOT_I18N_URL_USE !== 'router')\r\n        return false\r\n\r\n    let pathname = ctx.path\r\n    if (pathname.substr(0, 1) === '/') pathname = pathname.substr(1)\r\n    pathname = pathname.split('/')\r\n\r\n    if (!availableLocaleIds.includes(pathname[0])) {\r\n        const localeId = getLangFromCtx(ctx)\r\n\r\n        // console.log('lang', lang)\r\n        // console.log('pathname', pathname)\r\n\r\n        pathname.unshift(localeId)\r\n        pathname = '/' + pathname.join('/')\r\n\r\n        // 生成跳转后的地址\r\n        const newpath = ctx.originTrue\r\n            + ctx.hrefTrue\r\n                .replace(new RegExp(`^${ctx.originTrue}`), '')\r\n                .replace(new RegExp(`^${ctx.path}`), pathname)\r\n\r\n        // console.log('newpath', newpath)\r\n        setCookie(localeId, ctx)\r\n        return ctx.redirect(newpath)\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nexport default useRouterRedirect\r\n","/**\r\n * 设置 cookie\r\n * @param {String} localeId\r\n * @param {Object} ctx Koa context\r\n */\r\nmodule.exports = (localeId, ctx) => {\r\n\r\n    const maxDate = 365\r\n    const options = {}\r\n    if (typeof process.env.KOOT_I18N_COOKIE_DOMAIN === 'string' &&\r\n        process.env.KOOT_I18N_COOKIE_DOMAIN) {\r\n        options.domain = process.env.KOOT_I18N_COOKIE_DOMAIN\r\n    }\r\n\r\n    if (__CLIENT__) {\r\n        if (localeId && typeof document !== 'undefined' && typeof document.cookie !== 'undefined') {\r\n            require('js-cookie').set(\r\n                process.env.KOOT_I18N_COOKIE_KEY,\r\n                localeId,\r\n                {\r\n                    expires: maxDate,\r\n                    ...options\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    if (__SERVER__) {\r\n        // TODO: set cookie on server\r\n        // console.log('ctx.host', ctx.host)\r\n        // console.log('ctx.hostname', ctx.hostname)\r\n        // console.log(process.env.KOOT_I18N_COOKIE_KEY, localeId, { domain: ctx.hostname, ...options })\r\n        // ctx.cookies.set(process.env.KOOT_I18N_COOKIE_KEY, localeId, {\r\n        //     domain: ctx.hostname,\r\n        //     maxAge: maxDate * 24 * 60 * 60 * 1000,\r\n        //     signed: false,\r\n        //     ...options\r\n        // })\r\n    }\r\n}\r\n","import get from 'lodash/get';\r\n\r\nimport { localeId } from '../';\r\nimport locales from './locales';\r\n\r\nexport let l = (() => {\r\n    if (__SERVER__) {\r\n        if (__DEV__ && typeof global.__KOOT_SSR__ === 'object') {\r\n            if (typeof global.__KOOT_SSR__.locales === 'object')\r\n                return global.__KOOT_SSR__.locales[localeId];\r\n            return {};\r\n        }\r\n        // console.log({ locales })\r\n        if (typeof locales === 'object') return locales[localeId];\r\n        return {};\r\n    }\r\n    if (JSON.parse(process.env.KOOT_I18N_TYPE) === 'store') return locales;\r\n    return false;\r\n})();\r\n\r\n/**\r\n * 翻译文本\r\n * 语言包中源文本中的 ${replaceKey} 表示此处需要替换，replaceKey 就是传入的 obj 中对应的值\r\n *\r\n * @param {string} key 要翻译的文本 Key\r\n * @param {*object} obj 文本内对应的替换内容\r\n *\r\n * @returns {string} 翻译的文本；如果语言包中没有对应的项，返回 key\r\n */\r\nconst translate = (...args) => {\r\n    let key = '';\r\n    let str;\r\n    let options = {};\r\n    const keys = [];\r\n\r\n    if (__SERVER__ && __DEV__) l = locales[global.__KOOT_LOCALEID__];\r\n\r\n    args.forEach((value, index) => {\r\n        // 如果最后一个参数是 Object，表示为选项\r\n        if (\r\n            index === args.length - 1 &&\r\n            typeof value === 'object' &&\r\n            !Array.isArray(value)\r\n        ) {\r\n            options = value;\r\n            return;\r\n        }\r\n        if (typeof value === 'string' && value.includes('.')) {\r\n            value.split('.').forEach(value => keys.push(value));\r\n            return;\r\n        }\r\n        keys.push(value);\r\n    });\r\n\r\n    const length = keys.length;\r\n\r\n    if (args.length === 1 && typeof args[0] === 'object') {\r\n        /**\r\n         * ! 如果只有一个 arg 且为 Object，直接返回该 Object\r\n         */\r\n        return args[0];\r\n    }\r\n\r\n    if (typeof keys[0] === 'object') {\r\n        /**\r\n         * 第一个值为 Object，通常是客户端情况，后续值依次取前一个 Object 内对应的值\r\n         */\r\n        key = keys[0];\r\n        let hasUnmatched = false;\r\n        for (let i = 1; i < length; i++) {\r\n            // const value = get(key, keys[i]);\r\n            const value = key[keys[i]];\r\n            // console.log(key, value);\r\n            if (typeof value === 'undefined') {\r\n                hasUnmatched = true;\r\n                break;\r\n            } else {\r\n                key = value;\r\n            }\r\n            // if (typeof key[keys[i]] !== 'undefined') key = key[keys[i]];\r\n        }\r\n        if (hasUnmatched) key = keys[length - 1];\r\n    } else if (length === 1) {\r\n        key = keys[0];\r\n    } else {\r\n        for (let i = 0; i < length; i++) {\r\n            if (typeof l === 'object') {\r\n                if (keys[i] !== '') key += `[${JSON.stringify(keys[i])}]`;\r\n            } else {\r\n                key += (i ? '.' : '') + keys[i];\r\n            }\r\n        }\r\n    }\r\n\r\n    // console.log(key);\r\n    // if (__CLIENT__) {\r\n    //     // console.log(localeId)\r\n    //     console.log(localeId, keys, length, key, l);\r\n    // }\r\n\r\n    if (typeof l === 'undefined') {\r\n        str = key;\r\n    } else if (typeof l === 'object') {\r\n        // str = l && typeof l[key] !== 'undefined' ? l[key] : undefined;\r\n        str = get(l, key);\r\n    }\r\n    // const localeId = _self.curLocaleId\r\n\r\n    // if (typeof str === 'undefined' && typeof l === 'object') {\r\n    //     try {\r\n    //         str = get(l, key);\r\n    //         // str = eval('l.' + key);\r\n    //     } catch (e) {}\r\n    // }\r\n\r\n    if (typeof str === 'undefined') str = key;\r\n\r\n    if (typeof str === 'string')\r\n        return str.replace(/\\$\\{([^}]+)\\}/g, (match, p) =>\r\n            typeof options[p] === 'undefined' ? p : options[p]\r\n        );\r\n\r\n    return str;\r\n};\r\nexport default translate;\r\n","import isI18nEnabled from './is-enabled'\r\n\r\n/**\r\n * 根据当前项目配置，对路由对象进行改造\r\n * @param {Object} routes \r\n * @returns {Object} routes\r\n */\r\nconst validateRoutes = (routes = {}) => {\r\n    if (!isI18nEnabled())\r\n        return routes\r\n\r\n    if (process.env.KOOT_I18N_URL_USE === 'router') {\r\n        routes.path = `:localeId`\r\n        return routes\r\n    }\r\n\r\n    return routes\r\n}\r\n\r\nexport default validateRoutes\r\n","/* global\r\n    __KOOT_SSR__: false,\r\n    __KOOT_STORE__: false,\r\n    __KOOT_HISTORY__: false,\r\n    __KOOT_LOCALEID__: false,\r\n    __KOOT_CTX__: false,\r\n*/\r\n\r\nimport isRenderSafe from './React/is-render-safe';\r\n\r\n// ============================================================================\r\n\r\n/**\r\n * 手动创建 Redux Store 时需要的相关对象\r\n * @type {Object}\r\n */\r\nimport * as _reduxForCreateStore from './React/redux';\r\n\r\nconst { createStore, ...reduxForCreateStore } = _reduxForCreateStore;\r\nexport { createStore, reduxForCreateStore };\r\n\r\n/**\r\n * 通用的高阶组件/方法的装饰器\r\n * @type {Function}\r\n */\r\nexport { default as extend } from '__KOOT_HOC_EXTEND__';\r\n\r\n// ============================================================================\r\n\r\nexport const getLocaleId = () => {\r\n    if (__CLIENT__) return window.__KOOT_LOCALEID__ || '';\r\n    if (__SERVER__) {\r\n        if (__DEV__) return global.__KOOT_LOCALEID__;\r\n        if (typeof __KOOT_LOCALEID__ === 'undefined') return '';\r\n        return __KOOT_LOCALEID__ || '';\r\n    }\r\n};\r\nexport const resetLocaleId = () => (localeId = getLocaleId());\r\nexport let localeId = (() => getLocaleId())();\r\n\r\n// ============================================================================\r\n\r\nexport const getStore = () => {\r\n    if (__CLIENT__) return window.__KOOT_STORE__;\r\n    if (__SERVER__) {\r\n        if (__DEV__) return global.__KOOT_STORE__;\r\n        if (typeof __KOOT_STORE__ === 'undefined') return '';\r\n        return __KOOT_STORE__;\r\n    }\r\n};\r\nexport const resetStore = () => (store = getStore());\r\nexport let store = (() => getStore())();\r\n\r\n// ============================================================================\r\n\r\nexport const getHistory = () => {\r\n    if (__CLIENT__) return window.__KOOT_HISTORY__;\r\n    if (__SERVER__) {\r\n        if (__DEV__) return global.__KOOT_HISTORY__;\r\n        if (typeof __KOOT_HISTORY__ === 'undefined') return '';\r\n        return __KOOT_HISTORY__;\r\n    }\r\n};\r\nexport const resetHistory = () => (history = getHistory());\r\nexport let history = (() => getHistory())();\r\n\r\n// ============================================================================\r\n\r\nexport const getCache = localeId => {\r\n    if (!isRenderSafe()) return {};\r\n    if (__CLIENT__) {\r\n        if (typeof window.__KOOT_CACHE__ !== 'object')\r\n            window.__KOOT_CACHE__ = {};\r\n        return window.__KOOT_CACHE__;\r\n    }\r\n    if (__SERVER__) {\r\n        const SSR = __DEV__ ? global.__KOOT_SSR__ : __KOOT_SSR__;\r\n        const cache = SSR.globalCache;\r\n        if (!cache) return {};\r\n        if (localeId === true) return cache.get(getLocaleId());\r\n        if (localeId) return cache.get(localeId) || {};\r\n        return cache.get('__');\r\n    }\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport const getCtx = () => {\r\n    if (__CLIENT__) return undefined;\r\n    if (__DEV__) return global.__KOOT_CTX__;\r\n    if (typeof __KOOT_CTX__ === 'undefined') return undefined;\r\n    return __KOOT_CTX__;\r\n};\r\n\r\n// ============================================================================\r\n\r\nif (__DEV__) {\r\n    global.__KOOT_SSR_SET__ = v => {\r\n        global.__KOOT_SSR__ = v;\r\n    };\r\n    global.__KOOT_SSR_SET_LOCALEID__ = v => {\r\n        global.__KOOT_LOCALEID__ = v;\r\n        localeId = v;\r\n    };\r\n    global.__KOOT_SSR_SET_STORE__ = v => {\r\n        global.__KOOT_STORE__ = v;\r\n        store = v;\r\n    };\r\n    global.__KOOT_SSR_SET_HISTORY__ = v => {\r\n        global.__KOOT_HISTORY__ = v;\r\n        history = v;\r\n    };\r\n    global.__KOOT_SSR_SET_CTX__ = v => {\r\n        global.__KOOT_CTX__ = v;\r\n    };\r\n    // if (__CLIENT__) {\r\n    //     window.__DEV_KOOT_GET_STYLES__ = getStyles;\r\n    // }\r\n}\r\n","/**\r\n * 生成错误信息\r\n * @param {String} msg\r\n * @returns {String}\r\n */\r\nconst errorMsg = (type, msg) => {\r\n    if (typeof type === 'string' && typeof msg === 'string')\r\n        return `${type}::${msg}`\r\n    return type\r\n}\r\n\r\nmodule.exports = errorMsg\r\n","const itemsBlacklist = ['localeId', 'realtimeLocation', 'routing', 'server'];\r\n\r\n/**\r\n * 过滤 state，将黑名单内的项目删除，并返回过滤后的 state\r\n *\r\n * 黑名单中包括：\r\n * - `localeId`\r\n * - `realtimeLocation`\r\n * - `routing`\r\n * - `server`\r\n *\r\n * @param {Object} state\r\n * @returns {Object}\r\n */\r\nconst filter = oldState =>\r\n    itemsBlacklist.reduce((state, item) => {\r\n        const { [item]: _, ...rest } = state;\r\n        return rest;\r\n    }, oldState);\r\n\r\nmodule.exports = filter;\r\n","const path = require('path')\r\nconst getCwd = require('../utils/get-cwd')\r\n\r\n/**\r\n * _仅针对开发环境_ 获取开发环境临时目录\r\n * @param {String} [cwd]\r\n * @param {String} [type]\r\n * @returns {String} 如果提供 `type`，则返回对应类型的目录\r\n */\r\nmodule.exports = (cwd = getCwd(), type = \"\") => path.resolve(\r\n    cwd, 'logs/dev', type ? `.${type}` : ''\r\n)\r\n","/**\r\n * 获取客户端打包结果 public 目录名\r\n * @returns {String}\r\n */\r\nmodule.exports = () => process.env.WEBPACK_BUILD_TYPE === 'spa' ? '' : `public`\r\n","const path = require('path')\r\n\r\nconst getDirDistPublicFoldername = require('./get-dir-dist-public-foldername')\r\n\r\n/**\r\n * 获取打包结果基础目录\r\n * 最终的打包目录是该目录下的 includes (默认情况)\r\n * @param {String} dist 打包结果目录\r\n * @param {Number} bundleVersionsKeep \r\n * @returns {String}\r\n */\r\nmodule.exports = (dist, bundleVersionsKeep) => {\r\n    if (!result) {\r\n        const base = path.resolve(dist, getDirDistPublicFoldername())\r\n        if (process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER) {\r\n            // console.log({\r\n            //     result,\r\n            //     base,\r\n            //     'process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER': process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER\r\n            // })\r\n            result = path.resolve(base, process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER)\r\n        } else if (process.env.WEBPACK_BUILD_TYPE === 'spa') {\r\n            result = base\r\n        } else if (bundleVersionsKeep) {\r\n            process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER = `koot-${Date.now()}`\r\n            result = path.resolve(base, process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER)\r\n        } else {\r\n            result = base\r\n        }\r\n    }\r\n\r\n    return result\r\n}\r\n\r\nlet result\r\n","const chalk = require('chalk')\r\n\r\n/**\r\n * 生成 log 消息内容\r\n * @variation 只提供内容\r\n * @param {String} content 内容\r\n *//**\r\n* 生成 log 消息内容\r\n* @variation 提供标记和内容\r\n* @param {String|Boolean} [mark=\"\"] 标记\r\n* @param {String} content 内容\r\n*//**\r\n * 生成 log 消息内容\r\n* @variation 提供标记、类型和内容\r\n* @param {String|Boolean} [mark=\"\"] 标记\r\n* @param {String} [type=\"\"] 操作类型\r\n* @param {String} content 内容\r\n*/\r\nconst generateLogMsg = (mark, type, content) => {\r\n    if (typeof mark !== 'undefined' && typeof type === 'undefined' && typeof content === 'undefined')\r\n        return generateLogMsg('', '', mark)\r\n    if (typeof type !== 'undefined' && typeof content === 'undefined')\r\n        return generateLogMsg(mark, '', type)\r\n\r\n    let markColor = 'cyan'\r\n    if (mark === false) mark = ''\r\n    switch (mark.toLowerCase()) {\r\n        case '×':\r\n        case 'x':\r\n        case 'x ':\r\n        case 'error': {\r\n            mark = '× '\r\n            markColor = 'redBright'\r\n            break\r\n        }\r\n        case 'success': {\r\n            mark = '√ '\r\n            markColor = 'green'\r\n            break\r\n        }\r\n        case 'cb':\r\n        case 'callback': {\r\n            mark = '⚑ '\r\n            markColor = 'cyan'\r\n            break\r\n        }\r\n        case 'warning': {\r\n            mark = '! '\r\n            markColor = 'yellowBright'\r\n            break\r\n        }\r\n        case '': {\r\n            break\r\n        }\r\n        default: {\r\n            mark = '  '\r\n        }\r\n    }\r\n\r\n    const typeColor = (() => {\r\n        switch (type) {\r\n            default: return 'yellowBright'\r\n        }\r\n    })()\r\n\r\n    return (mark === '' ? '' : chalk[markColor](mark))\r\n        + chalk[typeColor](`[koot${type ? `/${type}` : ''}] `)\r\n        + content\r\n}\r\n\r\nmodule.exports = generateLogMsg\r\n","/**\r\n * 输出 SSR 时需要的 state 字符串形式结果\r\n * @param {Object} state\r\n * @returns {string}\r\n */\r\nconst getSSRStateString = (state = {}) =>\r\n    `JSON.parse(` +\r\n    `decodeURIComponent(\"${encodeURIComponent(JSON.stringify(state))}\"))`;\r\n\r\nmodule.exports = getSSRStateString;\r\n","/* eslint-disable no-console */\r\n/**\r\n * 命令行 Log\r\n * @variation 1\r\n * @param {String} content 内容\r\n */ /**\r\n * 命令行 Log\r\n * @variation 2\r\n * @param {String} [type=\"\"] 操作类型\r\n * @param {String} content 内容\r\n */ /**\r\n * 命令行 Log\r\n * @variation 3\r\n * @param {String} [mark=\"\"] 标记\r\n * @param {String} [type=\"\"] 操作类型\r\n * @param {String} content 内容\r\n */\r\nmodule.exports = (...args) => {\r\n    console.log(require('./get-log-msg')(...args));\r\n};\r\n","const path = require('path')\r\n\r\n/**\r\n * 从 Webpack compilation 数据中生成文件对应表 (Filemap)\r\n * @param {Object} compilation \r\n * @param {String} [dirRelative] \r\n * @returns {Object} 文件对应表 (Filemap)\r\n */\r\nmodule.exports = (compilation, dirRelative) => {\r\n    if (typeof compilation !== 'object') return undefined\r\n\r\n    const filemap = {}\r\n    const stats = compilation.getStats()\r\n\r\n    for (let id in stats.compilation.chunks) {\r\n        const o = stats.compilation.chunks[id]\r\n        if (typeof o.name === 'undefined' || o.name === null) continue\r\n        if (Array.isArray(o.files)) {\r\n            o.files\r\n                .filter(filename => !/\\.(js|css)\\.map$/i.test(filename))\r\n                .forEach(filename => {\r\n                    const extname = path.extname(filename)\r\n                    const file = o.name + extname\r\n                    if (typeof filemap[file] !== 'string')\r\n                        filemap[file] = process.env.WEBPACK_BUILD_ENV === 'dev'\r\n                            ? filename\r\n                            : (dirRelative ? dirRelative + '/' : '') + filename\r\n                })\r\n        }\r\n    }\r\n\r\n    return filemap\r\n}\r\n","const path = require('path')\r\nconst getDistPath = require('./get-dist-path')\r\nconst getDirDevTmp = require('../libs/get-dir-dev-tmp')\r\n\r\n/**\r\n * 获取打包文件对应表 (chunkmap) 的文件路径\r\n * @param {string} [dist] 打包结果目录，默认为项目指定的路径\r\n * @returns {string}\r\n */\r\nmodule.exports = (dist = getDistPath()) => {\r\n    if (process.env.WEBPACK_BUILD_ENV === 'dev')\r\n        return path.resolve(getDirDevTmp(), '.public-chunkmap.json')\r\n    return path.resolve(dist, '.public-chunkmap.json')\r\n}\r\n","const fs = require('fs-extra');\r\n\r\nconst getIsI18nEnabled = require('../i18n/is-enabled');\r\nconst getI18nType = require('../i18n/get-type');\r\nconst getChunkmapPath = require('./get-chunkmap-path');\r\nconst getDistPath = require('./get-dist-path');\r\n\r\nlet cachedChunkmap;\r\n\r\n/**\r\n * 获取打包文件对应表 (chunkmap)\r\n *\r\n * @param {String} [localeId] 当前语言，默认为当前语言 (i18n开启时) 或未指定 (i18n未开启时)\r\n * @param {Boolean} [getFullResult = false] 仅 i18n 开启时：获取 chunkmap 全文，而非当前语言的片段\r\n * @returns {Object}\r\n */\r\nconst getChunkmap = (localeId, getFullResult = false) => {\r\n    if (localeId === true) return getChunkmap(getFullResult || undefined, true);\r\n\r\n    const isI18nEnabled = getIsI18nEnabled();\r\n\r\n    if (isI18nEnabled && typeof localeId === 'undefined') {\r\n        try {\r\n            localeId = require('../index').localeId;\r\n        } catch (e) {}\r\n    }\r\n\r\n    const i18nType = getI18nType();\r\n    const isI18nDefault = isI18nEnabled && i18nType === 'default';\r\n\r\n    const chunkmap = (() => {\r\n        if (cachedChunkmap) return cachedChunkmap;\r\n\r\n        let chunkmap;\r\n\r\n        if (typeof global.chunkmap === 'object') chunkmap = global.chunkmap;\r\n        try {\r\n            chunkmap = JSON.parse(process.env.WEBPACK_CHUNKMAP);\r\n        } catch (e) {\r\n            chunkmap = false;\r\n        }\r\n        if (typeof chunkmap !== 'object' && typeof getDistPath() === 'string') {\r\n            chunkmap = fs.readJsonSync(getChunkmapPath());\r\n            if (process.env.WEBPACK_BUILD_STAGE === 'server')\r\n                global.chunkmap = chunkmap;\r\n        }\r\n\r\n        if (process.env.WEBPACK_BUILD_ENV === 'prod') cachedChunkmap = chunkmap;\r\n\r\n        return chunkmap;\r\n    })();\r\n\r\n    if (typeof chunkmap === 'object') {\r\n        // let chunkmap = fs.readJsonSync(pathChunckmap)\r\n        if (getFullResult) return chunkmap || {};\r\n        if (isI18nEnabled && isI18nDefault)\r\n            return chunkmap[`.${localeId}`] || {};\r\n    }\r\n\r\n    return chunkmap || {};\r\n};\r\n\r\nmodule.exports = getChunkmap;\r\n","const fs = require('fs-extra');\r\nconst path = require('path');\r\n\r\nconst getI18nType = require('../i18n/get-type');\r\nconst getPublicPath = require('./get-public-dir');\r\nconst getChunkmap = require('./get-chunkmap');\r\n\r\n/**\r\n * 获指定文件在客户端/取浏览器端中的可访问路径\r\n * @param {String} filename 要查找的文件的文件名。根据打包文件对应表 (chunkmap) 查询文件名和实际打包结果文件的对应关系\r\n * @param {String} [localeId] 当前语言\r\n * @param {Boolean} [isPathname = false] 如果标记为 true，表示提供的 filename 为确切的访问地址，无需查询对照表，直接返回结果\r\n * @returns {String|String[]} 浏览器环境中的访问路径、空字符串或包含所有可能结果的 Array\r\n */\r\nconst getFilePath = (filename, localeId, isPathname = false) => {\r\n    // 如果第一个参数为 true，表示标记为 pathname\r\n    if (filename === true)\r\n        return getFilePath(localeId, isPathname || undefined, true);\r\n\r\n    if (typeof localeId === 'undefined') {\r\n        try {\r\n            localeId = require('../index').localeId;\r\n        } catch (e) {}\r\n    }\r\n\r\n    const pathPublic = getPublicPath();\r\n\r\n    const i18nType = getI18nType();\r\n    const isI18nDefault = i18nType === 'default';\r\n    const isDev =\r\n        process.env.WEBPACK_BUILD_ENV === 'dev' ||\r\n        (typeof __DEV__ !== 'undefined' && __DEV__);\r\n    // const localeId = 'zh'\r\n\r\n    // 如果标记为 pathname，直接返回结果\r\n    if (isPathname)\r\n        return (\r\n            pathPublic +\r\n            filename.replace(\r\n                new RegExp(\r\n                    '(^\\\\.\\\\/|^)public\\\\/' +\r\n                        (process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER\r\n                            ? `${process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER}\\\\/`\r\n                            : '')\r\n                ),\r\n                ''\r\n            )\r\n        );\r\n\r\n    const chunkmap = getChunkmap(localeId);\r\n    const regPublicPath = chunkmap['.public']\r\n        ? new RegExp(`(^\\\\.\\\\/|^)${chunkmap['.public']}`)\r\n        : /(^\\.\\/|^)public\\//;\r\n\r\n    /**************************************************************************\r\n     * ┌─┐┌─┐┌┬┐┌┬┐┌─┐┌┐┌  ┌─┐┬ ┬┌┐┌┌─┐┌┬┐┬┌─┐┌┐┌┌─┐\r\n     * │  │ ││││││││ ││││  ├┤ │ │││││   │ ││ ││││└─┐\r\n     * └─┘└─┘┴ ┴┴ ┴└─┘┘└┘  └  └─┘┘└┘└─┘ ┴ ┴└─┘┘└┘└─┘\r\n     *************************************************************************/\r\n\r\n    /**\r\n     * 返回可供客户端/浏览器端使用的访问地址\r\n     * @param {String} pathname\r\n     * @returns {String}\r\n     */\r\n    const getResultPathname = pathname =>\r\n        pathPublic + pathname.replace(regPublicPath, '');\r\n\r\n    /**************************************************************************\r\n     * ┌┬┐┌─┐┌┐ ┬ ┬┌─┐\r\n     *  ││├┤ ├┴┐│ ││ ┬\r\n     * ─┴┘└─┘└─┘└─┘└─┘\r\n     *************************************************************************/\r\n\r\n    // console.log('----------')\r\n    // console.log(filename)\r\n    // console.log(chunkmap)\r\n    // console.log(chunkmap['.files'])\r\n    // console.log(chunkmap['.files'][filename])\r\n    // console.log(regPublicPath)\r\n    // console.log(pathPublic + chunkmap['.files'][filename].replace(regPublicPath, ''))\r\n    // console.log({\r\n    //     regPublicPath,\r\n    //     'process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER': process.env.KOOT_CLIENT_BUNDLE_SUBFOLDER\r\n    // })\r\n    // console.log('----------')\r\n\r\n    /**************************************************************************\r\n     * ┌─┐┬ ┬┌─┐┌─┐┬┌─   ┬   ┬─┐┌─┐┌┬┐┬─┐┬ ┬┌┐┌┌─┐\r\n     * │  ├─┤├┤ │  ├┴┐  ┌┼─  ├┬┘├┤  │ ├┬┘│ ││││└─┐\r\n     * └─┘┴ ┴└─┘└─┘┴ ┴  └┘   ┴└─└─┘ ┴ ┴└─└─┘┘└┘└─┘\r\n     *************************************************************************/\r\n\r\n    // 检查 `.files` 下是否有该文件名的直接对应\r\n    // 如果有，直接返回该结果\r\n    if (\r\n        typeof chunkmap === 'object' &&\r\n        typeof chunkmap['.files'] === 'object' &&\r\n        typeof chunkmap['.files'][filename] === 'string'\r\n    ) {\r\n        return getResultPathname(chunkmap['.files'][filename]);\r\n    }\r\n    if (isDev) {\r\n        const prefix = pathPublic + (isI18nDefault ? localeId : '');\r\n        if (\r\n            typeof chunkmap['.files'] === 'object' &&\r\n            typeof chunkmap['.files'][filename] === 'string'\r\n        )\r\n            return prefix + chunkmap['.files'][filename];\r\n        return prefix + `.${filename}`;\r\n    }\r\n\r\n    /** @type {String} 目标文件的扩展名 */\r\n    const extname = path.extname(filename);\r\n    /** @type {String} 目标文件的文件名（不包括扩展名） */\r\n    const basename = path.basename(filename, extname);\r\n\r\n    // 检查 `.entrypoints` 下是否有该文件的文件名对应（不包括扩展名）\r\n    // 如果有，同时只有一个结果，返回该结果\r\n    // 如果有，同时有多个结果，返回包含所有结果的 Array\r\n    if (Array.isArray(chunkmap['.entrypoints'][basename])) {\r\n        const files = chunkmap['.entrypoints'][basename].filter(\r\n            file => path.extname(file) === extname\r\n        );\r\n        if (files.length === 1) return getResultPathname(files[0]);\r\n        else if (files.length)\r\n            return files.map(file => getResultPathname(file));\r\n    }\r\n\r\n    // 检查 chunkmap 第一级是否有包含该文件的文件名的对应（不包括扩展名）\r\n    // 如果有，直接返回该结果\r\n    if (typeof chunkmap === 'object') {\r\n        let result;\r\n        if (Array.isArray(chunkmap[basename])) {\r\n            chunkmap[basename].some(value => {\r\n                if (path.extname(value) === extname) {\r\n                    result = value;\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n        if (result) return getResultPathname(result);\r\n    }\r\n\r\n    // 如果没有找到 chunkmap 或是 chunkmap 中未找到目标项目，转为过滤文件形式\r\n    if (fs.existsSync(path.resolve(pathPublic, filename))) {\r\n        return '/' + filename;\r\n    }\r\n\r\n    console.warn(\r\n        `File not found:` +\r\n            (isI18nDefault ? `[${localeId}] ` : '') +\r\n            ` ${filename}`\r\n    );\r\n\r\n    return '';\r\n\r\n    // const segs = pathname.split('/').filter(seg => seg !== '/')\r\n    // const file = segs.pop()\r\n    // const dir = segs.length ? `${segs.join('/')}/` : ''\r\n    // return `/${dir}${\r\n    //     require('./filterTargetFile')(\r\n    //         require('./readFilesInPath')(`./${distPathname}/public/${appName ? `${appName}/` : ''}${dir}`),\r\n    //         file\r\n    //     )}`\r\n};\r\n\r\nmodule.exports = getFilePath;\r\n// module.exports = (pathname, pathDist = 'dist') => {\r\n//     if (__DEV__) {\r\n//         return `http://localhost:${process.env.WEBPACK_DEV_SERVER_PORT || '3001'}/dist/${pathname}`\r\n//     } else {\r\n//         const segs = pathname.split('/').filter(seg => seg !== '/')\r\n//         const file = segs.pop()\r\n//         const dir = segs.length ? `${segs.join('/')}/` : ''\r\n//         return `/${dir}${\r\n//             require('./filterTargetFile')(\r\n//                 require('./readFilesInPath')(`./${pathDist}/public/${dir}`),\r\n//                 file\r\n//             )}`\r\n//     }\r\n// }\r\n","/**\r\n * 获取运行目录\r\n * @returns {String}\r\n */\r\nmodule.exports = () => {\r\n    // console.log('process.env.KOOT_CWD', process.env.KOOT_CWD)\r\n    // console.log('process.cwd()', process.cwd())\r\n    return typeof process.env.KOOT_CWD === 'string'\r\n        ? process.env.KOOT_CWD\r\n        : process.cwd()\r\n}\r\n","const fs = require('fs-extra');\r\nconst path = require('path');\r\nconst getCwd = require('./get-cwd');\r\n\r\nlet p;\r\n\r\n/**\r\n * 获取打包结果路径\r\n * @returns {String} 打包结果路径 (硬盘绝对路径)\r\n */\r\nmodule.exports = () => {\r\n    // console.log('global.KOOT_DIST_DIR', global.KOOT_DIST_DIR)\r\n    if (typeof p !== 'string') {\r\n        p =\r\n            typeof global.KOOT_DIST_DIR === 'string'\r\n                ? global.KOOT_DIST_DIR\r\n                : (() => {\r\n                      let cwd = getCwd();\r\n                      let parent = path.resolve(cwd, '..');\r\n                      let result = path.resolve(cwd, process.env.KOOT_DIST_DIR);\r\n                      while (!fs.existsSync(result) && cwd !== parent) {\r\n                          cwd = parent;\r\n                          parent = path.resolve(cwd, '..');\r\n                          result = path.resolve(cwd, process.env.KOOT_DIST_DIR);\r\n                      }\r\n                      if (fs.existsSync(result)) return result;\r\n                      return path.resolve(cwd, process.env.KOOT_DIST_DIR);\r\n                  })();\r\n    }\r\n    return p;\r\n};\r\n","// require('./init-node-env')()\r\n\r\n/**\r\n * 获取当前环境的服务器端口号\r\n * @param {Object|Number} port \r\n * @param {String} [env=process.env.WEBPACK_BUILD_ENV] \r\n * @returns {Number}\r\n */\r\nmodule.exports = (port, env = process.env.WEBPACK_BUILD_ENV) => {\r\n    const defaultPort = typeof process.env.SERVER_PORT === 'undefined' && typeof __SERVER_PORT__ !== 'undefined'\r\n        ? __SERVER_PORT__\r\n        : process.env.SERVER_PORT\r\n\r\n    if (typeof port === 'object') {\r\n        if (!env) env = 'prod'\r\n        if (typeof port[env] !== 'undefined')\r\n            return port[env]\r\n        return defaultPort\r\n    }\r\n\r\n    if (typeof port !== 'undefined' && typeof port !== 'boolean')\r\n        return port\r\n\r\n    return defaultPort\r\n}\r\n","const getWDSport = require('./get-webpack-dev-server-port')\r\n\r\n/**\r\n * 获取浏览器环境中的访问根路径\r\n * @returns {String} 浏览器环境中的访问根路径\r\n */\r\nmodule.exports = () => {\r\n    const isDev = process.env.WEBPACK_BUILD_ENV === 'dev' || (typeof __DEV__ !== 'undefined' && __DEV__)\r\n\r\n    if (process.env.WEBPACK_BUILD_TYPE === 'spa') {\r\n        if (isDev)\r\n            return '/'\r\n        if (/^browser/.test(process.env.KOOT_HISTORY_TYPE))\r\n            return '/'\r\n        return ''\r\n    }\r\n\r\n    if (isDev) {\r\n        const port = getWDSport()\r\n        const origin = typeof global.koaCtxOrigin === 'string'\r\n            ? global.koaCtxOrigin.split(':').slice(0, 2).join(':')\r\n            : 'http://localhost'\r\n        return `${origin}:${port}/dist/`\r\n    }\r\n\r\n    return '/'\r\n}\r\n","/**\r\n * 获取 webpack-dev-server 端口号\r\n * @returns {Number}\r\n */\r\nmodule.exports = () => {\r\n    // console.log('process.env.WEBPACK_DEV_SERVER_PORT', process.env.WEBPACK_DEV_SERVER_PORT)\r\n    return process.env.WEBPACK_DEV_SERVER_PORT || 3001\r\n}\r\n","const fs = require('fs-extra');\r\nconst path = require('path');\r\nconst isUrl = require('is-url');\r\n\r\nconst getFilePath = require('./get-client-file-path');\r\nconst generateFilemap = require('./generate-filemap-from-compilation');\r\nconst getDistPath = require('./get-dist-path');\r\nconst getPort = require('./get-port');\r\nconst getDirDistPublic = require('../libs/get-dir-dist-public');\r\n\r\n/**\r\n * 读取目标客户端打包结果文件的内容\r\n * @param {String} filename 要查找的文件的文件名。根据打包文件对应表 (chunkmap) 查询文件名和实际打包结果文件的对应关系\r\n * @param {String} [localeId] 当前语言\r\n * @param {Object} [compilation] Webpack compilation 对象\r\n * @param {Boolean} [isPathname=false] 如果标记为 true，表示提供的 filename 为确切的访问地址，无需查询对照表，直接返回结果\r\n * @returns {String} 文件内容\r\n */\r\nconst readClientFile = (\r\n    filename,\r\n    localeId,\r\n    compilation,\r\n    isPathname = false\r\n) => {\r\n    // 如果第一个参数为 true，表示标记为 pathname\r\n    if (filename === true)\r\n        return readClientFile(\r\n            localeId,\r\n            compilation || undefined,\r\n            isPathname || undefined,\r\n            true\r\n        );\r\n\r\n    // 如果提供了 webpack compilation 数据，尝试从其中查询对应文件的最终内容并返回\r\n    if (typeof compilation === 'object') {\r\n        const filemap = generateFilemap(compilation);\r\n        if (typeof filemap === 'object') {\r\n            // console.log('\\n' + filename)\r\n            // console.log(`typeof filemap[\"${filename}\"]`, typeof filemap[filename])\r\n            // console.log(`typeof compilation.assets[\"${filemap[filename]}\"]`, typeof compilation.assets[filemap[filename]])\r\n            // for (let key in compilation) {\r\n            //     console.log(key)\r\n            // }\r\n\r\n            if (\r\n                typeof filemap[filename] === 'string' &&\r\n                typeof compilation.assets[filemap[filename]] !== 'undefined'\r\n            ) {\r\n                const asset = compilation.assets[filemap[filename]];\r\n                // console.log(filename, filemap[filename])\r\n                // if (!asset._value) {\r\n                //     console.log(asset)\r\n                // }\r\n                // console.log('typeof asset.source', typeof asset.source)\r\n                if (typeof asset.source === 'function') return asset.source();\r\n                if (typeof asset._value !== 'undefined') return asset._value;\r\n                if (typeof asset._cachedSource !== 'undefined')\r\n                    return asset._cachedSource;\r\n                // return '123'\r\n            }\r\n        }\r\n    }\r\n\r\n    // 在打包结果中寻找指定文件\r\n    let pathnames = getFilePath(filename, localeId, isPathname);\r\n    if (!Array.isArray(pathnames)) pathnames = [pathnames];\r\n\r\n    const results = pathnames.map(pathname => {\r\n        if (isUrl(pathname)) {\r\n            if (__DEV__) {\r\n                const syncRequest = require('sync-request');\r\n                // console.log(`${pathname} is URL`)\r\n                return syncRequest('GET', pathname, {}).getBody();\r\n            } else {\r\n                return `<!-- The pathname for file '${filename}' is a URL. Rendering file content from URL can only be done in DEV mode. -->`;\r\n            }\r\n        }\r\n\r\n        if (\r\n            process.env.WEBPACK_BUILD_TYPE === 'spa' &&\r\n            process.env.WEBPACK_BUILD_ENV === 'dev'\r\n        ) {\r\n            return `<!-- http://localhost:${getPort()}${pathname} -->`;\r\n            // const syncRequest = require('sync-request')\r\n            // return syncRequest('GET', `http://localhost:${getPort()}${pathname}`, {}).getBody()\r\n        }\r\n\r\n        return fs.readFileSync(\r\n            path.resolve(\r\n                getDirDistPublic(getDistPath()),\r\n                pathname.replace(/^\\//, '')\r\n            ),\r\n            'utf-8'\r\n        );\r\n    });\r\n\r\n    return results.join('\\n\\n');\r\n};\r\n\r\nmodule.exports = readClientFile;\r\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","\"use strict\";\n\nexports.__esModule = true;\nexports.loopAsync = loopAsync;\nexports.mapAsync = mapAsync;\nfunction loopAsync(turns, work, callback) {\n  var currentTurn = 0,\n      isDone = false;\n  var sync = false,\n      hasNext = false,\n      doneArgs = void 0;\n\n  function done() {\n    isDone = true;\n    if (sync) {\n      // Iterate instead of recursing if possible.\n      doneArgs = [].concat(Array.prototype.slice.call(arguments));\n      return;\n    }\n\n    callback.apply(this, arguments);\n  }\n\n  function next() {\n    if (isDone) {\n      return;\n    }\n\n    hasNext = true;\n    if (sync) {\n      // Iterate instead of recursing if possible.\n      return;\n    }\n\n    sync = true;\n\n    while (!isDone && currentTurn < turns && hasNext) {\n      hasNext = false;\n      work.call(this, currentTurn++, next, done);\n    }\n\n    sync = false;\n\n    if (isDone) {\n      // This means the loop finished synchronously.\n      callback.apply(this, doneArgs);\n      return;\n    }\n\n    if (currentTurn >= turns && hasNext) {\n      isDone = true;\n      callback();\n    }\n  }\n\n  next();\n}\n\nfunction mapAsync(array, work, callback) {\n  var length = array.length;\n  var values = [];\n\n  if (length === 0) return callback(null, values);\n\n  var isDone = false,\n      doneCount = 0;\n\n  function done(index, error, value) {\n    if (isDone) return;\n\n    if (error) {\n      isDone = true;\n      callback(error);\n    } else {\n      values[index] = value;\n\n      isDone = ++doneCount === length;\n\n      if (isDone) callback(null, values);\n    }\n  }\n\n  array.forEach(function (item, index) {\n    work(item, index, function (error, value) {\n      done(index, error, value);\n    });\n  });\n}","'use strict';\n\nexports.__esModule = true;\nexports.ContextProvider = ContextProvider;\nexports.ContextSubscriber = ContextSubscriber;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Works around issues with context updates failing to propagate.\n// Caveat: the context value is expected to never change its identity.\n// https://github.com/facebook/react/issues/2517\n// https://github.com/reactjs/react-router/issues/470\n\nvar contextProviderShape = _propTypes2.default.shape({\n  subscribe: _propTypes2.default.func.isRequired,\n  eventIndex: _propTypes2.default.number.isRequired\n});\n\nfunction makeContextName(name) {\n  return '@@contextSubscriber/' + name;\n}\n\nvar prefixUnsafeLifecycleMethods = typeof _react2.default.forwardRef !== 'undefined';\n\nfunction ContextProvider(name) {\n  var _childContextTypes, _config;\n\n  var contextName = makeContextName(name);\n  var listenersKey = contextName + '/listeners';\n  var eventIndexKey = contextName + '/eventIndex';\n  var subscribeKey = contextName + '/subscribe';\n\n  var config = (_config = {\n    childContextTypes: (_childContextTypes = {}, _childContextTypes[contextName] = contextProviderShape.isRequired, _childContextTypes),\n\n    getChildContext: function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextName] = {\n        eventIndex: this[eventIndexKey],\n        subscribe: this[subscribeKey]\n      }, _ref;\n    },\n\n\n    // this method will be updated to UNSAFE_componentWillMount below for React versions >= 16.3\n    componentWillMount: function componentWillMount() {\n      this[listenersKey] = [];\n      this[eventIndexKey] = 0;\n    },\n\n\n    // this method will be updated to UNSAFE_componentWillReceiveProps below for React versions >= 16.3\n    componentWillReceiveProps: function componentWillReceiveProps() {\n      this[eventIndexKey]++;\n    },\n    componentDidUpdate: function componentDidUpdate() {\n      var _this = this;\n\n      this[listenersKey].forEach(function (listener) {\n        return listener(_this[eventIndexKey]);\n      });\n    }\n  }, _config[subscribeKey] = function (listener) {\n    var _this2 = this;\n\n    // No need to immediately call listener here.\n    this[listenersKey].push(listener);\n\n    return function () {\n      _this2[listenersKey] = _this2[listenersKey].filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }, _config);\n\n  if (prefixUnsafeLifecycleMethods) {\n    config.UNSAFE_componentWillMount = config.componentWillMount;\n    config.UNSAFE_componentWillReceiveProps = config.componentWillReceiveProps;\n    delete config.componentWillMount;\n    delete config.componentWillReceiveProps;\n  }\n  return config;\n}\n\nfunction ContextSubscriber(name) {\n  var _contextTypes, _config2;\n\n  var contextName = makeContextName(name);\n  var lastRenderedEventIndexKey = contextName + '/lastRenderedEventIndex';\n  var handleContextUpdateKey = contextName + '/handleContextUpdate';\n  var unsubscribeKey = contextName + '/unsubscribe';\n\n  var config = (_config2 = {\n    contextTypes: (_contextTypes = {}, _contextTypes[contextName] = contextProviderShape, _contextTypes),\n\n    getInitialState: function getInitialState() {\n      var _ref2;\n\n      if (!this.context[contextName]) {\n        return {};\n      }\n\n      return _ref2 = {}, _ref2[lastRenderedEventIndexKey] = this.context[contextName].eventIndex, _ref2;\n    },\n    componentDidMount: function componentDidMount() {\n      if (!this.context[contextName]) {\n        return;\n      }\n\n      this[unsubscribeKey] = this.context[contextName].subscribe(this[handleContextUpdateKey]);\n    },\n\n\n    // this method will be updated to UNSAFE_componentWillReceiveProps below for React versions >= 16.3\n    componentWillReceiveProps: function componentWillReceiveProps() {\n      var _setState;\n\n      if (!this.context[contextName]) {\n        return;\n      }\n\n      this.setState((_setState = {}, _setState[lastRenderedEventIndexKey] = this.context[contextName].eventIndex, _setState));\n    },\n    componentWillUnmount: function componentWillUnmount() {\n      if (!this[unsubscribeKey]) {\n        return;\n      }\n\n      this[unsubscribeKey]();\n      this[unsubscribeKey] = null;\n    }\n  }, _config2[handleContextUpdateKey] = function (eventIndex) {\n    if (eventIndex !== this.state[lastRenderedEventIndexKey]) {\n      var _setState2;\n\n      this.setState((_setState2 = {}, _setState2[lastRenderedEventIndexKey] = eventIndex, _setState2));\n    }\n  }, _config2);\n\n  if (prefixUnsafeLifecycleMethods) {\n    config.UNSAFE_componentWillReceiveProps = config.componentWillReceiveProps;\n    delete config.componentWillReceiveProps;\n  }\n  return config;\n}","'use strict';\n\nexports.__esModule = true;\nexports.compilePattern = compilePattern;\nexports.matchPattern = matchPattern;\nexports.getParamNames = getParamNames;\nexports.getParams = getParams;\nexports.formatPattern = formatPattern;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction escapeRegExp(string) {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction _compilePattern(pattern) {\n  var regexpSource = '';\n  var paramNames = [];\n  var tokens = [];\n\n  var match = void 0,\n      lastIndex = 0,\n      matcher = /:([a-zA-Z_$][a-zA-Z0-9_$]*)|\\*\\*|\\*|\\(|\\)|\\\\\\(|\\\\\\)/g;\n  while (match = matcher.exec(pattern)) {\n    if (match.index !== lastIndex) {\n      tokens.push(pattern.slice(lastIndex, match.index));\n      regexpSource += escapeRegExp(pattern.slice(lastIndex, match.index));\n    }\n\n    if (match[1]) {\n      regexpSource += '([^/]+)';\n      paramNames.push(match[1]);\n    } else if (match[0] === '**') {\n      regexpSource += '(.*)';\n      paramNames.push('splat');\n    } else if (match[0] === '*') {\n      regexpSource += '(.*?)';\n      paramNames.push('splat');\n    } else if (match[0] === '(') {\n      regexpSource += '(?:';\n    } else if (match[0] === ')') {\n      regexpSource += ')?';\n    } else if (match[0] === '\\\\(') {\n      regexpSource += '\\\\(';\n    } else if (match[0] === '\\\\)') {\n      regexpSource += '\\\\)';\n    }\n\n    tokens.push(match[0]);\n\n    lastIndex = matcher.lastIndex;\n  }\n\n  if (lastIndex !== pattern.length) {\n    tokens.push(pattern.slice(lastIndex, pattern.length));\n    regexpSource += escapeRegExp(pattern.slice(lastIndex, pattern.length));\n  }\n\n  return {\n    pattern: pattern,\n    regexpSource: regexpSource,\n    paramNames: paramNames,\n    tokens: tokens\n  };\n}\n\nvar CompiledPatternsCache = Object.create(null);\n\nfunction compilePattern(pattern) {\n  if (!CompiledPatternsCache[pattern]) CompiledPatternsCache[pattern] = _compilePattern(pattern);\n\n  return CompiledPatternsCache[pattern];\n}\n\n/**\n * Attempts to match a pattern on the given pathname. Patterns may use\n * the following special characters:\n *\n * - :paramName     Matches a URL segment up to the next /, ?, or #. The\n *                  captured string is considered a \"param\"\n * - ()             Wraps a segment of the URL that is optional\n * - *              Consumes (non-greedy) all characters up to the next\n *                  character in the pattern, or to the end of the URL if\n *                  there is none\n * - **             Consumes (greedy) all characters up to the next character\n *                  in the pattern, or to the end of the URL if there is none\n *\n *  The function calls callback(error, matched) when finished.\n * The return value is an object with the following properties:\n *\n * - remainingPathname\n * - paramNames\n * - paramValues\n */\nfunction matchPattern(pattern, pathname) {\n  // Ensure pattern starts with leading slash for consistency with pathname.\n  if (pattern.charAt(0) !== '/') {\n    pattern = '/' + pattern;\n  }\n\n  var _compilePattern2 = compilePattern(pattern),\n      regexpSource = _compilePattern2.regexpSource,\n      paramNames = _compilePattern2.paramNames,\n      tokens = _compilePattern2.tokens;\n\n  if (pattern.charAt(pattern.length - 1) !== '/') {\n    regexpSource += '/?'; // Allow optional path separator at end.\n  }\n\n  // Special-case patterns like '*' for catch-all routes.\n  if (tokens[tokens.length - 1] === '*') {\n    regexpSource += '$';\n  }\n\n  var match = pathname.match(new RegExp('^' + regexpSource, 'i'));\n  if (match == null) {\n    return null;\n  }\n\n  var matchedPath = match[0];\n  var remainingPathname = pathname.substr(matchedPath.length);\n\n  if (remainingPathname) {\n    // Require that the match ends at a path separator, if we didn't match\n    // the full path, so any remaining pathname is a new path segment.\n    if (matchedPath.charAt(matchedPath.length - 1) !== '/') {\n      return null;\n    }\n\n    // If there is a remaining pathname, treat the path separator as part of\n    // the remaining pathname for properly continuing the match.\n    remainingPathname = '/' + remainingPathname;\n  }\n\n  return {\n    remainingPathname: remainingPathname,\n    paramNames: paramNames,\n    paramValues: match.slice(1).map(function (v) {\n      return v && decodeURIComponent(v);\n    })\n  };\n}\n\nfunction getParamNames(pattern) {\n  return compilePattern(pattern).paramNames;\n}\n\nfunction getParams(pattern, pathname) {\n  var match = matchPattern(pattern, pathname);\n  if (!match) {\n    return null;\n  }\n\n  var paramNames = match.paramNames,\n      paramValues = match.paramValues;\n\n  var params = {};\n\n  paramNames.forEach(function (paramName, index) {\n    params[paramName] = paramValues[index];\n  });\n\n  return params;\n}\n\n/**\n * Returns a version of the given pattern with params interpolated. Throws\n * if there is a dynamic segment of the pattern for which there is no param.\n */\nfunction formatPattern(pattern, params) {\n  params = params || {};\n\n  var _compilePattern3 = compilePattern(pattern),\n      tokens = _compilePattern3.tokens;\n\n  var parenCount = 0,\n      pathname = '',\n      splatIndex = 0,\n      parenHistory = [];\n\n  var token = void 0,\n      paramName = void 0,\n      paramValue = void 0;\n  for (var i = 0, len = tokens.length; i < len; ++i) {\n    token = tokens[i];\n\n    if (token === '*' || token === '**') {\n      paramValue = Array.isArray(params.splat) ? params.splat[splatIndex++] : params.splat;\n\n      !(paramValue != null || parenCount > 0) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Missing splat #%s for path \"%s\"', splatIndex, pattern) : (0, _invariant2.default)(false) : void 0;\n\n      if (paramValue != null) pathname += encodeURI(paramValue);\n    } else if (token === '(') {\n      parenHistory[parenCount] = '';\n      parenCount += 1;\n    } else if (token === ')') {\n      var parenText = parenHistory.pop();\n      parenCount -= 1;\n\n      if (parenCount) parenHistory[parenCount - 1] += parenText;else pathname += parenText;\n    } else if (token === '\\\\(') {\n      pathname += '(';\n    } else if (token === '\\\\)') {\n      pathname += ')';\n    } else if (token.charAt(0) === ':') {\n      paramName = token.substring(1);\n      paramValue = params[paramName];\n\n      !(paramValue != null || parenCount > 0) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Missing \"%s\" parameter for path \"%s\"', paramName, pattern) : (0, _invariant2.default)(false) : void 0;\n\n      if (paramValue == null) {\n        if (parenCount) {\n          parenHistory[parenCount - 1] = '';\n\n          var curTokenIdx = tokens.indexOf(token);\n          var tokensSubset = tokens.slice(curTokenIdx, tokens.length);\n          var nextParenIdx = -1;\n\n          for (var _i = 0; _i < tokensSubset.length; _i++) {\n            if (tokensSubset[_i] == ')') {\n              nextParenIdx = _i;\n              break;\n            }\n          }\n\n          !(nextParenIdx > 0) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Path \"%s\" is missing end paren at segment \"%s\"', pattern, tokensSubset.join('')) : (0, _invariant2.default)(false) : void 0;\n\n          // jump to ending paren\n          i = curTokenIdx + nextParenIdx - 1;\n        }\n      } else if (parenCount) parenHistory[parenCount - 1] += encodeURIComponent(paramValue);else pathname += encodeURIComponent(paramValue);\n    } else {\n      if (parenCount) parenHistory[parenCount - 1] += token;else pathname += token;\n    }\n  }\n\n  !(parenCount <= 0) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Path \"%s\" is missing end paren', pattern) : (0, _invariant2.default)(false) : void 0;\n\n  return pathname.replace(/\\/+/g, '/');\n}","'use strict';\n\nexports.__esModule = true;\nexports.isPromise = isPromise;\nfunction isPromise(obj) {\n  return obj && typeof obj.then === 'function';\n}","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.isReactChildren = isReactChildren;\nexports.createRouteFromReactElement = createRouteFromReactElement;\nexports.createRoutesFromReactChildren = createRoutesFromReactChildren;\nexports.createRoutes = createRoutes;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isValidChild(object) {\n  return object == null || _react2.default.isValidElement(object);\n}\n\nfunction isReactChildren(object) {\n  return isValidChild(object) || Array.isArray(object) && object.every(isValidChild);\n}\n\nfunction createRoute(defaultProps, props) {\n  return _extends({}, defaultProps, props);\n}\n\nfunction createRouteFromReactElement(element) {\n  var type = element.type;\n  var route = createRoute(type.defaultProps, element.props);\n\n  if (route.children) {\n    var childRoutes = createRoutesFromReactChildren(route.children, route);\n\n    if (childRoutes.length) route.childRoutes = childRoutes;\n\n    delete route.children;\n  }\n\n  return route;\n}\n\n/**\n * Creates and returns a routes object from the given ReactChildren. JSX\n * provides a convenient way to visualize how routes in the hierarchy are\n * nested.\n *\n *   import { Route, createRoutesFromReactChildren } from 'react-router'\n *\n *   const routes = createRoutesFromReactChildren(\n *     <Route component={App}>\n *       <Route path=\"home\" component={Dashboard}/>\n *       <Route path=\"news\" component={NewsFeed}/>\n *     </Route>\n *   )\n *\n * Note: This method is automatically used when you provide <Route> children\n * to a <Router> component.\n */\nfunction createRoutesFromReactChildren(children, parentRoute) {\n  var routes = [];\n\n  _react2.default.Children.forEach(children, function (element) {\n    if (_react2.default.isValidElement(element)) {\n      // Component classes may have a static create* method.\n      if (element.type.createRouteFromReactElement) {\n        var route = element.type.createRouteFromReactElement(element, parentRoute);\n\n        if (route) routes.push(route);\n      } else {\n        routes.push(createRouteFromReactElement(element));\n      }\n    }\n  });\n\n  return routes;\n}\n\n/**\n * Creates and returns an array of routes from the given object which\n * may be a JSX route, a plain object route, or an array of either.\n */\nfunction createRoutes(routes) {\n  if (isReactChildren(routes)) {\n    routes = createRoutesFromReactChildren(routes);\n  } else if (routes && !Array.isArray(routes)) {\n    routes = [routes];\n  }\n\n  return routes;\n}","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIs = require('react-is');\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nvar _propTypes = require('prop-types');\n\nvar _getRouteParams = require('./getRouteParams');\n\nvar _getRouteParams2 = _interopRequireDefault(_getRouteParams);\n\nvar _ContextUtils = require('./ContextUtils');\n\nvar _RouteUtils = require('./RouteUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * A <RouterContext> renders the component tree for a given router state\n * and sets the history object and the current location in context.\n */\nvar RouterContext = (0, _createReactClass2.default)({\n  displayName: 'RouterContext',\n\n  mixins: [(0, _ContextUtils.ContextProvider)('router')],\n\n  propTypes: {\n    router: _propTypes.object.isRequired,\n    location: _propTypes.object.isRequired,\n    routes: _propTypes.array.isRequired,\n    params: _propTypes.object.isRequired,\n    components: _propTypes.array.isRequired,\n    createElement: _propTypes.func.isRequired\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      createElement: _react2.default.createElement\n    };\n  },\n\n\n  childContextTypes: {\n    router: _propTypes.object.isRequired\n  },\n\n  getChildContext: function getChildContext() {\n    return {\n      router: this.props.router\n    };\n  },\n  createElement: function createElement(component, props) {\n    return component == null ? null : this.props.createElement(component, props);\n  },\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props,\n        location = _props.location,\n        routes = _props.routes,\n        params = _props.params,\n        components = _props.components,\n        router = _props.router;\n\n    var element = null;\n\n    if (components) {\n      element = components.reduceRight(function (element, components, index) {\n        if (components == null) return element; // Don't create new children; use the grandchildren.\n\n        var route = routes[index];\n        var routeParams = (0, _getRouteParams2.default)(route, params);\n        var props = {\n          location: location,\n          params: params,\n          route: route,\n          router: router,\n          routeParams: routeParams,\n          routes: routes\n        };\n\n        if ((0, _RouteUtils.isReactChildren)(element)) {\n          props.children = element;\n        } else if (element) {\n          for (var prop in element) {\n            if (Object.prototype.hasOwnProperty.call(element, prop)) props[prop] = element[prop];\n          }\n        }\n\n        // Handle components is object for { [name]: component } but not valid element\n        // type of react, such as React.memo, React.lazy and so on.\n        if ((typeof components === 'undefined' ? 'undefined' : _typeof(components)) === 'object' && !(0, _reactIs.isValidElementType)(components)) {\n          var elements = {};\n\n          for (var key in components) {\n            if (Object.prototype.hasOwnProperty.call(components, key)) {\n              // Pass through the key as a prop to createElement to allow\n              // custom createElement functions to know which named component\n              // they're rendering, for e.g. matching up to fetched data.\n              elements[key] = _this.createElement(components[key], _extends({\n                key: key }, props));\n            }\n          }\n\n          return elements;\n        }\n\n        return _this.createElement(components, props);\n      }, element);\n    }\n\n    !(element === null || element === false || _react2.default.isValidElement(element)) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'The root route must render a single element') : (0, _invariant2.default)(false) : void 0;\n\n    return element;\n  }\n});\n\nexports.default = RouterContext;\nmodule.exports = exports['default'];","\"use strict\";\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.createRouterObject = createRouterObject;\nexports.assignRouterState = assignRouterState;\nfunction createRouterObject(history, transitionManager, state) {\n  var router = _extends({}, history, {\n    setRouteLeaveHook: transitionManager.listenBeforeLeavingRoute,\n    isActive: transitionManager.isActive\n  });\n\n  return assignRouterState(router, state);\n}\n\nfunction assignRouterState(router, _ref) {\n  var location = _ref.location,\n      params = _ref.params,\n      routes = _ref.routes;\n\n  router.location = location;\n  router.params = params;\n  router.routes = routes;\n\n  return router;\n}","'use strict';\n\nexports.__esModule = true;\nexports.default = getTransitionUtils;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PendingHooks = function PendingHooks() {\n  var _this = this;\n\n  _classCallCheck(this, PendingHooks);\n\n  this.hooks = [];\n\n  this.add = function (hook) {\n    return _this.hooks.push(hook);\n  };\n\n  this.remove = function (hook) {\n    return _this.hooks = _this.hooks.filter(function (h) {\n      return h !== hook;\n    });\n  };\n\n  this.has = function (hook) {\n    return _this.hooks.indexOf(hook) !== -1;\n  };\n\n  this.clear = function () {\n    return _this.hooks = [];\n  };\n};\n\nfunction getTransitionUtils() {\n  var enterHooks = new PendingHooks();\n  var changeHooks = new PendingHooks();\n\n  function createTransitionHook(hook, route, asyncArity, pendingHooks) {\n    var isSync = hook.length < asyncArity;\n\n    var transitionHook = function transitionHook() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      hook.apply(route, args);\n\n      if (isSync) {\n        var callback = args[args.length - 1];\n        // Assume hook executes synchronously and\n        // automatically call the callback.\n        callback();\n      }\n    };\n\n    pendingHooks.add(transitionHook);\n\n    return transitionHook;\n  }\n\n  function getEnterHooks(routes) {\n    return routes.reduce(function (hooks, route) {\n      if (route.onEnter) hooks.push(createTransitionHook(route.onEnter, route, 3, enterHooks));\n      return hooks;\n    }, []);\n  }\n\n  function getChangeHooks(routes) {\n    return routes.reduce(function (hooks, route) {\n      if (route.onChange) hooks.push(createTransitionHook(route.onChange, route, 4, changeHooks));\n      return hooks;\n    }, []);\n  }\n\n  function runTransitionHooks(length, iter, callback) {\n    if (!length) {\n      callback();\n      return;\n    }\n\n    var redirectInfo = void 0;\n    function replace(location) {\n      redirectInfo = location;\n    }\n\n    (0, _AsyncUtils.loopAsync)(length, function (index, next, done) {\n      iter(index, replace, function (error) {\n        if (error || redirectInfo) {\n          done(error, redirectInfo); // No need to continue.\n        } else {\n          next();\n        }\n      });\n    }, callback);\n  }\n\n  /**\n   * Runs all onEnter hooks in the given array of routes in order\n   * with onEnter(nextState, replace, callback) and calls\n   * callback(error, redirectInfo) when finished. The first hook\n   * to use replace short-circuits the loop.\n   *\n   * If a hook needs to run asynchronously, it may use the callback\n   * function. However, doing so will cause the transition to pause,\n   * which could lead to a non-responsive UI if the hook is slow.\n   */\n  function runEnterHooks(routes, nextState, callback) {\n    enterHooks.clear();\n    var hooks = getEnterHooks(routes);\n    return runTransitionHooks(hooks.length, function (index, replace, next) {\n      var wrappedNext = function wrappedNext() {\n        if (enterHooks.has(hooks[index])) {\n          next.apply(undefined, arguments);\n          enterHooks.remove(hooks[index]);\n        }\n      };\n      hooks[index](nextState, replace, wrappedNext);\n    }, callback);\n  }\n\n  /**\n   * Runs all onChange hooks in the given array of routes in order\n   * with onChange(prevState, nextState, replace, callback) and calls\n   * callback(error, redirectInfo) when finished. The first hook\n   * to use replace short-circuits the loop.\n   *\n   * If a hook needs to run asynchronously, it may use the callback\n   * function. However, doing so will cause the transition to pause,\n   * which could lead to a non-responsive UI if the hook is slow.\n   */\n  function runChangeHooks(routes, state, nextState, callback) {\n    changeHooks.clear();\n    var hooks = getChangeHooks(routes);\n    return runTransitionHooks(hooks.length, function (index, replace, next) {\n      var wrappedNext = function wrappedNext() {\n        if (changeHooks.has(hooks[index])) {\n          next.apply(undefined, arguments);\n          changeHooks.remove(hooks[index]);\n        }\n      };\n      hooks[index](state, nextState, replace, wrappedNext);\n    }, callback);\n  }\n\n  /**\n   * Runs all onLeave hooks in the given array of routes in order.\n   */\n  function runLeaveHooks(routes, prevState) {\n    for (var i = 0, len = routes.length; i < len; ++i) {\n      if (routes[i].onLeave) routes[i].onLeave.call(routes[i], prevState);\n    }\n  }\n\n  return {\n    runEnterHooks: runEnterHooks,\n    runChangeHooks: runChangeHooks,\n    runLeaveHooks: runLeaveHooks\n  };\n}\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _PatternUtils = require('./PatternUtils');\n\nfunction routeParamsChanged(route, prevState, nextState) {\n  if (!route.path) return false;\n\n  var paramNames = (0, _PatternUtils.getParamNames)(route.path);\n\n  return paramNames.some(function (paramName) {\n    return prevState.params[paramName] !== nextState.params[paramName];\n  });\n}\n\n/**\n * Returns an object of { leaveRoutes, changeRoutes, enterRoutes } determined by\n * the change from prevState to nextState. We leave routes if either\n * 1) they are not in the next state or 2) they are in the next state\n * but their params have changed (i.e. /users/123 => /users/456).\n *\n * leaveRoutes are ordered starting at the leaf route of the tree\n * we're leaving up to the common parent route. enterRoutes are ordered\n * from the top of the tree we're entering down to the leaf route.\n *\n * changeRoutes are any routes that didn't leave or enter during\n * the transition.\n */\nfunction computeChangedRoutes(prevState, nextState) {\n  var prevRoutes = prevState && prevState.routes;\n  var nextRoutes = nextState.routes;\n\n  var leaveRoutes = void 0,\n      changeRoutes = void 0,\n      enterRoutes = void 0;\n  if (prevRoutes) {\n    var parentIsLeaving = false;\n    leaveRoutes = prevRoutes.filter(function (route) {\n      if (parentIsLeaving) {\n        return true;\n      } else {\n        var isLeaving = nextRoutes.indexOf(route) === -1 || routeParamsChanged(route, prevState, nextState);\n        if (isLeaving) parentIsLeaving = true;\n        return isLeaving;\n      }\n    });\n\n    // onLeave hooks start at the leaf route.\n    leaveRoutes.reverse();\n\n    enterRoutes = [];\n    changeRoutes = [];\n\n    nextRoutes.forEach(function (route) {\n      var isNew = prevRoutes.indexOf(route) === -1;\n      var paramsChanged = leaveRoutes.indexOf(route) !== -1;\n\n      if (isNew || paramsChanged) enterRoutes.push(route);else changeRoutes.push(route);\n    });\n  } else {\n    leaveRoutes = [];\n    changeRoutes = [];\n    enterRoutes = nextRoutes;\n  }\n\n  return {\n    leaveRoutes: leaveRoutes,\n    changeRoutes: changeRoutes,\n    enterRoutes: enterRoutes\n  };\n}\n\nexports.default = computeChangedRoutes;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports.default = createMemoryHistory;\n\nvar _useQueries = require('history/lib/useQueries');\n\nvar _useQueries2 = _interopRequireDefault(_useQueries);\n\nvar _useBasename = require('history/lib/useBasename');\n\nvar _useBasename2 = _interopRequireDefault(_useBasename);\n\nvar _createMemoryHistory = require('history/lib/createMemoryHistory');\n\nvar _createMemoryHistory2 = _interopRequireDefault(_createMemoryHistory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createMemoryHistory(options) {\n  // signatures and type checking differ between `useQueries` and\n  // `createMemoryHistory`, have to create `memoryHistory` first because\n  // `useQueries` doesn't understand the signature\n  var memoryHistory = (0, _createMemoryHistory2.default)(options);\n  var createHistory = function createHistory() {\n    return memoryHistory;\n  };\n  var history = (0, _useQueries2.default)((0, _useBasename2.default)(createHistory))(options);\n  return history;\n}\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = createTransitionManager;\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nvar _computeChangedRoutes2 = require('./computeChangedRoutes');\n\nvar _computeChangedRoutes3 = _interopRequireDefault(_computeChangedRoutes2);\n\nvar _TransitionUtils = require('./TransitionUtils');\n\nvar _TransitionUtils2 = _interopRequireDefault(_TransitionUtils);\n\nvar _isActive2 = require('./isActive');\n\nvar _isActive3 = _interopRequireDefault(_isActive2);\n\nvar _getComponents = require('./getComponents');\n\nvar _getComponents2 = _interopRequireDefault(_getComponents);\n\nvar _matchRoutes = require('./matchRoutes');\n\nvar _matchRoutes2 = _interopRequireDefault(_matchRoutes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction hasAnyProperties(object) {\n  for (var p in object) {\n    if (Object.prototype.hasOwnProperty.call(object, p)) return true;\n  }return false;\n}\n\nfunction createTransitionManager(history, routes) {\n  var state = {};\n\n  var _getTransitionUtils = (0, _TransitionUtils2.default)(),\n      runEnterHooks = _getTransitionUtils.runEnterHooks,\n      runChangeHooks = _getTransitionUtils.runChangeHooks,\n      runLeaveHooks = _getTransitionUtils.runLeaveHooks;\n\n  // Signature should be (location, indexOnly), but needs to support (path,\n  // query, indexOnly)\n\n\n  function isActive(location, indexOnly) {\n    location = history.createLocation(location);\n\n    return (0, _isActive3.default)(location, indexOnly, state.location, state.routes, state.params);\n  }\n\n  var partialNextState = void 0;\n\n  function match(location, callback) {\n    if (partialNextState && partialNextState.location === location) {\n      // Continue from where we left off.\n      finishMatch(partialNextState, callback);\n    } else {\n      (0, _matchRoutes2.default)(routes, location, function (error, nextState) {\n        if (error) {\n          callback(error);\n        } else if (nextState) {\n          finishMatch(_extends({}, nextState, { location: location }), callback);\n        } else {\n          callback();\n        }\n      });\n    }\n  }\n\n  function finishMatch(nextState, callback) {\n    var _computeChangedRoutes = (0, _computeChangedRoutes3.default)(state, nextState),\n        leaveRoutes = _computeChangedRoutes.leaveRoutes,\n        changeRoutes = _computeChangedRoutes.changeRoutes,\n        enterRoutes = _computeChangedRoutes.enterRoutes;\n\n    runLeaveHooks(leaveRoutes, state);\n\n    // Tear down confirmation hooks for left routes\n    leaveRoutes.filter(function (route) {\n      return enterRoutes.indexOf(route) === -1;\n    }).forEach(removeListenBeforeHooksForRoute);\n\n    // change and enter hooks are run in series\n    runChangeHooks(changeRoutes, state, nextState, function (error, redirectInfo) {\n      if (error || redirectInfo) return handleErrorOrRedirect(error, redirectInfo);\n\n      runEnterHooks(enterRoutes, nextState, finishEnterHooks);\n    });\n\n    function finishEnterHooks(error, redirectInfo) {\n      if (error || redirectInfo) return handleErrorOrRedirect(error, redirectInfo);\n\n      // TODO: Fetch components after state is updated.\n      (0, _getComponents2.default)(nextState, function (error, components) {\n        if (error) {\n          callback(error);\n        } else {\n          // TODO: Make match a pure function and have some other API\n          // for \"match and update state\".\n          callback(null, null, state = _extends({}, nextState, { components: components }));\n        }\n      });\n    }\n\n    function handleErrorOrRedirect(error, redirectInfo) {\n      if (error) callback(error);else callback(null, redirectInfo);\n    }\n  }\n\n  var RouteGuid = 1;\n\n  function getRouteID(route) {\n    var create = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    return route.__id__ || create && (route.__id__ = RouteGuid++);\n  }\n\n  var RouteHooks = Object.create(null);\n\n  function getRouteHooksForRoutes(routes) {\n    return routes.map(function (route) {\n      return RouteHooks[getRouteID(route)];\n    }).filter(function (hook) {\n      return hook;\n    });\n  }\n\n  function transitionHook(location, callback) {\n    (0, _matchRoutes2.default)(routes, location, function (error, nextState) {\n      if (nextState == null) {\n        // TODO: We didn't actually match anything, but hang\n        // onto error/nextState so we don't have to matchRoutes\n        // again in the listen callback.\n        callback();\n        return;\n      }\n\n      // Cache some state here so we don't have to\n      // matchRoutes() again in the listen callback.\n      partialNextState = _extends({}, nextState, { location: location });\n\n      var hooks = getRouteHooksForRoutes((0, _computeChangedRoutes3.default)(state, partialNextState).leaveRoutes);\n\n      var result = void 0;\n      for (var i = 0, len = hooks.length; result == null && i < len; ++i) {\n        // Passing the location arg here indicates to\n        // the user that this is a transition hook.\n        result = hooks[i](location);\n      }\n\n      callback(result);\n    });\n  }\n\n  /* istanbul ignore next: untestable with Karma */\n  function beforeUnloadHook() {\n    // Synchronously check to see if any route hooks want\n    // to prevent the current window/tab from closing.\n    if (state.routes) {\n      var hooks = getRouteHooksForRoutes(state.routes);\n\n      var message = void 0;\n      for (var i = 0, len = hooks.length; typeof message !== 'string' && i < len; ++i) {\n        // Passing no args indicates to the user that this is a\n        // beforeunload hook. We don't know the next location.\n        message = hooks[i]();\n      }\n\n      return message;\n    }\n  }\n\n  var unlistenBefore = void 0,\n      unlistenBeforeUnload = void 0;\n\n  function removeListenBeforeHooksForRoute(route) {\n    var routeID = getRouteID(route);\n    if (!routeID) {\n      return;\n    }\n\n    delete RouteHooks[routeID];\n\n    if (!hasAnyProperties(RouteHooks)) {\n      // teardown transition & beforeunload hooks\n      if (unlistenBefore) {\n        unlistenBefore();\n        unlistenBefore = null;\n      }\n\n      if (unlistenBeforeUnload) {\n        unlistenBeforeUnload();\n        unlistenBeforeUnload = null;\n      }\n    }\n  }\n\n  /**\n   * Registers the given hook function to run before leaving the given route.\n   *\n   * During a normal transition, the hook function receives the next location\n   * as its only argument and can return either a prompt message (string) to show the user,\n   * to make sure they want to leave the page; or `false`, to prevent the transition.\n   * Any other return value will have no effect.\n   *\n   * During the beforeunload event (in browsers) the hook receives no arguments.\n   * In this case it must return a prompt message to prevent the transition.\n   *\n   * Returns a function that may be used to unbind the listener.\n   */\n  function listenBeforeLeavingRoute(route, hook) {\n    var thereWereNoRouteHooks = !hasAnyProperties(RouteHooks);\n    var routeID = getRouteID(route, true);\n\n    RouteHooks[routeID] = hook;\n\n    if (thereWereNoRouteHooks) {\n      // setup transition & beforeunload hooks\n      unlistenBefore = history.listenBefore(transitionHook);\n\n      if (history.listenBeforeUnload) unlistenBeforeUnload = history.listenBeforeUnload(beforeUnloadHook);\n    }\n\n    return function () {\n      removeListenBeforeHooksForRoute(route);\n    };\n  }\n\n  /**\n   * This is the API for stateful environments. As the location\n   * changes, we update state and call the listener. We can also\n   * gracefully handle errors and redirects.\n   */\n  function listen(listener) {\n    function historyListener(location) {\n      if (state.location === location) {\n        listener(null, state);\n      } else {\n        match(location, function (error, redirectLocation, nextState) {\n          if (error) {\n            listener(error);\n          } else if (redirectLocation) {\n            history.replace(redirectLocation);\n          } else if (nextState) {\n            listener(null, nextState);\n          } else {\n            process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(false, 'Location \"%s\" did not match any routes', location.pathname + location.search + location.hash) : void 0;\n          }\n        });\n      }\n    }\n\n    // TODO: Only use a single history listener. Otherwise we'll end up with\n    // multiple concurrent calls to match.\n\n    // Set up the history listener first in case the initial match redirects.\n    var unsubscribe = history.listen(historyListener);\n\n    if (state.location) {\n      // Picking up on a matchContext.\n      listener(null, state);\n    } else {\n      historyListener(history.getCurrentLocation());\n    }\n\n    return unsubscribe;\n  }\n\n  return {\n    isActive: isActive,\n    match: match,\n    listenBeforeLeavingRoute: listenBeforeLeavingRoute,\n    listen: listen\n  };\n}\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _PromiseUtils = require('./PromiseUtils');\n\nfunction getComponentsForRoute(nextState, route, callback) {\n  if (route.component || route.components) {\n    callback(null, route.component || route.components);\n    return;\n  }\n\n  var getComponent = route.getComponent || route.getComponents;\n  if (getComponent) {\n    var componentReturn = getComponent.call(route, nextState, callback);\n    if ((0, _PromiseUtils.isPromise)(componentReturn)) componentReturn.then(function (component) {\n      return callback(null, component);\n    }, callback);\n  } else {\n    callback();\n  }\n}\n\n/**\n * Asynchronously fetches all components needed for the given router\n * state and calls callback(error, components) when finished.\n *\n * Note: This operation may finish synchronously if no routes have an\n * asynchronous getComponents method.\n */\nfunction getComponents(nextState, callback) {\n  (0, _AsyncUtils.mapAsync)(nextState.routes, function (route, index, callback) {\n    getComponentsForRoute(nextState, route, callback);\n  }, callback);\n}\n\nexports.default = getComponents;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _PatternUtils = require('./PatternUtils');\n\n/**\n * Extracts an object of params the given route cares about from\n * the given params object.\n */\nfunction getRouteParams(route, params) {\n  var routeParams = {};\n\n  if (!route.path) return routeParams;\n\n  (0, _PatternUtils.getParamNames)(route.path).forEach(function (p) {\n    if (Object.prototype.hasOwnProperty.call(params, p)) {\n      routeParams[p] = params[p];\n    }\n  });\n\n  return routeParams;\n}\n\nexports.default = getRouteParams;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isActive;\n\nvar _PatternUtils = require('./PatternUtils');\n\nfunction deepEqual(a, b) {\n  if (a == b) return true;\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return deepEqual(item, b[index]);\n    });\n  }\n\n  if ((typeof a === 'undefined' ? 'undefined' : _typeof(a)) === 'object') {\n    for (var p in a) {\n      if (!Object.prototype.hasOwnProperty.call(a, p)) {\n        continue;\n      }\n\n      if (a[p] === undefined) {\n        if (b[p] !== undefined) {\n          return false;\n        }\n      } else if (!Object.prototype.hasOwnProperty.call(b, p)) {\n        return false;\n      } else if (!deepEqual(a[p], b[p])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return String(a) === String(b);\n}\n\n/**\n * Returns true if the current pathname matches the supplied one, net of\n * leading and trailing slash normalization. This is sufficient for an\n * indexOnly route match.\n */\nfunction pathIsActive(pathname, currentPathname) {\n  // Normalize leading slash for consistency. Leading slash on pathname has\n  // already been normalized in isActive. See caveat there.\n  if (currentPathname.charAt(0) !== '/') {\n    currentPathname = '/' + currentPathname;\n  }\n\n  // Normalize the end of both path names too. Maybe `/foo/` shouldn't show\n  // `/foo` as active, but in this case, we would already have failed the\n  // match.\n  if (pathname.charAt(pathname.length - 1) !== '/') {\n    pathname += '/';\n  }\n  if (currentPathname.charAt(currentPathname.length - 1) !== '/') {\n    currentPathname += '/';\n  }\n\n  return currentPathname === pathname;\n}\n\n/**\n * Returns true if the given pathname matches the active routes and params.\n */\nfunction routeIsActive(pathname, routes, params) {\n  var remainingPathname = pathname,\n      paramNames = [],\n      paramValues = [];\n\n  // for...of would work here but it's probably slower post-transpilation.\n  for (var i = 0, len = routes.length; i < len; ++i) {\n    var route = routes[i];\n    var pattern = route.path || '';\n\n    if (pattern.charAt(0) === '/') {\n      remainingPathname = pathname;\n      paramNames = [];\n      paramValues = [];\n    }\n\n    if (remainingPathname !== null && pattern) {\n      var matched = (0, _PatternUtils.matchPattern)(pattern, remainingPathname);\n      if (matched) {\n        remainingPathname = matched.remainingPathname;\n        paramNames = [].concat(paramNames, matched.paramNames);\n        paramValues = [].concat(paramValues, matched.paramValues);\n      } else {\n        remainingPathname = null;\n      }\n\n      if (remainingPathname === '') {\n        // We have an exact match on the route. Just check that all the params\n        // match.\n        // FIXME: This doesn't work on repeated params.\n        return paramNames.every(function (paramName, index) {\n          return String(paramValues[index]) === String(params[paramName]);\n        });\n      }\n    }\n  }\n\n  return false;\n}\n\n/**\n * Returns true if all key/value pairs in the given query are\n * currently active.\n */\nfunction queryIsActive(query, activeQuery) {\n  if (activeQuery == null) return query == null;\n\n  if (query == null) return true;\n\n  return deepEqual(query, activeQuery);\n}\n\n/**\n * Returns true if a <Link> to the given pathname/query combination is\n * currently active.\n */\nfunction isActive(_ref, indexOnly, currentLocation, routes, params) {\n  var pathname = _ref.pathname,\n      query = _ref.query;\n\n  if (currentLocation == null) return false;\n\n  // TODO: This is a bit ugly. It keeps around support for treating pathnames\n  // without preceding slashes as absolute paths, but possibly also works\n  // around the same quirks with basenames as in matchRoutes.\n  if (pathname.charAt(0) !== '/') {\n    pathname = '/' + pathname;\n  }\n\n  if (!pathIsActive(pathname, currentLocation.pathname)) {\n    // The path check is necessary and sufficient for indexOnly, but otherwise\n    // we still need to check the routes.\n    if (indexOnly || !routeIsActive(pathname, routes, params)) {\n      return false;\n    }\n  }\n\n  return queryIsActive(query, currentLocation.query);\n}\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _Actions = require('history/lib/Actions');\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _createMemoryHistory = require('./createMemoryHistory');\n\nvar _createMemoryHistory2 = _interopRequireDefault(_createMemoryHistory);\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _RouteUtils = require('./RouteUtils');\n\nvar _RouterUtils = require('./RouterUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n/**\n * A high-level API to be used for server-side rendering.\n *\n * This function matches a location to a set of routes and calls\n * callback(error, redirectLocation, renderProps) when finished.\n *\n * Note: You probably don't want to use this in a browser unless you're using\n * server-side rendering with async routes.\n */\nfunction match(_ref, callback) {\n  var history = _ref.history,\n      routes = _ref.routes,\n      location = _ref.location,\n      options = _objectWithoutProperties(_ref, ['history', 'routes', 'location']);\n\n  !(history || location) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'match needs a history or a location') : (0, _invariant2.default)(false) : void 0;\n\n  history = history ? history : (0, _createMemoryHistory2.default)(options);\n  var transitionManager = (0, _createTransitionManager2.default)(history, (0, _RouteUtils.createRoutes)(routes));\n\n  if (location) {\n    // Allow match({ location: '/the/path', ... })\n    location = history.createLocation(location);\n  } else {\n    location = history.getCurrentLocation();\n  }\n\n  transitionManager.match(location, function (error, redirectLocation, nextState) {\n    var renderProps = void 0;\n\n    if (nextState) {\n      var router = (0, _RouterUtils.createRouterObject)(history, transitionManager, nextState);\n      renderProps = _extends({}, nextState, {\n        router: router,\n        matchContext: { transitionManager: transitionManager, router: router }\n      });\n    }\n\n    callback(error, redirectLocation && history.createLocation(redirectLocation, _Actions.REPLACE), renderProps);\n  });\n}\n\nexports.default = match;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = matchRoutes;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _PromiseUtils = require('./PromiseUtils');\n\nvar _PatternUtils = require('./PatternUtils');\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nvar _RouteUtils = require('./RouteUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getChildRoutes(route, location, paramNames, paramValues, callback) {\n  if (route.childRoutes) {\n    return [null, route.childRoutes];\n  }\n  if (!route.getChildRoutes) {\n    return [];\n  }\n\n  var sync = true,\n      result = void 0;\n\n  var partialNextState = {\n    location: location,\n    params: createParams(paramNames, paramValues)\n  };\n\n  var childRoutesReturn = route.getChildRoutes(partialNextState, function (error, childRoutes) {\n    childRoutes = !error && (0, _RouteUtils.createRoutes)(childRoutes);\n    if (sync) {\n      result = [error, childRoutes];\n      return;\n    }\n\n    callback(error, childRoutes);\n  });\n\n  if ((0, _PromiseUtils.isPromise)(childRoutesReturn)) childRoutesReturn.then(function (childRoutes) {\n    return callback(null, (0, _RouteUtils.createRoutes)(childRoutes));\n  }, callback);\n\n  sync = false;\n  return result; // Might be undefined.\n}\n\nfunction getIndexRoute(route, location, paramNames, paramValues, callback) {\n  if (route.indexRoute) {\n    callback(null, route.indexRoute);\n  } else if (route.getIndexRoute) {\n    var partialNextState = {\n      location: location,\n      params: createParams(paramNames, paramValues)\n    };\n\n    var indexRoutesReturn = route.getIndexRoute(partialNextState, function (error, indexRoute) {\n      callback(error, !error && (0, _RouteUtils.createRoutes)(indexRoute)[0]);\n    });\n\n    if ((0, _PromiseUtils.isPromise)(indexRoutesReturn)) indexRoutesReturn.then(function (indexRoute) {\n      return callback(null, (0, _RouteUtils.createRoutes)(indexRoute)[0]);\n    }, callback);\n  } else if (route.childRoutes || route.getChildRoutes) {\n    var onChildRoutes = function onChildRoutes(error, childRoutes) {\n      if (error) {\n        callback(error);\n        return;\n      }\n\n      var pathless = childRoutes.filter(function (childRoute) {\n        return !childRoute.path;\n      });\n\n      (0, _AsyncUtils.loopAsync)(pathless.length, function (index, next, done) {\n        getIndexRoute(pathless[index], location, paramNames, paramValues, function (error, indexRoute) {\n          if (error || indexRoute) {\n            var routes = [pathless[index]].concat(Array.isArray(indexRoute) ? indexRoute : [indexRoute]);\n            done(error, routes);\n          } else {\n            next();\n          }\n        });\n      }, function (err, routes) {\n        callback(null, routes);\n      });\n    };\n\n    var result = getChildRoutes(route, location, paramNames, paramValues, onChildRoutes);\n    if (result) {\n      onChildRoutes.apply(undefined, result);\n    }\n  } else {\n    callback();\n  }\n}\n\nfunction assignParams(params, paramNames, paramValues) {\n  return paramNames.reduce(function (params, paramName, index) {\n    var paramValue = paramValues && paramValues[index];\n\n    if (Array.isArray(params[paramName])) {\n      params[paramName].push(paramValue);\n    } else if (paramName in params) {\n      params[paramName] = [params[paramName], paramValue];\n    } else {\n      params[paramName] = paramValue;\n    }\n\n    return params;\n  }, params);\n}\n\nfunction createParams(paramNames, paramValues) {\n  return assignParams({}, paramNames, paramValues);\n}\n\nfunction matchRouteDeep(route, location, remainingPathname, paramNames, paramValues, callback) {\n  var pattern = route.path || '';\n\n  if (pattern.charAt(0) === '/') {\n    remainingPathname = location.pathname;\n    paramNames = [];\n    paramValues = [];\n  }\n\n  // Only try to match the path if the route actually has a pattern, and if\n  // we're not just searching for potential nested absolute paths.\n  if (remainingPathname !== null && pattern) {\n    try {\n      var matched = (0, _PatternUtils.matchPattern)(pattern, remainingPathname);\n      if (matched) {\n        remainingPathname = matched.remainingPathname;\n        paramNames = [].concat(paramNames, matched.paramNames);\n        paramValues = [].concat(paramValues, matched.paramValues);\n      } else {\n        remainingPathname = null;\n      }\n    } catch (error) {\n      callback(error);\n    }\n\n    // By assumption, pattern is non-empty here, which is the prerequisite for\n    // actually terminating a match.\n    if (remainingPathname === '') {\n      var match = {\n        routes: [route],\n        params: createParams(paramNames, paramValues)\n      };\n\n      getIndexRoute(route, location, paramNames, paramValues, function (error, indexRoute) {\n        if (error) {\n          callback(error);\n        } else {\n          if (Array.isArray(indexRoute)) {\n            var _match$routes;\n\n            process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(indexRoute.every(function (route) {\n              return !route.path;\n            }), 'Index routes should not have paths') : void 0;\n            (_match$routes = match.routes).push.apply(_match$routes, indexRoute);\n          } else if (indexRoute) {\n            process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(!indexRoute.path, 'Index routes should not have paths') : void 0;\n            match.routes.push(indexRoute);\n          }\n\n          callback(null, match);\n        }\n      });\n\n      return;\n    }\n  }\n\n  if (remainingPathname != null || route.childRoutes) {\n    // Either a) this route matched at least some of the path or b)\n    // we don't have to load this route's children asynchronously. In\n    // either case continue checking for matches in the subtree.\n    var onChildRoutes = function onChildRoutes(error, childRoutes) {\n      if (error) {\n        callback(error);\n      } else if (childRoutes) {\n        // Check the child routes to see if any of them match.\n        matchRoutes(childRoutes, location, function (error, match) {\n          if (error) {\n            callback(error);\n          } else if (match) {\n            // A child route matched! Augment the match and pass it up the stack.\n            match.routes.unshift(route);\n            callback(null, match);\n          } else {\n            callback();\n          }\n        }, remainingPathname, paramNames, paramValues);\n      } else {\n        callback();\n      }\n    };\n\n    var result = getChildRoutes(route, location, paramNames, paramValues, onChildRoutes);\n    if (result) {\n      onChildRoutes.apply(undefined, result);\n    }\n  } else {\n    callback();\n  }\n}\n\n/**\n * Asynchronously matches the given location to a set of routes and calls\n * callback(error, state) when finished. The state object will have the\n * following properties:\n *\n * - routes       An array of routes that matched, in hierarchical order\n * - params       An object of URL parameters\n *\n * Note: This operation may finish synchronously if no routes have an\n * asynchronous getChildRoutes method.\n */\nfunction matchRoutes(routes, location, callback, remainingPathname) {\n  var paramNames = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var paramValues = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n\n  if (remainingPathname === undefined) {\n    // TODO: This is a little bit ugly, but it works around a quirk in history\n    // that strips the leading slash from pathnames when using basenames with\n    // trailing slashes.\n    if (location.pathname.charAt(0) !== '/') {\n      location = _extends({}, location, {\n        pathname: '/' + location.pathname\n      });\n    }\n    remainingPathname = location.pathname;\n  }\n\n  (0, _AsyncUtils.loopAsync)(routes.length, function (index, next, done) {\n    matchRouteDeep(routes[index], location, remainingPathname, paramNames, paramValues, function (error, match) {\n      if (error || match) {\n        done(error, match);\n      } else {\n        next();\n      }\n    });\n  }, callback);\n}\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports.default = routerWarning;\nexports._resetWarned = _resetWarned;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar warned = {};\n\nfunction routerWarning(falseToWarn, message) {\n  // Only issue deprecation warnings once.\n  if (message.indexOf('deprecated') !== -1) {\n    if (warned[message]) {\n      return;\n    }\n\n    warned[message] = true;\n  }\n\n  message = '[react-router] ' + message;\n\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  _warning2.default.apply(undefined, [falseToWarn, message].concat(args));\n}\n\nfunction _resetWarned() {\n  warned = {};\n}","'use strict';\n\nexports.__esModule = true;\nexports.default = useRouterHistory;\n\nvar _useQueries = require('history/lib/useQueries');\n\nvar _useQueries2 = _interopRequireDefault(_useQueries);\n\nvar _useBasename = require('history/lib/useBasename');\n\nvar _useBasename2 = _interopRequireDefault(_useBasename);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction useRouterHistory(createHistory) {\n  return function (options) {\n    var history = (0, _useQueries2.default)((0, _useBasename2.default)(createHistory))(options);\n    return history;\n  };\n}\nmodule.exports = exports['default'];","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/*\r\n * @Author:\r\n * @Date: 2019-12-10 15:16:39\r\n * @LastEditTime: 2019-12-13 12:41:16\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: /liebao/koot-clinic/src-api-server/config.js\r\n */\r\nconst fs = require('fs-extra');\r\nconst path = require('path');\r\n\r\n// ============================================================================\r\n\r\nconst url =\r\n    process.env.WEBPACK_BUILD_ENV === 'dev'\r\n        ? `http://127.0.0.1:3088`\r\n        : `http://clinic.cmcm.com`;\r\n\r\nconst { sql_config, page_speed_api_key } = fs.readJsonSync(\r\n    path.resolve(\r\n        __dirname,\r\n        '../sh',\r\n        `secret.${\r\n            process.env.WEBPACK_BUILD_ENV === 'dev' ? 'dev' : 'prod'\r\n        }.json`\r\n    )\r\n);\r\n\r\nmodule.exports = {\r\n    /** Koot Clinic 域名 */\r\n    url,\r\n\r\n    /** API 服务器端口 */\r\n    port:\r\n        process.env.KOOT_CLINIC_API_SERVER_PORT ||\r\n        (process.env.WEBPACK_BUILD_ENV === 'dev'\r\n            ? 3089 // 开发环境\r\n            : 8081), // 生产环境\r\n\r\n    /** SQL 服务器相关设置 */\r\n    sql_config,\r\n\r\n    /** PageSpeed Insights API Key */\r\n    page_speed_api_key,\r\n\r\n    /** 结果存储路径，在使用数据库操作前临时采用 */\r\n    dirResults: path.resolve(__dirname, '.results'),\r\n\r\n    /** 计划任务自动执行时间间隔 */\r\n    autoTaskTime: 7,\r\n\r\n    /** 重新诊断时间间隔 */\r\n\r\n    revertTaskTime: 1\r\n};\r\n","import { Result } from '@types';\r\nimport request from '@utils/request';\r\n\r\nexport const get = (domain: string): Promise<Result> =>\r\n    request<Result>('get', {\r\n        url: `/api/urlHistory?url=${encodeURIComponent(domain)}`\r\n    });\r\n","import { Result } from '@types';\r\nimport request from '@utils/request';\r\n\r\nexport const get = (resultId: string): Promise<Result> =>\r\n    request<Result>('get', {\r\n        url: `/api/result?id=${resultId}`\r\n    });\r\n","module.exports = __webpack_public_path__ + \"9d7bb185f4a13e07f27da3f85bbd6971.svg\";","import React from 'react';\r\nimport { extend } from 'koot';\r\n\r\nconst Center = extend({\r\n    styles: require('./index.module.less')\r\n})(props => <div {...props} />);\r\n\r\nexport default Center;\r\n","export const wrapper = 'ffca8f';export const css = '@-webkit-keyframes fade-in{.ffca8f 0%{opacity:0}.ffca8f to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.ffca8f 0%{opacity:0}.ffca8f to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.ffca8f .link-color-inherit{color:inherit;text-decoration:underline}.ffca8f html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.ffca8f .link-color-inherit:active,.ffca8f html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.ffca8f{width:100%;max-width:1280px;margin-left:auto;margin-right:auto;border-left:20px solid transparent;border-right:20px solid transparent}';export default{wrapper,css}","import React from 'react';\r\nimport { extend } from 'koot';\r\n\r\nconst Icon = extend({\r\n    styles: require('./index.module.less')\r\n})(({ className, style, id, icon, ...props }) => (\r\n    <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n        className={className}\r\n        style={style}\r\n        {...props}\r\n    >\r\n        <use xlinkHref={'#icon-' + (id || icon)} />\r\n    </svg>\r\n));\r\n\r\nexport default Icon;\r\n","export const wrapper = 'f6f9cd';export const css = '@-webkit-keyframes fade-in{.f6f9cd 0%{opacity:0}.f6f9cd to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.f6f9cd 0%{opacity:0}.f6f9cd to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.f6f9cd .link-color-inherit{color:inherit;text-decoration:underline}.f6f9cd html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.f6f9cd .link-color-inherit:active,.f6f9cd html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.f6f9cd{display:inline-block;width:16px;height:16px;stroke-width:0;stroke:currentColor;fill:currentColor;vertical-align:text-top}';export default{wrapper,css}","import React from 'react';\r\nimport { extend } from 'koot';\r\n\r\nconst Spinner = extend({\r\n    styles: require('./index.module.less')\r\n})(({ className, component, style, size, ...props }) => {\r\n    const Component = component || 'span';\r\n\r\n    if (size && typeof style !== 'object') style = {};\r\n    if (size) {\r\n        const s = parseInt(size);\r\n        style.width = `${s}px`;\r\n        style.height = `${s}px`;\r\n    }\r\n\r\n    return <Component className={className} style={style} {...props} />;\r\n});\r\n\r\nexport default Spinner;\r\n","export const wrapper = 'a2a489';export const css = '@-webkit-keyframes fade-in{.a2a489 0%{opacity:0}.a2a489 to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.a2a489 0%{opacity:0}.a2a489 to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.a2a489 .link-color-inherit{color:inherit;text-decoration:underline}.a2a489 html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.a2a489 .link-color-inherit:active,.a2a489 html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.a2a489{display:inline-block;width:64px;height:64px;vertical-align:middle;position:relative;-webkit-animation-duration:1s;animation-duration:1s}.a2a489:after,.a2a489:before{content:\"\";position:absolute;top:0;bottom:0;left:0;right:0;border-radius:50%}.a2a489:before{border-top:4px solid #00b0ff;z-index:2;-webkit-animation:inherit;animation:inherit;-webkit-animation-name:spinning;animation-name:spinning;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes spinning{.a2a489 0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}.a2a489 to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spinning{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.a2a489:after{border:2px solid #d0d9dd}';export default{wrapper,css}","export const wrapper = 'c302c2';export const css = '@-webkit-keyframes fade-in{.c302c2 0%{opacity:0}.c302c2 to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.c302c2 0%{opacity:0}.c302c2 to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.c302c2 .link-color-inherit{color:inherit;text-decoration:underline}.c302c2 html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.c302c2 .link-color-inherit:active,.c302c2 html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.c302c2{position:relative}';export default{wrapper,css}","import React from 'react';\r\nimport { extend, ExtendedProps } from 'koot';\r\nimport marked from 'marked';\r\n\r\nimport styles from './index.module.less';\r\n\r\n// ============================================================================\r\n\r\ninterface ComponentProps extends ExtendedProps {\r\n    source: string;\r\n}\r\n\r\n// Functional Component =======================================================\r\n@extend({\r\n    styles\r\n})\r\nclass Markdown extends React.PureComponent<ComponentProps> {\r\n    ContainerRef: React.RefObject<HTMLDivElement> = React.createRef();\r\n    componentDidMount(): void {\r\n        if (this.ContainerRef.current) {\r\n            const links = this.ContainerRef.current.querySelectorAll(\r\n                'a[href*=\"//\"]'\r\n            );\r\n            for (let i = 0; i < links.length; i++) {\r\n                links[i].setAttribute('target', '_blank');\r\n            }\r\n        }\r\n    }\r\n    render(): React.ReactNode {\r\n        return (\r\n            <div\r\n                className={this.props.className}\r\n                dangerouslySetInnerHTML={{\r\n                    __html: marked(this.props.source)\r\n                }}\r\n                ref={this.ContainerRef}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default Markdown;\r\n","export const FETCH_RESULT = 'FETCH_RESULT';\r\nexport const FETCH_HISTORY = 'FETCH_HISTORY';\r\n","export const repo = 'https://github.com/cmux/koot-clinic';\r\nexport const url = `https://clinic.cmcm.com`;\r\n\r\nexport const pathnames = {\r\n    api: '/api',\r\n    result: `/result`\r\n};\r\n","/* global\r\n    __SVG_ICON_PACK__:false\r\n*/\r\n\r\nexport default {\r\n    performanceInfos: () => `<!-- rendered: ${new Date().toISOString()} -->`,\r\n    svgIconPack: __SVG_ICON_PACK__,\r\n\r\n    resultLoading: (template, state, ctx) => {\r\n        if (\r\n            /^\\/result\\/[^/]+?/.test(ctx.path) ||\r\n            /^\\/result-new\\/[^/]+?/.test(ctx.path)\r\n        ) {\r\n            const icons = ['ruler', 'tools', 'knife'];\r\n            return `<div id=\"__result-loader\">\r\n            <div class=\"icons\">\r\n            <div class=\"wrapper\">${icons\r\n                .concat(icons[0])\r\n                .map(icon =>\r\n                    `\r\n                <div class=\"icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\r\n                        <use xlink:href=\"#icon-${icon}\"></use>\r\n                    </svg>\r\n                </div>\r\n                `\r\n                        .replace(/\\n/g, '')\r\n                        .replace(/\\s{2}/g, '')\r\n                )\r\n                .join('')}\r\n                </div></div></div>`;\r\n        }\r\n        return '';\r\n    }\r\n};\r\n","import routeCheck from 'koot/React/route-check';\r\n\r\nimport { pathnames } from '@constants/app';\r\n\r\nimport App from '@views/app';\r\nimport ViewSubmit from '@views/submit';\r\n\r\n/**\r\n * @type {Object} 路由配置对象\r\n * 原则上支持任何与 `react-router` (v3) 兼容的对象\r\n * - 可使用 koot-router 提供的方法封装路由配置对象\r\n */\r\nconst routes = {\r\n    path: '/',\r\n    component: App, // 项目的根层组件\r\n\r\n    indexRoute: {\r\n        /**\r\n         * 标准写法: 打包后，该组件会存在于核心包中\r\n         * - 推荐小型项目或大型项目的小型页面使用\r\n         */\r\n        component: ViewSubmit\r\n\r\n        /**\r\n         * 代码分割写法: 打包后，该组件会存在于独立的 .js 文件中\r\n         * - 推荐大型项目使用\r\n         * - 推荐使用 koot 提供的 `routeCheck()` 方法保证路由组件的正确渲染 (详情请查阅文档)\r\n         */\r\n        // getComponent: (nextState, cb) => {\r\n        //     import(\r\n        //         /* webpackChunkName: \"PageHome\" */\r\n        //         '@views/home'\r\n        //     ).then(module => {\r\n        //         if (routeCheck(nextState)) cb(null, module.default);\r\n        //     });\r\n        // }\r\n    },\r\n\r\n    childRoutes: [\r\n        // {\r\n        //     path: 'result/:resultId',\r\n        //     getComponent: (nextState, cb) => {\r\n        //         import(\r\n        //             /* webpackChunkName: \"PageStart\" */\r\n        //             '@views/result-old'\r\n        //         ).then(module => {\r\n        //             if (routeCheck(nextState)) cb(null, module.default);\r\n        //         });\r\n        //     }\r\n        // },\r\n        // {\r\n        //     path: 'result/:resultId/:type',\r\n        //     getComponent: (nextState, cb) => {\r\n        //         import(\r\n        //             /* webpackChunkName: \"PageStart\" */\r\n        //             '@views/result-old'\r\n        //         ).then(module => {\r\n        //             if (routeCheck(nextState)) cb(null, module.default);\r\n        //         });\r\n        //     }\r\n        // },\r\n        {\r\n            path: `${pathnames.result.substr(1)}/:resultId`,\r\n            getComponent: (nextState, cb) => {\r\n                import(\r\n                    /* webpackChunkName: \"PageResult\" */\r\n                    '@views/result'\r\n                ).then(module => {\r\n                    if (routeCheck(nextState)) cb(null, module.default);\r\n                });\r\n            },\r\n            childRoutes: [\r\n                {\r\n                    path: ':tab'\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n};\r\n\r\nif (__DEV__) {\r\n    routes.childRoutes.push({\r\n        path: '__dev-test-api',\r\n        getComponent: (nextState, cb) => {\r\n            import('@views/dev-test-api').then(module => {\r\n                if (routeCheck(nextState)) cb(null, module.default);\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport default routes;\r\n","/**\r\n * **服务器端生命周期**\r\n *\r\n * _创建 Koa 实例后、挂载任何中间件之前_\r\n */\r\n\r\nimport Koa, { DefaultState, ExtendableContext } from 'koa';\r\nimport koaBetterHttpProxy from 'koa-better-http-proxy';\r\nimport koaMount from 'koa-mount';\r\n\r\nimport { pathnames } from '@constants/app';\r\nimport { port as apiServerPort } from '@srcApiServer/config';\r\n\r\n// import mock from './mock';\r\n// import routes from './routes';\r\n\r\nexport default async (app: Koa): Promise<void> => {\r\n    // if (__DEV__) mock(app);\r\n\r\n    // API 代理服务器 =========================================================\r\n    const proxyApiServer = new Koa<\r\n        DefaultState,\r\n        ExtendableContext & { state: {} }\r\n    >();\r\n    proxyApiServer.use(koaBetterHttpProxy(`localhost:${apiServerPort}`, {}));\r\n    proxyApiServer.use(async () => {});\r\n    app.use(koaMount(pathnames.api, proxyApiServer));\r\n\r\n    // 挂载路由 ===============================================================\r\n    // app.use(routes);\r\n};\r\n","import { createReduxModuleStore, applyMiddleware } from 'koot-redux';\r\nimport { reduxForCreateStore } from 'koot';\r\n\r\nimport resultModule from './modules/result';\r\nimport historyModule from './modules/history';\r\n\r\nexport default () => {\r\n    let middlewares;\r\n    if (__CLIENT__ && __DEV__) {\r\n        middlewares = require('redux-devtools-extension').composeWithDevTools(\r\n            applyMiddleware(...reduxForCreateStore.middlewares)\r\n        );\r\n    }\r\n\r\n    return createReduxModuleStore(\r\n        {\r\n            state: {\r\n                ...reduxForCreateStore.reducers\r\n            },\r\n            reducers: {},\r\n            actions: {},\r\n            modules: {\r\n                result: resultModule,\r\n                history: historyModule\r\n            }\r\n        },\r\n        reduxForCreateStore.initialState,\r\n        middlewares\r\n    );\r\n};\r\n","import { FETCH_HISTORY } from '@constants/actions';\r\nimport { get as getHistory } from '@api/history';\r\n\r\nconst reducerUpdateByOrigin = '__HISTORY_UPDATE_BY_DOMAIN__';\r\n\r\nexport default {\r\n    state: {},\r\n    reducers: {\r\n        [reducerUpdateByOrigin](state, payload = {}) {\r\n            const { list, origin } = payload;\r\n            if (list && origin) state[origin] = list;\r\n            return state;\r\n        }\r\n    },\r\n    actions: {\r\n        [FETCH_HISTORY](\r\n            {\r\n                commit,\r\n                state\r\n                //rootState, dispatch\r\n            },\r\n            payload = {}\r\n        ) {\r\n            const { origin } = payload;\r\n            if (!origin) return;\r\n\r\n            // 如果存在处理完毕的结果，直接返回\r\n            if (typeof state[origin] === 'object')\r\n                return new Promise(resolve => resolve(state[origin]));\r\n\r\n            return getHistory(origin).then(list =>\r\n                commit(reducerUpdateByOrigin, { list, origin })\r\n            );\r\n        }\r\n    },\r\n    modules: {}\r\n};\r\n","/*\r\n * @Author: your name\r\n * @Date: 2019-12-24 11:18:24\r\n * @LastEditTime: 2019-12-24 11:21:27\r\n * @LastEditors: your name\r\n * @Description: In User Settings Edit\r\n * @FilePath: /liebao/koot-clinic/src/store/modules/result.js\r\n */\r\nimport { FETCH_RESULT } from '@constants/actions';\r\nimport { get as getResult } from '@api/result';\r\n\r\nconst reducerUpdateById = '__RESULT_UPDATE_BY_ID__';\r\n\r\nexport default {\r\n    state: {},\r\n    reducers: {\r\n        [reducerUpdateById](state, payload = {}) {\r\n            const { result, id } = payload;\r\n            if (result && id) state[id] = result;\r\n            return state;\r\n        }\r\n    },\r\n    actions: {\r\n        [FETCH_RESULT](\r\n            {\r\n                commit,\r\n                state\r\n                //rootState, dispatch\r\n            },\r\n            payload = {}\r\n        ) {\r\n            const { id } = payload;\r\n            if (!id) return;\r\n\r\n            // 如果存在处理完毕的结果，直接返回\r\n            if (typeof state[id] === 'object')\r\n                return new Promise(resolve => resolve(state[id]));\r\n\r\n            return getResult(id)\r\n                .then(result => commit(reducerUpdateById, { result, id }))\r\n                .then(r => r.payload.result);\r\n        }\r\n    },\r\n    modules: {}\r\n};\r\n","/**\r\n * 滚动至指定 Y 坐标或目标元素的位置\r\n */\r\nconst scrollTo = (YorElement: number | HTMLElement, offset = 0): void => {\r\n    let y = offset;\r\n    if (typeof YorElement === 'number') {\r\n        y += YorElement;\r\n    } else if (YorElement instanceof Element) {\r\n        const rect = YorElement.getBoundingClientRect();\r\n        y += rect.top + window.pageYOffset;\r\n    }\r\n    doScroll(y);\r\n};\r\n\r\nexport default scrollTo;\r\n\r\n// ============================================================================\r\n\r\nconst doScroll = (y: number): void => {\r\n    if (typeof window.scroll === 'function') {\r\n        try {\r\n            window.scroll({\r\n                top: y,\r\n                left: 0,\r\n                behavior: 'smooth'\r\n            });\r\n        } catch (e) {\r\n            doScrollFallback(y);\r\n        }\r\n    } else {\r\n        doScrollFallback(y);\r\n    }\r\n};\r\n\r\nconst doScrollFallback = (y: number): void => {\r\n    window.scrollTo(0, y);\r\n};\r\n","import { pathnames } from '@constants/app';\r\n\r\n/**\r\n * 获取完整的 API 地址\r\n * - 如果传入的地址以 `/api` 开头，直接返回\r\n */\r\nfunction getApi(url: string): string {\r\n    if (url.includes('://')) return url;\r\n\r\n    const uri = new RegExp(`^${pathnames.api}`).test(url)\r\n        ? url\r\n        : pathnames.api + ((url || '').substr(0, 1) !== '/' ? '/' : '') + url;\r\n\r\n    if (__CLIENT__) return uri;\r\n\r\n    return `http://127.0.0.1:${\r\n        __DEV__ ? process.env.SERVER_PORT_DEV_MAIN : process.env.SERVER_PORT\r\n    }${uri}`;\r\n}\r\n\r\nexport default getApi;\r\n","/** 生成完整的页面简介 */\r\nexport default (description?: string): string => {\r\n    const _des = __('description');\r\n    if (description) return `${description} - ${_des}`;\r\n    return _des;\r\n};\r\n","/**\r\n * 显示可读的目标时间到当前时间的差值，如“3天前”“10秒后”\r\n */\r\nconst getTimeDiff = (timestamp: number | string | Date): string => {\r\n    const t = timestamp instanceof Date ? timestamp : new Date(timestamp);\r\n    const diff = Date.now() - t.valueOf();\r\n\r\n    const seconds = diff / 1000;\r\n    if (seconds < 60 && seconds >= 0) return __('time_diff.moment_ago');\r\n    else if (seconds > -60 && seconds < -1)\r\n        return __('time_diff.seconds_after', {\r\n            second: '' + Math.floor(seconds)\r\n        });\r\n    else if (seconds >= -1 && seconds < 0)\r\n        return __('time_diff.second_after', {\r\n            second: '' + Math.floor(seconds)\r\n        });\r\n\r\n    const minutes = seconds / 60;\r\n    if (minutes < 60 && minutes > 1)\r\n        return __('time_diff.minutes_before', {\r\n            minute: '' + Math.ceil(minutes)\r\n        });\r\n    else if (minutes <= 1 && minutes >= 0)\r\n        return __('time_diff.minute_before', {\r\n            minute: '' + Math.ceil(minutes)\r\n        });\r\n    else if (minutes > -60 && minutes < -1)\r\n        return __('time_diff.minutes_after', {\r\n            minute: '' + Math.floor(minutes)\r\n        });\r\n    else if (minutes >= -1 && minutes < 0)\r\n        return __('time_diff.minute_after', {\r\n            minute: '' + Math.floor(minutes)\r\n        });\r\n\r\n    const hours = minutes / 60;\r\n    if (hours < 24 && hours > 1)\r\n        return __('time_diff.hours_before', {\r\n            hour: '' + Math.ceil(hours)\r\n        });\r\n    else if (hours <= 1 && hours >= 0)\r\n        return __('time_diff.hour_before', {\r\n            hour: '' + Math.ceil(hours)\r\n        });\r\n    else if (hours > -24 && hours < -1)\r\n        return __('time_diff.hours_after', {\r\n            hour: '' + Math.floor(hours)\r\n        });\r\n    else if (hours >= -1 && hours < 0)\r\n        return __('time_diff.hour_after', {\r\n            hour: '' + Math.floor(hours)\r\n        });\r\n\r\n    const days = hours / 24;\r\n    if (days > 1)\r\n        return __('time_diff.days_before', {\r\n            day: '' + Math.ceil(days)\r\n        });\r\n    else if (days <= 1 && days >= 0)\r\n        return __('time_diff.day_before', {\r\n            day: '' + Math.ceil(days)\r\n        });\r\n    else if (days < -1)\r\n        return __('time_diff.days_after', {\r\n            day: '' + Math.floor(days)\r\n        });\r\n    else if (days >= -1 && days < 0)\r\n        return __('time_diff.day_after', {\r\n            day: '' + Math.floor(days)\r\n        });\r\n\r\n    return '' + diff;\r\n};\r\n\r\nexport default getTimeDiff;\r\n","/**\r\n * 生成完整的页面标题\r\n * @param {String} title\r\n * @returns {String}\r\n */\r\nexport default (pageTitle?: string): string => {\r\n    if (pageTitle) return `${pageTitle} - ${__NAME__}`;\r\n    return __NAME__;\r\n};\r\n","import axios, { Method, AxiosResponse, AxiosRequestConfig } from 'axios';\r\n\r\nimport getApi from '@utils/get-api';\r\n\r\nfunction request<T, R = AxiosResponse<T>>(\r\n    method: Method,\r\n    config: AxiosRequestConfig\r\n): Promise<T>;\r\nfunction request<T, R = AxiosResponse<T>>(\r\n    config: AxiosRequestConfig\r\n): Promise<T>;\r\nfunction request<T, R = AxiosResponse<T>>(\r\n    config: Method | AxiosRequestConfig = {},\r\n    config2?: AxiosRequestConfig\r\n): Promise<T> {\r\n    if (typeof config === 'string') {\r\n        return request({\r\n            ...(config2 || {}),\r\n            method: config\r\n        });\r\n    }\r\n\r\n    if (config.url) config.url = getApi(config.url);\r\n\r\n    return axios(config).then(res => {\r\n        if (res.status !== 200 || res.statusText !== 'OK') {\r\n            const err = new Error('REQUEST_FAIL');\r\n            Object.assign(err, {\r\n                response: res\r\n            });\r\n            throw err;\r\n        }\r\n        return res.data;\r\n    });\r\n}\r\n\r\nexport default request;\r\n","export const wrapper = 'c302c2';export const css = '@-webkit-keyframes fade-in{.c302c2 0%{opacity:0}.c302c2 to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.c302c2 0%{opacity:0}.c302c2 to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.c302c2 .link-color-inherit{color:inherit;text-decoration:underline}.c302c2 html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.c302c2 .link-color-inherit:active,.c302c2 html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.c302c2{position:relative}';export default{wrapper,css}","import React from 'react';\r\nimport { extend } from 'koot';\r\n\r\nimport styles from './app.module.less';\r\n\r\n// const { wrapper: moduleClassName } = styles;\r\n\r\n// ----------------------------------------------------------------------------\r\n\r\nconst App = extend({\r\n    styles\r\n})(\r\n    ({ className, children, ...props }): JSX.Element => (\r\n        <main id=\"main\" className={className} children={children} />\r\n    )\r\n);\r\nexport default App;\r\n","export const wrapper = 'd3d0f1';export const css = '@-webkit-keyframes fade-in{.d3d0f1 0%{opacity:0}.d3d0f1 to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.d3d0f1 0%{opacity:0}.d3d0f1 to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.d3d0f1 .link-color-inherit{color:inherit;text-decoration:underline}.d3d0f1 html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.d3d0f1 .link-color-inherit:active,.d3d0f1 html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.d3d0f1{display:-webkit-flex;display:flex;-webkit-flex-flow:column nowrap;flex-flow:column nowrap;position:fixed;top:0;left:0;z-index:100;width:255px;height:100%;overflow:hidden;overflow-y:auto;overscroll-behavior-y:contain;border-right:1px solid var(--root-border-color);background:var(--root-background-color)}@media only screen and (min-width:760px) and (max-width:1030px){.d3d0f1{width:24.75728155vw}}@media only screen and (max-width:759px){.d3d0f1{overflow-y:scroll;left:auto;right:0;-webkit-transform:translateX(100%);transform:translateX(100%);border-right:0;border-left:1px solid var(--root-border-color);opacity:.9999;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}}.d3d0f1-site{-webkit-flex:0;flex:0;text-align:center;margin:30px 0 0;padding:0 30px}.d3d0f1-site .icon{position:relative;display:inline-block;width:150px;max-width:100%;background:var(--root-background-color-deeper) no-repeat 50% 50%;background-size:contain;border-radius:10px;overflow:hidden;box-shadow:0 12px 12px -10px rgba(0,0,0,.25)}.d3d0f1-site .icon>.wrapper{position:relative;width:100%;height:0;padding-bottom:100%}.d3d0f1-site .icon .no-icon{position:absolute;top:50%;left:50%;margin-top:-37.5px;margin-left:-37.5px;width:75px;height:75px;fill:var(--root-content-color-lighter)}.d3d0f1-site .domain,.d3d0f1-site .name{display:block;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;color:var(--root-text-main-color);font-weight:bolder;line-height:1.2;margin:10px auto 0 0}.d3d0f1-site .name{font-size:30px}.d3d0f1-site .domain{font-size:24px}.d3d0f1-site .name~.domain{color:var(--root-content-color-lighter);font-size:16px}.d3d0f1-options{-webkit-flex:1;flex:1;margin:30px 0 0}.d3d0f1-options .option{display:block;padding:10px 30px;font-weight:bolder;border-left:4px solid transparent;color:var(--root-content-color-lighter);transition-property:color,background-color,border-color}.d3d0f1-options .option.is-active{border-left-color:var(--root-accent-color);background-color:var(--root-background-color-deeper);color:var(--root-text-main-color);cursor:default}.d3d0f1-options .option.is-active:active,html.is-hover .d3d0f1-options .option.is-active:hover,html.is-hover .d3d0f1-options .option.is-active:hover:active{color:var(--root-text-main-color)}.d3d0f1-remaining{-webkit-flex:0;flex:0;margin:30px 0;padding:0 30px;color:var(--root-content-color-lighter)}.d3d0f1-remaining .time{display:block;color:var(--root-text-main-color)}.d3d0f1-controller-checkbox{position:absolute;top:-100%;left:-100%}.d3d0f1-controller-switch{position:static}.d3d0f1-controller-switch .mask,.d3d0f1-controller-switch .switch{display:none;position:fixed;top:0;right:0}@media only screen and (max-width:759px){.d3d0f1-controller-switch .mask,.d3d0f1-controller-switch .switch{display:block}}.d3d0f1-controller-switch .switch{z-index:101;width:50px;height:50px}.d3d0f1-controller-switch .switch .icon{position:absolute;top:50%;left:50%;margin-top:-15px;margin-left:-15px;width:30px;height:30px}.d3d0f1-controller-switch .mask{z-index:99;width:100%;height:100%;opacity:0;background:hsla(0,0%,98%,.75);pointer-events:none;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px);overflow:auto;overscroll-behavior-y:contain;transition-property:opacity}@supports ((-webkit-backdrop-filter:saturate(180%) blur(20px)) or (backdrop-filter:saturate(180%) blur(20px))){.d3d0f1-controller-switch .mask{background:hsla(0,0%,98%,.1)}}.d3d0f1-controller-switch .mask:after{content:\"\";position:absolute;width:100%;height:110%}@media (prefers-color-scheme:dark){.d3d0f1-controller-switch .mask{background:rgba(33,33,33,.75)}@supports ((-webkit-backdrop-filter:saturate(180%) blur(20px)) or (backdrop-filter:saturate(180%) blur(20px))){.d3d0f1-controller-switch .mask{background:rgba(33,33,33,.1)}}}.d3d0f1-controller-checkbox:checked~.d3d0f1{-webkit-transform:none;transform:none}.d3d0f1-controller-checkbox:checked~.d3d0f1-controller-switch .mask{opacity:1;-webkit-animation:fade-in .2s ease-out;animation:fade-in .2s ease-out;pointer-events:all}';export default{wrapper,css}","import { DiagnoseHistory } from '@types';\r\n\r\nimport React, { PropsWithChildren } from 'react';\r\nimport { extend } from 'koot';\r\nimport { Link, IndexLink } from 'react-router';\r\nimport prettyMs from 'pretty-ms';\r\nimport classNames from 'classnames';\r\nimport md5 from 'md5';\r\n\r\nimport { pathnames } from '@constants/app';\r\nimport Icon from '@components/icon';\r\n\r\nimport { tabs } from '../main';\r\nimport styles, { wrapper as classNameModule } from './index.module.less';\r\n\r\n// ============================================================================\r\n\r\nconst menuCheckboxId = md5('menuCheckboxId');\r\ninterface ComponentProps {\r\n    history: DiagnoseHistory;\r\n    resultId: string;\r\n}\r\n\r\n// Functional Component =======================================================\r\n\r\nconst Aside = extend<ComponentProps>({\r\n    styles\r\n})(\r\n    React.memo(\r\n        ({ className, history, resultId }): JSX.Element => {\r\n            const { domain, nextScheduledTimestamp, results = [] } = history;\r\n            const latestResultId =\r\n                Array.isArray(results) && results.length\r\n                    ? results.sort(\r\n                          (a, b) =>\r\n                              new Date(b.clinic.createTime).valueOf() -\r\n                              new Date(a.clinic.createTime).valueOf()\r\n                      )[0].clinic.everyQueryKey\r\n                    : undefined;\r\n            return (\r\n                <React.Fragment>\r\n                    <PhoneViewController />\r\n                    <div className={className}>\r\n                        <Site domain={domain} />\r\n                        <Options\r\n                            resultId={resultId}\r\n                            latestResultId={\r\n                                resultId !== latestResultId\r\n                                    ? latestResultId\r\n                                    : undefined\r\n                            }\r\n                        />\r\n                        <Remaining\r\n                            nextScheduledTimestamp={nextScheduledTimestamp}\r\n                        />\r\n                    </div>\r\n                </React.Fragment>\r\n            );\r\n        }\r\n    )\r\n);\r\n\r\nexport default Aside;\r\n\r\n// ============================================================================\r\n\r\ninterface SiteProps {\r\n    domain: string;\r\n    icon?: string;\r\n    name?: string;\r\n}\r\nconst Site = React.memo(\r\n    ({ domain, icon, name }: SiteProps): JSX.Element => (\r\n        <div className={`${classNameModule}-site`}>\r\n            <div\r\n                className=\"icon\"\r\n                style={{\r\n                    backgroundImage: icon ? `url(${icon})` : undefined\r\n                }}\r\n            >\r\n                <div className=\"wrapper\" />\r\n                {!icon && <Icon className=\"no-icon\" icon=\"sphere\" />}\r\n            </div>\r\n            {!!name ? <h1 className=\"name\">{name}</h1> : null}\r\n            <strong className=\"domain\">{domain}</strong>\r\n        </div>\r\n    )\r\n);\r\n\r\n// ============================================================================\r\n\r\ninterface OptionsProps {\r\n    latestResultId?: string;\r\n    resultId: string;\r\n}\r\nconst Options = React.memo(\r\n    ({ latestResultId, resultId }: OptionsProps): JSX.Element => (\r\n        <div className={`${classNameModule}-options`}>\r\n            {!!latestResultId ? (\r\n                <React.Fragment>\r\n                    <Option resultId={latestResultId}>\r\n                        {__('views.result.aside_options.latest')}\r\n                    </Option>\r\n                    <Option resultId={resultId}>\r\n                        {__('views.result.aside_options.current')}\r\n                    </Option>\r\n                </React.Fragment>\r\n            ) : (\r\n                <Option resultId={resultId}>\r\n                    {__('views.result.aside_options.latest')}\r\n                </Option>\r\n            )}\r\n            <Option resultId={resultId} type=\"history\">\r\n                {__('views.result.aside_options.history')}\r\n            </Option>\r\n        </div>\r\n    )\r\n);\r\n\r\ninterface OptionProps {\r\n    resultId: string;\r\n    type?: string;\r\n    currentPathname?: string;\r\n}\r\nconst Option = extend<OptionProps>({\r\n    connect: state => ({\r\n        currentPathname: state.routing.locationBeforeTransitions.pathname\r\n    })\r\n})(\r\n    React.memo(\r\n        ({\r\n            resultId,\r\n            type,\r\n            children,\r\n            currentPathname\r\n        }: PropsWithChildren<OptionProps>): JSX.Element => {\r\n            const Component = !!type ? Link : IndexLink;\r\n            const link = `${pathnames.result}/${resultId}${\r\n                type ? `/${type}` : ''\r\n            }`;\r\n            const result = new RegExp(`^${link}/*(.*)`).exec(\r\n                currentPathname || ''\r\n            );\r\n            const isActive =\r\n                !type &&\r\n                Array.isArray(result) &&\r\n                tabs.some(([uri]) => uri === result[1]);\r\n            return (\r\n                <Component\r\n                    to={link}\r\n                    className={classNames([\r\n                        'option',\r\n                        {\r\n                            'is-active': isActive\r\n                        }\r\n                    ])}\r\n                    activeClassName=\"is-active\"\r\n                >\r\n                    {children}\r\n                </Component>\r\n            );\r\n        }\r\n    )\r\n);\r\n\r\n// ============================================================================\r\n\r\ninterface RemainingProps {\r\n    nextScheduledTimestamp: number;\r\n}\r\ninterface RemainingState {\r\n    remaining: number;\r\n}\r\nclass Remaining extends React.PureComponent<RemainingProps, RemainingState> {\r\n    countdown?: NodeJS.Timeout;\r\n    constructor(props: RemainingProps) {\r\n        super(props);\r\n        this.state = {\r\n            remaining: this.getRemaining()\r\n        };\r\n    }\r\n    getRemaining(\r\n        nextScheduledTimestamp = this.props.nextScheduledTimestamp\r\n    ): number {\r\n        return nextScheduledTimestamp - Date.now();\r\n    }\r\n    componentDidMount(): void {\r\n        this.countdown = setInterval(() => {\r\n            this.setState({\r\n                remaining: this.getRemaining()\r\n            });\r\n        }, 1000);\r\n    }\r\n    componentWillUnmount(): void {\r\n        if (this.countdown) clearInterval(this.countdown);\r\n    }\r\n    render(): React.ReactNode {\r\n        return (\r\n            <div className={`${classNameModule}-remaining`}>\r\n                {__('views.result.next_scheduled_in')}\r\n                <strong className=\"time\">\r\n                    {prettyMs(this.state.remaining, {\r\n                        secondsDecimalDigits: 0,\r\n                        unitCount: 2\r\n                    })}\r\n                </strong>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// ============================================================================\r\n\r\ninterface PhoneViewControllerProps {\r\n    pathname?: string;\r\n}\r\n@extend({\r\n    connect: state => ({\r\n        pathname: state.routing.locationBeforeTransitions.pathname\r\n    }),\r\n    ssr: null\r\n})\r\nclass PhoneViewController extends React.PureComponent<\r\n    PhoneViewControllerProps,\r\n    {\r\n        renderMask: boolean;\r\n    }\r\n> {\r\n    CheckboxRef = React.createRef<HTMLInputElement>();\r\n\r\n    constructor(props: {}) {\r\n        super(props);\r\n        this.state = {\r\n            renderMask: false\r\n        };\r\n\r\n        this.labelOnClick = this.labelOnClick.bind(this);\r\n        this.maskOnTransitionEnd = this.maskOnTransitionEnd.bind(this);\r\n    }\r\n\r\n    labelOnClick(): void {\r\n        setTimeout(() => {\r\n            if (\r\n                this.CheckboxRef &&\r\n                this.CheckboxRef.current &&\r\n                this.CheckboxRef.current.checked\r\n            )\r\n                this.setState({\r\n                    renderMask: true\r\n                });\r\n        }, 1);\r\n    }\r\n    maskOnTransitionEnd(\r\n        evt: React.SyntheticEvent<HTMLDivElement, TransitionEvent>\r\n    ): void {\r\n        if (\r\n            evt.nativeEvent.propertyName === 'opacity' &&\r\n            parseFloat(getComputedStyle(evt.currentTarget).opacity || '0') < 0.1\r\n        ) {\r\n            this.setState({\r\n                renderMask: false\r\n            });\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps: PhoneViewControllerProps): void {\r\n        if (\r\n            this.props.pathname !== prevProps.pathname &&\r\n            this.CheckboxRef &&\r\n            this.CheckboxRef.current &&\r\n            this.CheckboxRef.current.checked\r\n        ) {\r\n            this.CheckboxRef.current.checked = false;\r\n        }\r\n    }\r\n\r\n    render(): React.ReactNode {\r\n        return (\r\n            <React.Fragment>\r\n                <input\r\n                    id={menuCheckboxId}\r\n                    className={`${classNameModule}-controller-checkbox`}\r\n                    type=\"checkbox\"\r\n                    defaultChecked={false}\r\n                    ref={this.CheckboxRef}\r\n                />\r\n                <label\r\n                    className={`${classNameModule}-controller-switch`}\r\n                    htmlFor={menuCheckboxId}\r\n                    onClick={this.labelOnClick}\r\n                >\r\n                    <div className=\"switch\">\r\n                        <Icon icon=\"menu7\" className=\"icon\" />\r\n                    </div>\r\n                    {this.state.renderMask && (\r\n                        <div\r\n                            className=\"mask\"\r\n                            onTransitionEnd={this.maskOnTransitionEnd}\r\n                        ></div>\r\n                    )}\r\n                </label>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n","export const wrapper = 'f2f27d';export const css = '@-webkit-keyframes fade-in{.f2f27d 0%{opacity:0}.f2f27d to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.f2f27d 0%{opacity:0}.f2f27d to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.f2f27d .link-color-inherit{color:inherit;text-decoration:underline}.f2f27d html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.f2f27d .link-color-inherit:active,.f2f27d html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.f2f27d{position:relative;min-height:100vh;padding:0 0 0 255px}@media only screen and (min-width:760px) and (max-width:1030px){.f2f27d{padding-left:24.75728155vw}}@media only screen and (max-width:759px){.f2f27d{padding-left:0}}.f2f27d-loading{position:absolute;top:50vh;line-height:0;width:100%;text-align:center;font-size:30px;letter-spacing:.2em;color:var(--root-content-color-lighter);opacity:.5;pointer-events:none}';export default{wrapper,css}","import { RouteComponentProps, Result, DiagnoseHistory } from '@types';\r\n\r\nimport React from 'react';\r\nimport { Dispatch } from 'redux';\r\nimport { extend, ExtendedProps } from 'koot';\r\nimport bindEvent from 'bind-event';\r\n\r\nimport { FETCH_RESULT, FETCH_HISTORY } from '@constants/actions';\r\n\r\nimport getTitle from '@utils/get-title';\r\nimport getDescription from '@utils/get-description';\r\n\r\nimport Aside from './aside';\r\nimport Main from './main';\r\n\r\nimport styles from './index.module.less';\r\n\r\n// ============================================================================\r\n\r\ninterface ComponentProps extends RouteComponentProps, ExtendedProps {\r\n    result: Result;\r\n    history: DiagnoseHistory;\r\n    dispatch: Dispatch;\r\n}\r\ninterface ComponentState {\r\n    loading: boolean;\r\n}\r\nexport type ViewResultUpdateTab = (newTab?: string) => void;\r\n\r\n// ============================================================================\r\n\r\nconst getIdFromProps = (props: ComponentProps): string | undefined => {\r\n    const { routeParams = {}, params = {} } = props;\r\n    return params.resultId || routeParams.resultId;\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst dispatchFetchResult = (\r\n    dispatch: Dispatch,\r\n    id?: string\r\n): Promise<void> => {\r\n    if (!id) new Error('NO ID');\r\n    return dispatch(FETCH_RESULT, {\r\n        id\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    }).then((r: any) => {\r\n        const origin = r.url;\r\n        if (!origin) return;\r\n        return dispatch(FETCH_HISTORY, {\r\n            origin\r\n        });\r\n    });\r\n};\r\n\r\n// Component Class ============================================================\r\n\r\n@extend({\r\n    connect: (state, props: ComponentProps) => {\r\n        const { resultId } = props.params || {};\r\n        if (!resultId) return {};\r\n        const { [resultId]: result } = state.result;\r\n        if (!result) return {};\r\n        const { url: origin } = result;\r\n        const history = state.history[origin] || {};\r\n        return { result, history };\r\n    },\r\n    pageinfo: (state, props: ComponentProps) => ({\r\n        title: getTitle(\r\n            `${__('views.result.title')} (${props.params.resultId})`\r\n        ),\r\n        metas: [\r\n            {\r\n                description: getDescription(\r\n                    `${__('views.result.description')} (${\r\n                        props.params.resultId\r\n                    })`\r\n                )\r\n            }\r\n        ]\r\n    }),\r\n    data: (state, renderProps, dispatch) =>\r\n        dispatchFetchResult(dispatch, getIdFromProps(renderProps)),\r\n    styles\r\n})\r\nclass ViewResult extends React.PureComponent<ComponentProps, ComponentState> {\r\n    constructor(props: ComponentProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps: ComponentProps): void {\r\n        const { resultId: prevId } = prevProps.params || {};\r\n        const { resultId: newId } = this.props.params || {};\r\n        if (prevId !== newId) {\r\n            this.setState({\r\n                loading: true\r\n            });\r\n            dispatchFetchResult(\r\n                this.props.dispatch,\r\n                getIdFromProps(this.props)\r\n            );\r\n        }\r\n    }\r\n\r\n    componentDidMount(): void {\r\n        const { result } = this.props;\r\n        if (typeof result === 'object') {\r\n            // * 隐藏顶级 loader\r\n            const loader = document.querySelector('#__result-loader');\r\n            if (loader) {\r\n                bindEvent(loader, 'transitionend', function(evt) {\r\n                    if (\r\n                        evt.propertyName === 'opacity' &&\r\n                        !evt.target.style.opacity\r\n                    )\r\n                        evt.target.parentNode.removeChild(evt.target);\r\n                });\r\n                loader.classList.add('die');\r\n            }\r\n        }\r\n    }\r\n    render(): JSX.Element | null {\r\n        const {\r\n            result,\r\n            history,\r\n            params: { resultId, tab = '' }\r\n        } = this.props;\r\n\r\n        if (!result || typeof result !== 'object')\r\n            return (\r\n                <div className={`${this.props.className}-loading`}>\r\n                    LOADING...\r\n                </div>\r\n            );\r\n        // if (__CLIENT__ && __DEV__) console.warn({ result, history });\r\n\r\n        return (\r\n            <div className={this.props.className}>\r\n                <Aside history={history} resultId={resultId} />\r\n                <Main\r\n                    history={history}\r\n                    resultId={resultId}\r\n                    result={result}\r\n                    tab={tab}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ViewResult;\r\n","export const wrapper = 'aa01a5';export const css = '@-webkit-keyframes fade-in{.aa01a5 0%{opacity:0}.aa01a5 to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.aa01a5 0%{opacity:0}.aa01a5 to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.aa01a5 .link-color-inherit{color:inherit;text-decoration:underline}.aa01a5 html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.aa01a5 .link-color-inherit:active,.aa01a5 html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.aa01a5{position:absolute;top:50%;line-height:0;width:100%;text-align:center;font-size:30px;letter-spacing:.2em;color:var(--root-content-color-lighter);opacity:.5;pointer-events:none}';export default{wrapper,css}","import React from 'react';\r\nimport { extend } from 'koot';\r\n\r\nimport styles from './index.module.less';\r\n\r\n// ============================================================================\r\n\r\ninterface ComponentProps {\r\n    text?: string;\r\n}\r\n\r\n// Functional Component =======================================================\r\n\r\nconst Empty = extend<ComponentProps>({\r\n    styles\r\n})(\r\n    React.memo(\r\n        ({ className, text }): JSX.Element => (\r\n            <div className={className}>\r\n                {text || __('views.result.no_error')}\r\n            </div>\r\n        )\r\n    )\r\n);\r\n\r\nexport default Empty;\r\n","export const wrapper = 'e22e3c';export const css = '@-webkit-keyframes fade-in{.e22e3c 0%{opacity:0}.e22e3c to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.e22e3c 0%{opacity:0}.e22e3c to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.e22e3c .link-color-inherit{color:inherit;text-decoration:underline}.e22e3c html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.e22e3c .link-color-inherit:active,.e22e3c html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.e22e3c{position:relative;padding:30px;display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:30px}.e22e3c .item{display:block;border:1px solid var(--root-border-color);border-radius:5px;padding:15px 20px;transition-property:border-color,background-color}.e22e3c .item .count,.e22e3c .item .diff{display:block;line-height:1.2}.e22e3c .item .diff{color:var(--root-text-main-color);font-size:20px;font-weight:bolder}.e22e3c .item .count{color:var(--root-content-color-lighter);margin-top:10px}html.is-hover .e22e3c .item:hover{background:var(--root-background-color-deeper);border-color:var(--root-accent-color)}.e22e3c .item:active,html.is-hover .e22e3c .item:hover:active{background:var(--root-background-color-lighter);border-color:var(--root-accent-color)}.e22e3c .item.is-active{pointer-events:none;background:var(--root-background-color-deeper);border-color:var(--root-accent-color)}';export default{wrapper,css}","import { DiagnoseHistory, DiagnoseHistoryResultItem } from '@types';\r\n\r\nimport React from 'react';\r\nimport { extend } from 'koot';\r\nimport { Link } from 'react-router';\r\n\r\nimport { pathnames } from '@constants/app';\r\nimport getTimeDiff from '@utils/get-time-diff';\r\n\r\nimport styles from './index.module.less';\r\n\r\n// ============================================================================\r\n\r\ninterface ComponentProps {\r\n    history: DiagnoseHistory;\r\n    currentId: string;\r\n}\r\n\r\n// Functional Component =======================================================\r\n\r\nconst History = extend<ComponentProps>({\r\n    styles\r\n})(\r\n    React.memo(\r\n        ({ className, history, currentId }): JSX.Element => {\r\n            const { results } = history;\r\n            return (\r\n                <div className={className}>\r\n                    {results.map(item => (\r\n                        <Item item={item} key={item.clinic.everyQueryKey} />\r\n                    ))}\r\n                </div>\r\n            );\r\n        }\r\n    )\r\n);\r\n\r\nexport default History;\r\n\r\n// ============================================================================\r\n\r\ninterface ItemProps {\r\n    item: DiagnoseHistoryResultItem;\r\n}\r\nconst Item = React.memo(\r\n    ({ item: { clinic, errors } }: ItemProps): JSX.Element => {\r\n        return (\r\n            <Link\r\n                className=\"item\"\r\n                // activeClassName=\"is-active\"\r\n                to={`${pathnames.result}/${clinic.everyQueryKey}`}\r\n            >\r\n                <span className=\"diff\">{getTimeDiff(clinic.createTime)}</span>\r\n                <span className=\"count\">\r\n                    {__('views.result.history_item.error_count', {\r\n                        count:\r\n                            '' +\r\n                            Object.values(errors).reduce(\r\n                                (sum, currentErrorArr) =>\r\n                                    sum + currentErrorArr.length,\r\n                                0\r\n                            )\r\n                    })}\r\n                </span>\r\n            </Link>\r\n        );\r\n    }\r\n);\r\n","export const wrapper = 'aaa60f';export const css = '@-webkit-keyframes fade-in{.aaa60f 0%{opacity:0}.aaa60f to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.aaa60f 0%{opacity:0}.aaa60f to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.aaa60f .link-color-inherit{color:inherit;text-decoration:underline}.aaa60f html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.aaa60f .link-color-inherit:active,.aaa60f html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.aaa60f{position:relative;z-index:1;display:-webkit-flex;display:flex;-webkit-flex-flow:column nowrap;flex-flow:column nowrap;min-height:100vh}.aaa60f-header{padding-top:90px;position:relative;position:-webkit-sticky;position:sticky;top:-150px;background:var(--root-background-color);z-index:100;border-bottom:1px solid var(--root-border-color);-webkit-flex:0;flex:0}.aaa60f-header .title{padding:0 30px;font-size:30px;line-height:1;margin:0}.aaa60f-header .tabs{position:relative;margin-top:30px;margin-bottom:-1px;overflow:hidden;width:100%;height:50px}.aaa60f-header .tabs>.wrapper{overflow:hidden;overflow-x:scroll;display:-webkit-flex;display:flex;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;width:100%;padding:0 15px}.aaa60f-header .tabs .tab{position:relative;display:block;text-align:center;padding:0 15px;height:50px;line-height:50px;color:var(--root-content-color-lighter);white-space:nowrap}.aaa60f-header .tabs .tab .count{position:relative;font-size:12px;line-height:1em;display:inline-block;padding:2px 4px;background:var(--root-content-color-lighter);color:var(--root-background-color-lighter);border-radius:3px;margin-left:5px;font-weight:bolder;transition-property:background-color,opacity}.aaa60f-header .tabs .tab .count.is-zero{opacity:.5}.aaa60f-header .tabs .tab .count.is-not-zero{opacity:.65;background:var(--root-error-color)}.aaa60f-header .tabs .tab:last-child{border-right:30px solid transparent}@media only screen and (max-width:759px){.aaa60f-header .tabs .tab:last-child{border-right:30px solid transparent}}html.is-hover .aaa60f-header .tabs .tab:hover{color:var(--root-accent-color-hover)}html.is-hover .aaa60f-header .tabs .tab:hover .count.is-not-zero{opacity:1}.aaa60f-header .tabs .tab:active,html.is-hover .aaa60f-header .tabs .tab:hover:active{color:var(--root-accent-color-active)}.aaa60f-header .tabs .tab:active .count.is-not-zero,html.is-hover .aaa60f-header .tabs .tab:hover:active .count.is-not-zero{opacity:.35}.aaa60f-header .tabs .tab:after{content:\"\";position:absolute;bottom:-4px;left:10px;right:10px;z-index:-1;border:8px solid var(--root-accent-color);border-bottom:0;border-radius:100px;-webkit-transform:translateY(100%);transform:translateY(100%);transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.aaa60f-header .tabs .tab.is-active{color:var(--root-text-main-color);cursor:default}.aaa60f-header .tabs .tab.is-active .count{background:var(--root-error-color)}.aaa60f-header .tabs .tab.is-active .count.is-zero{background:var(--root-content-color-lighter)}.aaa60f-header .tabs .tab.is-active .count.is-not-zero{opacity:1}.aaa60f-header .tabs .tab.is-active:active,html.is-hover .aaa60f-header .tabs .tab.is-active:hover,html.is-hover .aaa60f-header .tabs .tab.is-active:hover:active{color:var(--root-text-main-color)}.aaa60f-header .tabs .tab.is-active:after{-webkit-transform:none;transform:none}.aaa60f-header.mod-history{top:-60px}.aaa60f-header.mod-history .title{padding-bottom:30px}.aaa60f-body{position:relative;z-index:1;-webkit-flex:1;flex:1;background:var(--root-background-color-lighter)}';export default{wrapper,css}","import { Result, DiagnoseHistory } from '@types';\r\n\r\nimport React, { useRef } from 'react';\r\nimport { extend } from 'koot';\r\nimport classNames from 'classnames';\r\nimport { Link, IndexLink } from 'react-router';\r\n\r\nimport { pathnames } from '@constants/app';\r\nimport getTimeDiff from '@utils/get-time-diff';\r\n\r\nimport ChildHistory from './history';\r\nimport ChildPSI from './psi';\r\nimport ChildTable from './table';\r\n\r\nimport styles, { wrapper as classNameModule } from './index.module.less';\r\n\r\n// ============================================================================\r\n\r\nexport const tabs = [\r\n    ['', 'psi'],\r\n    // ['', 'psi-loading'],\r\n    // ['psi-performance', 'psi-performance'],\r\n    // ['psi-best-practices', 'psi-best-practices'],\r\n    // ['psi-seo', 'psi-seo'],\r\n    ['broken-request', 'broken request'],\r\n    ['common-error', 'common error'],\r\n    ['console-error', 'console error'],\r\n    ['large-file', 'large file'],\r\n    ['no-gzip', 'no gzip']\r\n];\r\nexport let HeaderRef: React.RefObject<HTMLDivElement>;\r\n\r\n// Functional Component =======================================================\r\n\r\ninterface ComponentProps {\r\n    result: Result;\r\n    history: DiagnoseHistory;\r\n    resultId: string;\r\n    tab: string;\r\n}\r\nconst Main = extend<ComponentProps>({\r\n    styles\r\n})(\r\n    React.memo(\r\n        ({ className, tab = '', history, result, resultId }): JSX.Element => {\r\n            HeaderRef = useRef(null);\r\n\r\n            const isHistory = tab === 'history';\r\n\r\n            const currentTabArr = tabs.filter(([uri]) => uri === tab)[0] || [];\r\n            const currentType = currentTabArr[1];\r\n\r\n            const isPsi = /^psi((-.+)|$)/.test(currentType);\r\n\r\n            return (\r\n                <div className={className}>\r\n                    <div\r\n                        className={classNames([\r\n                            `${classNameModule}-header`,\r\n                            {\r\n                                'mod-history': isHistory\r\n                            }\r\n                        ])}\r\n                        ref={HeaderRef}\r\n                    >\r\n                        <h2 className=\"title\">\r\n                            {isHistory\r\n                                ? __('views.result.aside_options.history')\r\n                                : __('views.result.history_title', {\r\n                                      timediff: getTimeDiff(\r\n                                          history.results.filter(\r\n                                              item =>\r\n                                                  item.clinic.everyQueryKey ===\r\n                                                  resultId\r\n                                          )[0].clinic.createTime\r\n                                      )\r\n                                  })}\r\n                        </h2>\r\n                        {!isHistory && (\r\n                            <div className=\"tabs\">\r\n                                <div className=\"wrapper\">\r\n                                    {tabs.map(\r\n                                        ([uri, type]): JSX.Element => (\r\n                                            <Tab\r\n                                                key={uri}\r\n                                                uri={uri}\r\n                                                type={type}\r\n                                                resultId={resultId}\r\n                                                count={\r\n                                                    type === 'psi'\r\n                                                        ? undefined\r\n                                                        : (\r\n                                                              result.errors[\r\n                                                                  type\r\n                                                              ] || []\r\n                                                          ).length\r\n                                                }\r\n                                            />\r\n                                        )\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className={`${classNameModule}-body`}>\r\n                        {isHistory ? (\r\n                            <ChildHistory\r\n                                history={history}\r\n                                currentId={resultId}\r\n                            />\r\n                        ) : isPsi ? (\r\n                            <ChildPSI result={result.psi} />\r\n                        ) : (\r\n                            <ChildTable\r\n                                errors={result.errors[currentType]}\r\n                                type={currentType}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    )\r\n);\r\n\r\nexport default Main;\r\n\r\n// ============================================================================\r\n\r\ninterface TabProps {\r\n    resultId: string;\r\n    uri: string;\r\n    type: string;\r\n    count?: number;\r\n}\r\nconst Tab = React.memo(\r\n    ({ resultId, uri, type, count }: TabProps): JSX.Element => {\r\n        const children = (\r\n            <React.Fragment>\r\n                {__('error_types', type)}\r\n                {typeof count !== 'undefined' && (\r\n                    <small\r\n                        className={classNames([\r\n                            'count',\r\n                            {\r\n                                'is-zero': !count,\r\n                                'is-not-zero': !!count\r\n                            }\r\n                        ])}\r\n                    >\r\n                        {count}\r\n                    </small>\r\n                )}\r\n            </React.Fragment>\r\n        );\r\n        const props = {\r\n            className: 'tab',\r\n            activeClassName: 'is-active',\r\n            to: `${pathnames.result}/${resultId}${uri ? `/${uri}` : ''}`,\r\n            children\r\n        };\r\n        if (!uri) return <IndexLink {...props} />;\r\n        return <Link {...props} />;\r\n    }\r\n);\r\n","export const wrapper = 'dd0224';export const css = '@-webkit-keyframes fade-in{.dd0224 0%{opacity:0}.dd0224 to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.dd0224 0%{opacity:0}.dd0224 to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.dd0224 .link-color-inherit{color:inherit;text-decoration:underline}.dd0224 html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.dd0224 .link-color-inherit:active,.dd0224 html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.dd0224>.title{color:var(--root-text-main-color);margin-top:1.5em;font-style:italic}.dd0224>.audits{display:grid;grid-template-columns:repeat(auto-fill,minmax(600px,1fr));grid-gap:0 30px}@media only screen and (max-width:759px){.dd0224>.audits{grid-template-columns:repeat(auto-fill,minmax(100%,1fr))}}.dd0224-audit{position:relative;margin:0;border-top:1px solid var(--root-border-color);padding-top:10px;padding-bottom:10px;padding-left:30px;color:var(--root-content-color-lighter)}@media only screen and (max-width:759px){.dd0224-audit{padding-left:0}}.dd0224-audit:before{content:\"\";position:absolute;width:12px;height:12px;top:15px;left:6px;background:var(--root-content-color-lighter)}.dd0224-audit>.title{display:-webkit-flex;display:flex;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:flex-start;align-items:flex-start}@media only screen and (max-width:759px){.dd0224-audit>.title{padding-left:30px}}.dd0224-audit>.title .text{-webkit-flex:1;flex:1;color:var(--root-text-main-color);line-height:22px;display:block}.dd0224-audit>.title .value{display:inline-block;background:var(--root-content-color-lighter);font-size:12px;padding:4px 8px;line-height:14px;color:#fff;border-radius:4px;white-space:nowrap;text-shadow:0 1px 2px rgba(0,0,0,.5)}.dd0224-audit>.description{margin:.25em 0}.dd0224-audit>.toggle-details{position:relative;display:inline-block;margin:8px 0 10px;border:1px solid var(--root-border-color);background:var(--root-background-color);color:var(--root-content-color-lighter);font-size:smaller;line-height:24px;padding:0 10px;border-radius:4px;cursor:pointer;transition-property:color,border-color,background-color}html.is-hover .dd0224-audit>.toggle-details:hover{color:var(--root-content-color);background:var(--root-border-color)}.dd0224-audit>.toggle-details:active,html.is-hover .dd0224-audit>.toggle-details:hover:active{color:var(--root-content-color);background:var(--root-border-color);opacity:.5}.dd0224-audit>.toggle-details .icon{position:relative;display:inline-block;vertical-align:initial;width:14px;height:14px;top:2px;left:-4px;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.dd0224-audit>.toggle-details.is-active{color:var(--root-content-color);background:var(--root-border-color)}.dd0224-audit>.toggle-details.is-active .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.dd0224-audit>.details{margin-top:4px;margin-bottom:30px;border:1px solid var(--root-border-color);border-radius:5px;overflow:auto;max-height:calc(100vh - 290px);color:var(--root-content-color);background:var(--root-background-color)}@media only screen and (max-width:759px){.dd0224-audit>.details{max-height:calc(100vh - 230px)}}.dd0224-audit>.details.mod-unrecognized-details-type{background:var(--root-error-color);color:var(--root-background-color);padding:8px 10px}.dd0224-audit>.details .details-table{width:100%;border-spacing:0;border-collapse:collapse}.dd0224-audit>.details .details-table td{padding:8px 4px;font-size:12px;line-height:1.2}.dd0224-audit>.details .details-table td[data-type=bytes],.dd0224-audit>.details .details-table td[data-type=ms],.dd0224-audit>.details .details-table td[data-type=timespanMs]{text-align:right;width:6em}.dd0224-audit>.details .details-table td[data-type=code],.dd0224-audit>.details .details-table td[data-type=url]{min-width:6em;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.dd0224-audit>.details .details-table td[data-type=thumbnail]{padding:0;width:100px}.dd0224-audit>.details .details-table td[data-type=thumbnail] img{display:block;width:100px;height:100px;object-fit:contain}.dd0224-audit>.details .details-table tbody tr td{border-top:1px solid var(--root-border-color)}.dd0224-audit>.details .details-table td:not(:first-child){border-left:1px solid var(--root-border-color)}.dd0224-audit>.details .details-table .error-unknown-type{background:var(--root-error-color);color:var(--root-background-color)}.dd0224-audit[data-grade=good]:before{border-radius:50%}.dd0224-audit[data-grade=good]:before,.dd0224-audit[data-grade=good]>.title .value{background-color:var(--root-grade-good-color)}.dd0224-audit[data-grade=average]:before{border-radius:2px}.dd0224-audit[data-grade=average]:before,.dd0224-audit[data-grade=average]>.title .value{background-color:var(--root-grade-average-color)}.dd0224-audit[data-grade=bad]:before{width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:0 solid transparent;border-bottom:12px solid transparent;border-bottom-color:var(--root-grade-bad-color);background:none transparent}.dd0224-audit[data-grade=bad]>.title .value{background-color:var(--root-grade-bad-color)}';export default{wrapper,css}","import { Audit as PSIAudit } from 'koot-diagnose/psi';\r\n\r\nimport React, { useRef } from 'react';\r\nimport { extend } from 'koot';\r\nimport classNames from 'classnames';\r\nimport filesize from 'filesize';\r\nimport prettyMs from 'pretty-ms';\r\n\r\nimport Markdown from '@components/markdown';\r\nimport Icon from '@components/icon';\r\n\r\nimport { AuditGroup, AuditGroupItem, getGradeFromScore, scrollTo } from './';\r\nimport styles, { wrapper as classNameModule } from './audits.module.less';\r\n\r\n// ============================================================================\r\n\r\ninterface AuditsProps {\r\n    group: AuditGroup;\r\n}\r\nconst Audits = extend<AuditsProps>({\r\n    styles\r\n})(\r\n    React.memo(\r\n        ({ group, className }): JSX.Element => {\r\n            const { title, audits } = group;\r\n\r\n            const ContainerRef: React.RefObject<HTMLDivElement> = useRef(null);\r\n\r\n            return (\r\n                <div\r\n                    className={className}\r\n                    ref={ContainerRef}\r\n                    data-group={group.group}\r\n                >\r\n                    {title && <h4 className=\"title\">{title}</h4>}\r\n                    <div className=\"audits\">\r\n                        {audits.map(audit => (\r\n                            <Audit key={audit.title} audit={audit} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    )\r\n);\r\n\r\nexport default Audits;\r\n\r\n// ============================================================================\r\n\r\ninterface AuditProps {\r\n    audit: AuditGroupItem;\r\n    className?: string;\r\n}\r\ninterface AuditState {\r\n    showDetails: boolean;\r\n}\r\nclass Audit extends React.PureComponent<AuditProps, AuditState> {\r\n    hasDetails: boolean;\r\n    hasWarnings: boolean;\r\n    detailsType?: 'table' | 'opportunity-table' | 'unknown';\r\n\r\n    DetailsToggleRef: React.RefObject<HTMLButtonElement> = React.createRef();\r\n\r\n    constructor(props: AuditProps) {\r\n        super(props);\r\n        this.state = {\r\n            showDetails: false\r\n        };\r\n\r\n        const { details, warnings } = this.props.audit;\r\n\r\n        this.hasDetails = typeof details === 'object';\r\n        this.hasWarnings = Array.isArray(warnings) && warnings.length > 0;\r\n        this.detailsType = this.hasDetails\r\n            ? details.type === 'table'\r\n                ? 'table'\r\n                : details.type === 'opportunity' &&\r\n                  Array.isArray(details.items) &&\r\n                  Array.isArray(details.headings)\r\n                ? 'opportunity-table'\r\n                : 'unknown'\r\n            : undefined;\r\n\r\n        if (__DEV__ && __CLIENT__) {\r\n            const unrecognized = [];\r\n            if (this.detailsType === 'unknown') unrecognized.push('details');\r\n            if (this.hasWarnings) unrecognized.push('warnings');\r\n            if (unrecognized.length) {\r\n                console.warn(this.props.audit, ...unrecognized);\r\n            }\r\n            // if (this.detailsType) {\r\n            //     console.log(this.props.audit, this.detailsType);\r\n            // }\r\n        }\r\n\r\n        this.toggleDetails = this.toggleDetails.bind(this);\r\n    }\r\n\r\n    toggleDetails(evt: React.SyntheticEvent<HTMLButtonElement>): void {\r\n        evt.currentTarget.blur();\r\n        this.setState(\r\n            prevState => ({\r\n                showDetails: !prevState.showDetails\r\n            }),\r\n            () => {\r\n                if (this.state.showDetails && this.DetailsToggleRef.current)\r\n                    scrollTo(this.DetailsToggleRef.current);\r\n            }\r\n        );\r\n    }\r\n\r\n    render(): React.ReactNode {\r\n        const {\r\n            title,\r\n            score,\r\n            displayValue,\r\n            description,\r\n            details\r\n        } = this.props.audit;\r\n\r\n        return (\r\n            <div\r\n                className={`${classNameModule}-audit`}\r\n                data-grade={getGradeFromScore(score)}\r\n                data-score={score}\r\n            >\r\n                <span className=\"title\">\r\n                    <span className=\"text\">{title}</span>\r\n                    {displayValue && (\r\n                        <span className=\"value\">{displayValue}</span>\r\n                    )}\r\n                </span>\r\n                {description && (\r\n                    <Markdown className=\"description\" source={description} />\r\n                )}\r\n                {this.hasDetails && (\r\n                    <button\r\n                        className={classNames([\r\n                            'toggle-details',\r\n                            {\r\n                                'is-active': this.state.showDetails\r\n                            }\r\n                        ])}\r\n                        type=\"button\"\r\n                        onClick={this.toggleDetails}\r\n                        ref={this.DetailsToggleRef}\r\n                    >\r\n                        <Icon icon=\"arrow-right3\" className=\"icon\" />\r\n                        {this.state.showDetails\r\n                            ? __('views.result.psi.button_hide_details')\r\n                            : __('views.result.psi.button_show_details')}\r\n                    </button>\r\n                )}\r\n                {this.state.showDetails && (\r\n                    <div\r\n                        className={classNames([\r\n                            'details',\r\n                            {\r\n                                'mod-unrecognized-details-type':\r\n                                    this.detailsType === 'unknown'\r\n                            }\r\n                        ])}\r\n                    >\r\n                        {this.detailsType === 'table' ||\r\n                        this.detailsType === 'opportunity-table' ? (\r\n                            <DetailsTable details={details} />\r\n                        ) : (\r\n                            <React.Fragment>\r\n                                {__(\r\n                                    'views.result.psi.details_unkown_type',\r\n                                    '0',\r\n                                    {\r\n                                        type: details.type || ''\r\n                                    }\r\n                                )}\r\n                                <br />\r\n                                {__(\r\n                                    'views.result.psi.details_unkown_type',\r\n                                    '1'\r\n                                )}\r\n                            </React.Fragment>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// ============================================================================\r\n\r\ninterface DetailsTableProps {\r\n    details: PSIAudit['details'];\r\n}\r\nconst DetailsTable = ({ details }: DetailsTableProps): JSX.Element | null => {\r\n    const { headings, items } = details;\r\n\r\n    if (!Array.isArray(headings)) return null;\r\n    if (!Array.isArray(items)) return null;\r\n\r\n    if (__CLIENT__ && __DEV__) console.warn(headings);\r\n\r\n    return (\r\n        <table className=\"details-table\">\r\n            {Array.isArray(headings) && (\r\n                <thead>\r\n                    <tr>\r\n                        {headings.map(\r\n                            (\r\n                                { key, label, text, valueType, itemType },\r\n                                index\r\n                            ) => {\r\n                                return (\r\n                                    <td\r\n                                        key={index}\r\n                                        data-key={key}\r\n                                        data-type={valueType || itemType}\r\n                                    >\r\n                                        {label || text}\r\n                                    </td>\r\n                                );\r\n                            }\r\n                        )}\r\n                    </tr>\r\n                </thead>\r\n            )}\r\n            {Array.isArray(items) && (\r\n                <tbody>\r\n                    {items.map((item, index) => (\r\n                        <tr key={index}>\r\n                            {headings.map(\r\n                                ({ key, valueType, itemType }, index) => {\r\n                                    const type = valueType || itemType;\r\n                                    const props = {\r\n                                        key: index,\r\n                                        'data-type': type\r\n                                    };\r\n                                    const content = item[key];\r\n                                    switch (type) {\r\n                                        case 'url': {\r\n                                            return (\r\n                                                <td {...props}>\r\n                                                    <a\r\n                                                        href={content}\r\n                                                        target=\"_blank\"\r\n                                                        rel=\"noopener noreferrer\"\r\n                                                    >\r\n                                                        {content}\r\n                                                    </a>\r\n                                                </td>\r\n                                            );\r\n                                        }\r\n                                        case 'bytes': {\r\n                                            return (\r\n                                                <td {...props}>\r\n                                                    {filesize(content || 0)}\r\n                                                </td>\r\n                                            );\r\n                                        }\r\n                                        case 'ms':\r\n                                        case 'timespanMs': {\r\n                                            return (\r\n                                                <td {...props}>\r\n                                                    {prettyMs(content, {\r\n                                                        secondsDecimalDigits: 0\r\n                                                    })}\r\n                                                </td>\r\n                                            );\r\n                                        }\r\n                                        case 'text': {\r\n                                            return (\r\n                                                <td {...props}>{content}</td>\r\n                                            );\r\n                                        }\r\n                                        case 'code': {\r\n                                            return (\r\n                                                <td {...props}>\r\n                                                    <pre>{content}</pre>\r\n                                                </td>\r\n                                            );\r\n                                        }\r\n                                        case 'thumbnail': {\r\n                                            return (\r\n                                                <td {...props}>\r\n                                                    <img\r\n                                                        src={content}\r\n                                                        alt={content}\r\n                                                        loading=\"lazy\"\r\n                                                    />\r\n                                                </td>\r\n                                            );\r\n                                        }\r\n                                    }\r\n                                    return (\r\n                                        <td\r\n                                            className=\"error-unknown-type\"\r\n                                            {...props}\r\n                                        >\r\n                                            {__(\r\n                                                'views.result.psi.details_unkown_type',\r\n                                                '0',\r\n                                                {\r\n                                                    type: type || ''\r\n                                                }\r\n                                            )}\r\n                                            <br />\r\n                                            {__(\r\n                                                'views.result.psi.details_unkown_type',\r\n                                                '1'\r\n                                            )}\r\n                                        </td>\r\n                                    );\r\n                                }\r\n                            )}\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            )}\r\n        </table>\r\n    );\r\n};\r\n","import { Result as PSIResult } from 'koot-diagnose/psi';\r\n\r\nimport React, { useRef } from 'react';\r\n\r\nimport Markdown from '@components/markdown';\r\nimport Audits from './audits';\r\n\r\nimport { AuditGroup, BodyRefs, getGradeFromScore } from './';\r\nimport { wrapper as classNameModule } from './index.module.less';\r\n\r\n// ============================================================================\r\n\r\ninterface BodyProps {\r\n    category: string;\r\n    className?: string;\r\n    result?: PSIResult;\r\n    score?: string | number;\r\n}\r\nconst Body = React.memo(\r\n    ({ result, category, score }: BodyProps): JSX.Element | null => {\r\n        const props = {\r\n            className: `${classNameModule}-category`,\r\n            'data-category': category\r\n        };\r\n        if (category === 'OTHER_INFO') {\r\n            return (\r\n                <div {...props}>\r\n                    <Markdown\r\n                        className=\"infos\"\r\n                        source={__('views.result.psi.markdown_ending_msg')}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        BodyRefs[category] = useRef(null);\r\n        const grade = getGradeFromScore(score || 0);\r\n\r\n        Object.assign(props, {\r\n            ref: BodyRefs[category],\r\n            'data-grade': grade\r\n        });\r\n\r\n        if (category === 'loadingExperience') {\r\n            return (\r\n                <div {...props}>\r\n                    <h3 className=\"title\">\r\n                        {__('views.result.psi.loadingExperience')}\r\n                    </h3>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (!result) return null;\r\n\r\n        const { lighthouseResult } = result;\r\n        const { audits, categories, categoryGroups } = lighthouseResult;\r\n        const {\r\n            title,\r\n            description,\r\n            // manualDescription,\r\n            auditRefs = {}\r\n        } = categories[category];\r\n        const auditGroups: {\r\n            [group: string]: AuditGroup;\r\n        } = {};\r\n        const auditGroupsSorted: AuditGroup[] = [];\r\n\r\n        for (const audit of Object.values(auditRefs)) {\r\n            const { id, weight, group = '.' } = audit;\r\n            const thisAudit = audits[id];\r\n\r\n            if (\r\n                (group !== 'metrics' &&\r\n                    typeof thisAudit.score === 'number' &&\r\n                    thisAudit.score > 0.9) ||\r\n                thisAudit.scoreDisplayMode === 'notApplicable' ||\r\n                thisAudit.scoreDisplayMode === 'informative'\r\n            )\r\n                continue;\r\n\r\n            if (!auditGroups[group]) {\r\n                const {\r\n                    title = __('views.result.psi.group_other'),\r\n                    description\r\n                } = categoryGroups[group] || {};\r\n                auditGroups[group] = {\r\n                    group,\r\n                    title,\r\n                    description,\r\n                    audits: []\r\n                };\r\n                auditGroupsSorted.push(auditGroups[group]);\r\n            }\r\n\r\n            auditGroups[group].audits.push({\r\n                id,\r\n                weight,\r\n                ...thisAudit\r\n            });\r\n        }\r\n\r\n        auditGroupsSorted.sort((a, b) => {\r\n            if (a.group === '.') return 1;\r\n            if (b.group === '.') return -1;\r\n            return 1;\r\n        });\r\n\r\n        if (\r\n            auditGroupsSorted.length === 1 &&\r\n            auditGroupsSorted[0].group === '.'\r\n        ) {\r\n            auditGroupsSorted[0].title = undefined;\r\n        }\r\n\r\n        return (\r\n            <div {...props}>\r\n                <h3 className=\"title\">{title}</h3>\r\n                {description && (\r\n                    <Markdown className=\"description\" source={description} />\r\n                )}\r\n                {auditGroupsSorted.map(g => (\r\n                    <Audits group={g} key={g.group} />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nexport default Body;\r\n","export const wrapper = 'b54b2f';export const css = '@-webkit-keyframes fade-in{.b54b2f 0%{opacity:0}.b54b2f to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.b54b2f 0%{opacity:0}.b54b2f to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.b54b2f .link-color-inherit{color:inherit;text-decoration:underline}.b54b2f html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.b54b2f .link-color-inherit:active,.b54b2f html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.b54b2f{position:relative}.b54b2f-switches{position:relative;position:-webkit-sticky;position:sticky;top:50px;background:var(--root-background-color-deeper);border-bottom:1px solid var(--root-border-color);z-index:100;padding:0 30px;box-shadow:0 0 10px rgba(0,0,0,.25)}@media only screen and (max-width:759px){.b54b2f-switches{padding:0;text-align:center}}.b54b2f-switches .switch{width:5em;text-align:center;position:relative;padding:50px 0 0;border:0;border-top:1em solid transparent;border-bottom:10px solid transparent;margin:0 1em 0 0;line-height:20px;display:inline-block;background:none transparent;color:var(--root-content-color-lighter);cursor:pointer;transition-property:color}@media only screen and (max-width:759px){.b54b2f-switches .switch{margin-right:5px}}.b54b2f-switches .switch .score{position:absolute;width:50px;height:50px;line-height:50px;top:0;left:50%;margin-left:-25px;background:#616161;color:#fff;border-radius:50%;font-size:20px;transition-property:opacity}.b54b2f-switches .switch .score[data-score=FAST],.b54b2f-switches .switch .score[data-score=GOOD]{background:#43a047}.b54b2f-switches .switch .score[data-score=AVERAGE]{background:#e67219}.b54b2f-switches .switch .score[data-score=BAD],.b54b2f-switches .switch .score[data-score=SLOW]{background:#d33131}.b54b2f-switches .switch .score.is-number{background:transparent;color:var(--root-content-color)}.b54b2f-switches .switch .score.is-number:after,.b54b2f-switches .switch .score.is-number:before{content:\"\";position:absolute;top:0;bottom:0;left:0;right:0;border-radius:50%}.b54b2f-switches .switch .score.is-number:before{z-index:-1;border:4px solid}.b54b2f-switches .switch .score.is-number:after{z-index:-2;background:var(--root-background-color-lighter);opacity:.35}.b54b2f-switches .switch .score.is-number[data-grade=good]{color:var(--root-grade-good-color-deeper)}.b54b2f-switches .switch .score.is-number[data-grade=good]:before{border-color:var(--root-grade-good-color)}.b54b2f-switches .switch .score.is-number[data-grade=good]:after{background:var(--root-grade-good-color)}.b54b2f-switches .switch .score.is-number[data-grade=average]{color:var(--root-grade-average-color-deeper)}.b54b2f-switches .switch .score.is-number[data-grade=average]:before{border-color:var(--root-grade-average-color)}.b54b2f-switches .switch .score.is-number[data-grade=average]:after{background:var(--root-grade-average-color)}.b54b2f-switches .switch .score.is-number[data-grade=bad]{color:var(--root-grade-bad-color-deeper)}.b54b2f-switches .switch .score.is-number[data-grade=bad]:before{border-color:var(--root-grade-bad-color)}.b54b2f-switches .switch .score.is-number[data-grade=bad]:after{background:var(--root-grade-bad-color)}.b54b2f-switches .switch .title{display:block;margin-top:10px}@media only screen and (max-width:759px){.b54b2f-switches .switch .title{font-size:smaller}}html.is-hover .b54b2f-switches .switch:hover{color:var(--root-text-main-color)}.b54b2f-switches .switch:active,html.is-hover .b54b2f-switches .switch:hover:active{color:var(--root-accent-color-active)}.b54b2f-switches .switch:active .score,html.is-hover .b54b2f-switches .switch:hover:active .score{opacity:.6}.b54b2f-category{margin:0 auto;padding:30px;border-top:4px solid var(--root-border-color);border-bottom:1px solid var(--root-border-color)}.b54b2f-category>.title{color:var(--root-text-main-color)}.b54b2f-category[data-grade=good]{border-top-color:var(--root-grade-good-color)}.b54b2f-category[data-grade=average]{border-top-color:var(--root-grade-average-color)}.b54b2f-category[data-grade=bad]{border-top-color:var(--root-grade-bad-color)}.b54b2f-category[data-category=OTHER_INFO]{background:var(--root-background-color)}.b54b2f-category a{color:inherit;text-decoration:underline}html.is-hover .b54b2f-category a:hover{color:#000;color:var(--root-accent-color-hover)}.b54b2f-category a:active,html.is-hover .b54b2f-category a:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}';export default{wrapper,css}","import { Result as PSIResult, Audit as PSIAudit } from 'koot-diagnose/psi';\r\n\r\nimport React, { useRef } from 'react';\r\nimport { extend } from 'koot';\r\n\r\nimport doScrollTo from '@utils/client/scroll-to';\r\n\r\nimport Empty from '../empty';\r\nimport Switch from './switch';\r\nimport Category from './category';\r\n\r\nimport styles from './index.module.less';\r\n\r\nimport { HeaderRef } from '../index';\r\n\r\n// ============================================================================\r\n\r\nlet ContainerRef: React.RefObject<HTMLDivElement>;\r\nlet SwitchContainerRef: React.RefObject<HTMLDivElement>;\r\nexport const BodyRefs: {\r\n    [typeName: string]: React.RefObject<HTMLDivElement>;\r\n} = {};\r\nexport const scrollTo = (el: HTMLElement): void => {\r\n    if (!el) return;\r\n\r\n    const containerEl = ContainerRef.current;\r\n    if (!containerEl) return;\r\n    const headerEl = HeaderRef.current;\r\n    if (!headerEl) return;\r\n    const switchContainerEl = SwitchContainerRef.current;\r\n    if (!switchContainerEl) return;\r\n\r\n    const rect = el.getBoundingClientRect();\r\n    const toY =\r\n        rect.top +\r\n        window.pageYOffset -\r\n        (parseInt(getComputedStyle(containerEl).paddingTop || '0') +\r\n            switchContainerEl.offsetHeight +\r\n            headerEl.offsetHeight +\r\n            parseInt(getComputedStyle(headerEl).top || '0') +\r\n            parseInt(getComputedStyle(el).marginTop || '0'));\r\n\r\n    doScrollTo(toY);\r\n};\r\nexport const scrollToCategory = (category: string): void => {\r\n    const bodyEl = BodyRefs[category].current;\r\n    if (!bodyEl) return;\r\n\r\n    scrollTo(bodyEl);\r\n};\r\nexport const getGradeFromScore = (score: number | string): string => {\r\n    if (typeof score === 'number') {\r\n        return score < 0.6 ? 'bad' : score < 0.85 ? 'average' : 'good';\r\n    }\r\n    if (typeof score === 'string') {\r\n        switch (score.toLowerCase()) {\r\n            case 'slow':\r\n                return 'bad';\r\n            case 'fast':\r\n                return 'good';\r\n        }\r\n        return score.toLowerCase();\r\n    }\r\n    return 'unknown';\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport interface AuditGroup {\r\n    group: string;\r\n    title?: string;\r\n    description?: string;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    audits: Array<AuditGroupItem>;\r\n}\r\nexport interface AuditGroupItem extends PSIAudit {\r\n    id: string;\r\n    weight: number;\r\n}\r\n\r\n// Functional Component =======================================================\r\n\r\ninterface ComponentProps {\r\n    result?: PSIResult;\r\n}\r\nconst Psi = extend<ComponentProps>({\r\n    styles\r\n})(\r\n    React.memo(\r\n        ({ className, result }): JSX.Element => {\r\n            if (!result) return <Empty text={__('views.result.no_psi')} />;\r\n\r\n            ContainerRef = useRef(null);\r\n            SwitchContainerRef = useRef(null);\r\n\r\n            // if (__CLIENT__ && __DEV__) console.warn(result);\r\n            const { lighthouseResult } = result;\r\n            const { categories = {} } = lighthouseResult;\r\n\r\n            const allCategories = [\r\n                // 'loadingExperience',\r\n                ...Object.keys(categories)\r\n            ];\r\n            // const [currentType, switchType] = useState(allCategories[0]);\r\n\r\n            return (\r\n                <div className={className} ref={ContainerRef}>\r\n                    <div\r\n                        className={`${className}-switches`}\r\n                        ref={SwitchContainerRef}\r\n                    >\r\n                        {allCategories.map(category => (\r\n                            <Switch\r\n                                category={category}\r\n                                title={\r\n                                    category === 'loadingExperience'\r\n                                        ? __(\r\n                                              'views.result.psi.loadingExperience'\r\n                                          )\r\n                                        : categories[category].title\r\n                                }\r\n                                key={category}\r\n                                score={\r\n                                    category === 'loadingExperience'\r\n                                        ? result.loadingExperience\r\n                                              .overall_category\r\n                                        : categories[category].score\r\n                                }\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"wrapper\">\r\n                        {allCategories.map(category => (\r\n                            <Category\r\n                                category={category}\r\n                                key={category}\r\n                                result={result}\r\n                                score={\r\n                                    category === 'loadingExperience'\r\n                                        ? result.loadingExperience\r\n                                              .overall_category\r\n                                        : categories[category].score\r\n                                }\r\n                            />\r\n                        ))}\r\n                        <Category category=\"OTHER_INFO\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    )\r\n);\r\n\r\nexport default Psi;\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport { scrollToCategory, getGradeFromScore } from './';\r\n\r\n// ============================================================================\r\n\r\ninterface SwitchProps {\r\n    className?: string;\r\n    category: string;\r\n    title: string;\r\n    score: string | number;\r\n    // switchType: React.Dispatch<React.SetStateAction<string>>;\r\n}\r\nclass Switch extends React.PureComponent<SwitchProps> {\r\n    constructor(props: SwitchProps) {\r\n        super(props);\r\n        this.onClick = this.onClick.bind(this);\r\n    }\r\n    onClick(evt: React.SyntheticEvent<HTMLButtonElement>): void {\r\n        evt.currentTarget.blur();\r\n        scrollToCategory(this.props.category);\r\n    }\r\n    render(): React.ReactNode {\r\n        const isScoreNumber = typeof this.props.score === 'number';\r\n        const grade = getGradeFromScore(this.props.score);\r\n        return (\r\n            <button className=\"switch\" onClick={this.onClick}>\r\n                <span\r\n                    className={classNames([\r\n                        'score',\r\n                        {\r\n                            'is-number': isScoreNumber\r\n                        }\r\n                    ])}\r\n                    data-score={this.props.score}\r\n                    data-grade={grade}\r\n                >\r\n                    {isScoreNumber\r\n                        ? (this.props.score as number) * 100\r\n                        : __('views.result.psi', this.props.score as string)}\r\n                </span>\r\n                <span className=\"title\">{this.props.title}</span>\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Switch;\r\n","export const wrapper = 'a10a17';export const css = '@-webkit-keyframes fade-in{.a10a17 0%{opacity:0}.a10a17 to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.a10a17 0%{opacity:0}.a10a17 to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.a10a17 .link-color-inherit{color:inherit;text-decoration:underline}.a10a17 html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.a10a17 .link-color-inherit:active,.a10a17 html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.a10a17{position:relative;padding-bottom:30px}.a10a17 .header,.a10a17 .item{display:-webkit-flex;display:flex;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;position:relative;border-bottom:1px solid var(--root-border-color)}.a10a17 .header>:first-child,.a10a17 .header>[data-column],.a10a17 .item>:first-child,.a10a17 .item>[data-column]{display:-webkit-flex;display:flex;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;align-items:center}.a10a17 .header>:first-child,.a10a17 .item>:first-child{-webkit-flex:1;flex:1;line-height:20px;padding:5px 8px 5px 30px}.a10a17 .header>[data-column],.a10a17 .item>[data-column]{-webkit-flex:0.1;flex:0.1;margin:0;font-size:12px;line-height:14px;border-left:1px solid var(--root-border-color);overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;padding:8px}.a10a17 .header>[data-column]:last-child,.a10a17 .item>[data-column]:last-child{padding-right:30px}.a10a17 .header>[data-column=contentLength],.a10a17 .item>[data-column=contentLength]{-webkit-flex-basis:6em;flex-basis:6em;-webkit-justify-content:flex-end;justify-content:flex-end}.a10a17 .header>[data-column=pageUrl],.a10a17 .header>[data-column=url],.a10a17 .item>[data-column=pageUrl],.a10a17 .item>[data-column=url]{-webkit-flex-basis:8em;flex-basis:8em}.a10a17 .header dl dt,.a10a17 .item dl dt{display:none}.a10a17 .header dl dd,.a10a17 .item dl dd{margin:0}.a10a17 .header{position:-webkit-sticky;position:sticky;z-index:5;background:var(--root-background-color-deeper);padding:8px 0;font-weight:bolder;top:50px;box-shadow:0 0 10px rgba(0,0,0,.25)}.a10a17 .item{word-break:break-all;overflow-wrap:break-word}.a10a17 .item:hover{z-index:2}.a10a17 .item:hover:after{content:\"\";position:absolute;top:0;bottom:0;left:0;right:0;background:var(--root-background-color-deeper);z-index:-1;-webkit-animation:fade-in-to-half-opacity .1s ease-out;animation:fade-in-to-half-opacity .1s ease-out;border-radius:inherit;opacity:.5}.a10a17 .header+.item{border-top:4px solid var(--root-border-color)}@media only screen and (max-width:759px){.a10a17 .header{display:none}.a10a17 .item{display:block;margin:20px 30px 0;border:1px solid var(--root-border-color);padding:14px;border-radius:5px;box-shadow:0 5px 5px -3px rgba(0,0,0,.1);transition-property:box-shadow}.a10a17 .item>:first-child,.a10a17 .item>[data-column]{display:block}.a10a17 .item>:first-child{padding:0;font-size:1.2em;line-height:1.5}.a10a17 .item>[data-column]{border-left:0;position:relative;display:-webkit-flex;display:flex;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;margin:0;font-size:14px;line-height:1.5;padding:8px 0 0}.a10a17 .item>[data-column].is-empty,.a10a17 .item>[data-column]:after,.a10a17 .item>[data-column]:empty{display:none}.a10a17 .item>[data-column] dt{display:block;text-align:right;clear:left;-webkit-flex:0;flex:0;white-space:nowrap;margin:0 1em 0 0}.a10a17 .item>[data-column] dd{display:block;margin:0;-webkit-flex:1;flex:1}.a10a17 .item:first-child{margin-top:0}.a10a17 .item:hover{box-shadow:0 10px 10px -5px rgba(0,0,0,.15)}.a10a17 .item:hover:after{content:none}.a10a17 .item>:first-child+[data-column]{padding-top:30px}.a10a17 .item>:first-child+[data-column]:before{content:\"\";position:absolute;top:13px;left:-14px;right:-14px;height:1px;background:var(--root-border-color);-webkit-flex:none;flex:none}.a10a17 .header+.item{margin-top:30px}}';export default{wrapper,css}","import { CrawlerError } from 'koot-diagnose/crawler';\r\n\r\nimport React from 'react';\r\nimport { extend } from 'koot';\r\nimport filesize from 'filesize';\r\nimport classNames from 'classnames';\r\n\r\nimport Empty from '../empty';\r\n\r\nimport styles from './index.module.less';\r\n\r\n// ============================================================================\r\n\r\nconst getColumns = (type: string): Array<string> => {\r\n    if (type === 'no gzip') return ['url', 'contentLength'];\r\n    if (type === 'console error') return ['message', 'url'];\r\n    if (type === 'broken request') return ['url', 'pageUrl'];\r\n    if (type === 'large file') return ['url', 'contentLength', 'pageUrl'];\r\n    if (type === 'common error') return ['message'];\r\n    return ['url'];\r\n};\r\ninterface ComponentProps {\r\n    errors: CrawlerError[];\r\n    type: string;\r\n}\r\n\r\n// Functional Component =======================================================\r\n\r\nconst Table = extend<ComponentProps>({\r\n    styles\r\n})(\r\n    React.memo(\r\n        ({ className, errors, type }): JSX.Element => {\r\n            if (!errors.length) return <Empty />;\r\n\r\n            if (__CLIENT__ && __DEV__) console.warn(errors);\r\n\r\n            return (\r\n                <div className={className}>\r\n                    <div className=\"header\">\r\n                        {getColumns(type).map((column, index) => (\r\n                            <div\r\n                                className=\"cell\"\r\n                                key={column}\r\n                                data-column={index ? column : undefined}\r\n                            >\r\n                                {__('views.result.table_columns', column)}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    {errors.map(error => (\r\n                        <Item error={error} key={error.id} />\r\n                    ))}\r\n                </div>\r\n            );\r\n        }\r\n    )\r\n);\r\n\r\nexport default Table;\r\n\r\n// ============================================================================\r\n\r\ninterface ItemProps {\r\n    key?: React.Key;\r\n    error: CrawlerError;\r\n}\r\nconst Item = React.memo(\r\n    ({ error }: ItemProps): JSX.Element => {\r\n        const getContent = (\r\n            column: string\r\n        ): JSX.Element | null | string | number => {\r\n            if (!error[column]) return null;\r\n            if (column === 'pageUrl' || column === 'url')\r\n                return (\r\n                    <a\r\n                        href={error[column]}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                    >\r\n                        {error[column]}\r\n                    </a>\r\n                );\r\n            if (column === 'contentLength')\r\n                return filesize(error.contentLength || 0);\r\n            return error[column];\r\n        };\r\n\r\n        const [main, ...columns] = getColumns(error.type || '');\r\n\r\n        return (\r\n            <div className=\"item\">\r\n                <div className=\"main\">\r\n                    {main === 'message' ? (\r\n                        <div className=\"msg\">{error.message}</div>\r\n                    ) : (\r\n                        <a\r\n                            href={error.url}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                        >\r\n                            {error.url}\r\n                        </a>\r\n                    )}\r\n                </div>\r\n                {columns.map(column => {\r\n                    const content = getContent(column);\r\n                    return (\r\n                        <dl\r\n                            className={classNames([\r\n                                'info',\r\n                                {\r\n                                    'is-empty': !content\r\n                                }\r\n                            ])}\r\n                            key={column}\r\n                            data-column={column}\r\n                        >\r\n                            <dt>{__('views.result.table_columns', column)}</dt>\r\n                            <dd>{getContent(column)}</dd>\r\n                        </dl>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n);\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport Icon from '@components/icon';\r\n\r\nimport { formOnSubmit } from './index';\r\nimport { wrapper as moduleClassName } from './index.module.less';\r\n\r\n//\r\n\r\ninterface FormProps extends React.InputHTMLAttributes<HTMLFormElement> {\r\n    onSubmit: formOnSubmit;\r\n}\r\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n    className?: string;\r\n    label?: string;\r\n    icon?: string;\r\n}\r\n\r\n//\r\n\r\n/**\r\n * 提交表单\r\n */\r\nconst Form = ({ onSubmit }: FormProps): JSX.Element => (\r\n    <form\r\n        action=\"/api/diagnose\"\r\n        method=\"get\"\r\n        onSubmit={onSubmit}\r\n        className={`${moduleClassName}-form`}\r\n    >\r\n        <div className=\"body\">\r\n            <Input\r\n                label={__('views.submit.labels.url')}\r\n                name=\"url\"\r\n                type=\"url\"\r\n                autoComplete=\"url\"\r\n                icon=\"sphere\"\r\n                placeholder=\"https://...\"\r\n                required={true}\r\n            ></Input>\r\n            <Input\r\n                label={__('views.submit.labels.email')}\r\n                name=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                icon=\"envelop2\"\r\n                placeholder=\"someone@web.site\"\r\n                required={true}\r\n            ></Input>\r\n        </div>\r\n        <button type=\"submit\">{__('views.submit.buttons.submit')}</button>\r\n    </form>\r\n);\r\nexport default Form;\r\n\r\n//\r\n\r\nconst inputClassName = `${moduleClassName}-input`;\r\nconst Input = ({\r\n    className,\r\n    label,\r\n    type = 'text',\r\n    icon,\r\n    ...props\r\n}: InputProps): JSX.Element => (\r\n    <label className={classNames([className, inputClassName])}>\r\n        <input className={`${inputClassName}-input`} type={type} {...props} />\r\n        {icon && (\r\n            <Icon\r\n                icon={icon}\r\n                className={`${inputClassName}-icon`}\r\n                title={label}\r\n            />\r\n        )}\r\n        {label && !icon && (\r\n            <span className={`${inputClassName}-label`}>{label}</span>\r\n        )}\r\n    </label>\r\n);\r\n","import __RES0 from \"E:/Projects/koot/koot-clinic/src/assets/logo.svg\";export const wrapper = 'ee9c49';export const css = '@-webkit-keyframes fade-in{.ee9c49 0%{opacity:0}.ee9c49 to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-to-half-opacity{.ee9c49 0%{opacity:0}.ee9c49 to{opacity:.5}}@keyframes fade-in-to-half-opacity{0%{opacity:0}to{opacity:.5}}.ee9c49 .link-color-inherit{color:inherit;text-decoration:underline}.ee9c49 html.is-hover .link-color-inherit:hover{color:#000;color:var(--root-accent-color-hover)}.ee9c49 .link-color-inherit:active,.ee9c49 html.is-hover .link-color-inherit:hover:active{color:#000;color:var(--root-accent-color-hover);opacity:.5}.ee9c49{display:-webkit-flex;display:flex;-webkit-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;width:100%;min-height:400px;height:100vh;font-size:15px;overflow-x:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#424242;background:radial-gradient(#0278b8 15%,transparent 16%) 0 0,radial-gradient(#0278b8 15%,transparent 16%) 8px 8px,radial-gradient(hsla(0,0%,100%,.1) 15%,transparent 20%) 0 1px,radial-gradient(hsla(0,0%,100%,.1) 15%,transparent 20%) 8px 9px;background-color:#0288d1;background-size:16px 16px}.ee9c49>.wrapper{max-width:480px;position:relative;z-index:10}.ee9c49 h1.logo{width:auto;height:100px;margin:0 auto 50px;color:transparent;background:url(\"' + __RES0 + '\") 50% 50% no-repeat;background-size:contain}.ee9c49 .result-background{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1}.ee9c49.mod-fail .result-background,.ee9c49.mod-success .result-background{-webkit-animation:fade-in 1s linear;animation:fade-in 1s linear}.ee9c49.mod-success .result-background{background:radial-gradient(#317c34 15%,transparent 16%) 0 0,radial-gradient(#317c34 15%,transparent 16%) 8px 8px,radial-gradient(hsla(0,0%,100%,.1) 15%,transparent 20%) 0 1px,radial-gradient(hsla(0,0%,100%,.1) 15%,transparent 20%) 8px 9px;background-color:#388e3c;background-size:16px 16px}.ee9c49.mod-fail .result-background{background:radial-gradient(#b22424 15%,transparent 16%) 0 0,radial-gradient(#b22424 15%,transparent 16%) 8px 8px,radial-gradient(hsla(0,0%,100%,.1) 15%,transparent 20%) 0 1px,radial-gradient(hsla(0,0%,100%,.1) 15%,transparent 20%) 8px 9px;background-color:#c72929;background-size:16px 16px}.ee9c49-form{display:block;border-radius:10px;overflow:hidden;position:relative}.ee9c49-form>.body{position:relative;z-index:2;background:#fff}.ee9c49-form button[type=submit]{display:block;width:100%;font-size:24px;margin:0;line-height:60px;color:#fff;text-decoration:none;padding:0 2em;border:2px solid #fff;border-top:0;border-radius:0 0 10px 10px;background:transparent;outline:0;box-shadow:inset 0 0 20px rgba(0,0,0,.15)}.ee9c49-form button[type=submit]:active,.ee9c49-form button[type=submit]:focus:not(:active),.ee9c49-form button[type=submit]:hover{background:rgba(1,54,83,.25)}.ee9c49-form button[type=submit]:active{background:rgba(0,21,32,.35)}.ee9c49-input{display:block;position:relative}.ee9c49-input .ee9c49-input-icon{display:block;pointer-events:none;position:absolute;width:24px;height:24px;top:50%;margin:-12px 0 0 12px}.ee9c49-input .ee9c49-input-input{display:block;border:0;outline:0;font-size:24px;height:60px;padding:0 22px 0 46px;width:100%}.ee9c49-input .ee9c49-input-input::-webkit-input-placeholder{color:currentColor;opacity:.25;font-style:italic}.ee9c49-input .ee9c49-input-input::-moz-placeholder{color:currentColor;opacity:.25;font-style:italic}.ee9c49-input .ee9c49-input-input:-ms-input-placeholder{color:currentColor;opacity:.25;font-style:italic}.ee9c49-input .ee9c49-input-input:-moz-placeholder{color:currentColor;opacity:.25;font-style:italic}.ee9c49-input .ee9c49-input-input:hover:not(:focus){background:#f9f9f9}.ee9c49-input .ee9c49-input-input:focus{background:#edf8ff;color:#01579b}.ee9c49-input .ee9c49-input-input:focus~.ee9c49-input-icon,.ee9c49-input .ee9c49-input-input:focus~.ee9c49-input-label{color:#01579b}.ee9c49-input+.ee9c49-input{border-top:2px solid #e6e6e6}.ee9c49-overlay{display:block;position:absolute;z-index:9999;top:150px;bottom:0;left:0;right:0;overflow:hidden;border-radius:10px}.ee9c49-overlay .loader,.ee9c49-overlay:after{left:50%;top:50%;position:absolute;-webkit-transform-origin:50% 50%;transform-origin:50% 50%}.ee9c49-overlay:after{content:\"\";background:#fff;width:960px;height:960px;margin:-480px 0 0 -480px;border-radius:50%;box-shadow:0 0 100px rgba(0,0,0,.25);z-index:-1}.ee9c49-overlay .loader{transition-property:opacity;width:100px;height:100px;margin:-50px 0 0 -50px;z-index:5;opacity:0;transition-duration:.5s}.ee9c49-overlay .loader:before{-webkit-animation-duration:1s;animation-duration:1s}.ee9c49-overlay .loader:after{display:none}.ee9c49-overlay .result{position:absolute;display:block;top:50%;left:0;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-animation:fade-in .3s ease-out;animation:fade-in .3s ease-out;-webkit-animation-delay:.3s;animation-delay:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;padding-left:84px;border-left:40px solid transparent;border-right:40px solid transparent}.ee9c49-overlay .result .icon{position:absolute;width:64px;height:64px;left:0;top:50%;margin-top:-32px}.ee9c49-overlay .result .msg,.ee9c49-overlay .result .title{display:block}.ee9c49-overlay .result .title{margin-top:4px;margin-bottom:17px;font-size:24px;line-height:24px}.ee9c49-overlay .result .msg{margin-top:0;font-size:15px;line-height:15px}.is-submitting .ee9c49-overlay .loader{-webkit-animation:scale-in .325s linear;animation:scale-in .325s linear;opacity:1}.is-submitting .ee9c49-overlay:after{-webkit-animation:scale-in .75s linear;animation:scale-in .75s linear}@-webkit-keyframes scale-in{.ee9c49 0%{-webkit-transform:scale(0);transform:scale(0)}.ee9c49 to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes scale-in{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}.mod-success .ee9c49-overlay .icon{fill:#4caf50}.mod-success .ee9c49-overlay .title{color:#4caf50}.mod-fail .ee9c49-overlay .icon{fill:#e53734}.mod-fail .ee9c49-overlay .title{color:#e53734}';export default{wrapper,css}","/**\r\n * 页面: 提交信息 (首页)\r\n */\r\n\r\nimport React from 'react';\r\nimport { extend, ExtendedProps } from 'koot';\r\nimport classNames from 'classnames';\r\nimport axios, { AxiosRequestConfig, Method } from 'axios';\r\n\r\nimport getTitle from '@utils/get-title';\r\nimport getDescription from '@utils/get-description';\r\n\r\nimport Center from '@components/center';\r\n\r\nimport styles from './index.module.less';\r\nimport Form from './form';\r\nimport Overlay from './overlay';\r\n\r\n//\r\n\r\nexport type formOnSubmit = (evt: React.FormEvent<HTMLFormElement>) => false;\r\n/**\r\n * 表单结果\r\n * - `undefined` 未提交\r\n * - `true` 提交成功\r\n * - `false` 提交失败，原因未知\r\n * - _string_ 提交失败的原因\r\n */\r\nexport type SubmitResult = undefined | true | false | string;\r\n\r\n//\r\n\r\ninterface ViewSubmitState {\r\n    /** 表单结果 */\r\n    result: SubmitResult;\r\n    /** 是否正在进行提交 */\r\n    submitting: boolean;\r\n}\r\n@extend({\r\n    pageinfo: () => ({\r\n        title: getTitle(),\r\n        metas: [{ description: getDescription() }]\r\n    }),\r\n    styles\r\n})\r\nclass ViewSubmit extends React.Component<ExtendedProps> {\r\n    state: ViewSubmitState = {\r\n        result: undefined,\r\n        submitting: false\r\n    };\r\n    onSubmit: formOnSubmit = evt => {\r\n        evt.preventDefault();\r\n\r\n        // 必要信息\r\n        const $form = evt.target as HTMLFormElement;\r\n        const method = $form.getAttribute('method');\r\n        const url = $form.getAttribute('action');\r\n        const data = new FormData($form);\r\n\r\n        // FormData -> params\r\n        interface Params {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            [key: string]: any;\r\n        }\r\n        const params: Params = {};\r\n        data.forEach((value, key) => {\r\n            params[key] = value;\r\n        });\r\n\r\n        // 提交\r\n        const axiosConfig: AxiosRequestConfig = {\r\n            url: url !== null ? url : undefined,\r\n            method: method as Method,\r\n            params\r\n        };\r\n        this.setState(\r\n            {\r\n                submitting: true\r\n            },\r\n            () => {\r\n                Promise.all([\r\n                    axios(axiosConfig),\r\n                    new Promise((resolve): void => {\r\n                        setTimeout(resolve, 1000);\r\n                    })\r\n                ]).then(([res]) => {\r\n                    // console.log({ $form, method, url, data, this: this, res });\r\n                    // 判断请求是否成功 & 获取请求结果\r\n                    if (\r\n                        !res ||\r\n                        typeof res !== 'object' ||\r\n                        typeof res.data !== 'object'\r\n                    ) {\r\n                        return this.setState({\r\n                            submitting: false,\r\n                            result: false\r\n                        });\r\n                    }\r\n\r\n                    this.setState({\r\n                        submitting: false,\r\n                        result: true\r\n                    });\r\n                });\r\n            }\r\n        );\r\n\r\n        //\r\n\r\n        return false;\r\n    };\r\n    render(): JSX.Element {\r\n        const hasResult = Boolean(typeof this.state.result !== 'undefined');\r\n        const isSubmittingOrHasResult = Boolean(\r\n            this.state.submitting || hasResult\r\n        );\r\n        return (\r\n            <div\r\n                className={classNames([\r\n                    this.props.className,\r\n                    {\r\n                        'is-submitting': this.state.submitting,\r\n                        'mod-success': this.state.result === true,\r\n                        'mod-fail':\r\n                            this.state.result === false ||\r\n                            typeof this.state.result === 'string'\r\n                    }\r\n                ])}\r\n            >\r\n                <Center className=\"wrapper\">\r\n                    <h1 className=\"logo\">Koot Clinic</h1>\r\n                    <Form onSubmit={this.onSubmit} />\r\n                    {isSubmittingOrHasResult && (\r\n                        <Overlay result={this.state.result} />\r\n                    )}\r\n                </Center>\r\n                {hasResult && <div className=\"result-background\" />}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default ViewSubmit;\r\n","import React from 'react';\r\n\r\nimport Icon from '@components/icon';\r\nimport LoaderSpinner from '@components/loaders/spinner';\r\n\r\nimport { SubmitResult } from './index';\r\nimport { wrapper as moduleClassName } from './index.module.less';\r\n\r\ninterface OverlayProps {\r\n    result: SubmitResult;\r\n}\r\n\r\nconst Overlay = ({ result }: OverlayProps): JSX.Element => (\r\n    <div className={`${moduleClassName}-overlay`}>\r\n        <LoaderSpinner className=\"loader\" />\r\n        {typeof result !== 'undefined' && (\r\n            <div className=\"result\">\r\n                <Icon className=\"icon\" icon=\"hour-glass3\" />\r\n                <h2 className=\"title\">\r\n                    {__('views.submit.submit_success.title')}\r\n                </h2>\r\n                <span className=\"msg\">\r\n                    {__('views.submit.submit_success.msg')}\r\n                </span>\r\n            </div>\r\n        )}\r\n    </div>\r\n);\r\n\r\nexport default Overlay;\r\n","module.exports = require(\"axios\");","module.exports = require(\"bind-event\");","module.exports = require(\"chalk\");","module.exports = require(\"classnames\");","module.exports = require(\"create-react-class\");","module.exports = require(\"ejs\");","module.exports = require(\"filesize\");","module.exports = require(\"fs-extra\");","module.exports = require(\"hoist-non-react-statics\");","module.exports = require(\"invariant\");","module.exports = require(\"is-url\");","module.exports = require(\"koa\");","module.exports = require(\"koa-better-http-proxy\");","module.exports = require(\"koa-mount\");","module.exports = require(\"marked\");","module.exports = require(\"md5\");","module.exports = require(\"path\");","module.exports = require(\"pretty-ms\");","module.exports = require(\"prop-types\");","module.exports = require(\"query-string\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-is\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router\");","module.exports = require(\"react-router-redux\");","module.exports = require(\"redux\");","module.exports = require(\"redux-thunk\");","module.exports = require(\"warning\");"],"sourceRoot":""}